# å­—èŠ‚ä¸€é¢

è‡ªæˆ‘ä»‹ç»

ä¸ºä»€ä¹ˆé€‰æ‹©å‰ç«¯

å®ä¹ è¿‡ç¨‹ä¸­æœ€éš¾ä¸Šæ‰‹çš„æˆ–è€…æœ€å¤§çš„éš¾ç‚¹æ˜¯ä»€ä¹ˆï¼ŸCORS



## **ğŸ“Œ 1ï¸âƒ£ å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆç»“åˆ React æ€§èƒ½ä¼˜åŒ–ã€SEOã€æ— é™æ»šåŠ¨ï¼‰**

### **æ ¸å¿ƒçŸ¥è¯†ç‚¹**

- **å¦‚ä½•ä¼˜åŒ– React æ€§èƒ½ï¼Ÿï¼ˆReact.memo, useMemo, useCallbackï¼‰**
- **SSR vs CSRï¼ŒSEO ä¼˜åŠ¿ï¼Ÿ**
- **å¦‚ä½•è¡¡é‡å‰ç«¯æ€§èƒ½ï¼ŸLighthouseï¼ˆLCPã€CLSã€FIDï¼‰**
- **å¦‚ä½•ç›‘æ§è¿™äº›æ€§èƒ½æŒ‡æ ‡ï¼Ÿï¼ˆPerformance APIã€Lighthouseï¼‰**
- **å¦‚ä½•å‡å°‘é¦–é¡µåŠ è½½æ—¶é—´ï¼Ÿï¼ˆLazy Loadingã€ä»£ç æ‹†åˆ†ã€Tree Shakingï¼‰**
- **React å¦‚ä½•è¿›è¡Œæ‰¹é‡æ›´æ–°ï¼Ÿï¼ˆè™šæ‹Ÿ DOMã€Concurrent Modeï¼‰**
- **å¦‚ä½•å®ç°æ— é™æ»šåŠ¨ï¼Ÿï¼ˆIntersection Observer, åˆ†é¡µåŠ è½½ï¼‰**

### **ç›¸å…³é¢è¯•é—®é¢˜**

- **é¡¹ç›®ä¸­ä¼šç”¨å“ªäº›æ–¹å¼è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Ÿ**
- **ä¸ºä»€ä¹ˆè¦åš SEO ä¼˜åŒ–ï¼Ÿå¯¹æ€§èƒ½æœ‰ä»€ä¹ˆå¸®åŠ©ï¼Ÿ**
- **é¢„æ¸²æŸ“é¢„å…ˆæ¸²æŸ“çš„æ˜¯ä»€ä¹ˆå†…å®¹ï¼Ÿ**
- **å¦‚ä½•è¡¡é‡ SSR è½¬æ¢åçš„æ€§èƒ½ä¼˜åŒ–ï¼Ÿ**
- **åœ¨ SSR é‡Œï¼Œå“ªä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå¯ä»¥æ“ä½œ localStorageï¼Ÿ**
- **SSR çš„å¡ç‚¹ï¼Œå¦‚ä½•åˆ¤æ–­å“ªäº›ä»£ç éœ€è¦ Polyfillï¼Ÿ**
- **å‰ç«¯æ€§èƒ½ä¼˜åŒ–å¦‚ä½•è¡¡é‡ï¼ŸLCPã€CLSã€FID æŒ‡æ ‡æ€ä¹ˆè®¡ç®—ï¼Ÿ**
- **å¦‚ä½•ä½¿ç”¨ Chrome Performance å·¥å…·åˆ†æé¡µé¢æ€§èƒ½ï¼Ÿ**
- **React çš„è™šæ‹Ÿ DOM å¯¹æ¯”çœŸå® DOMï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ**
- **å¦‚ä½•åœ¨ React é‡Œå®ç°æ— é™æ»šåŠ¨ï¼Ÿ**
- **åˆ†é¡µ & å»¶è¿ŸåŠ è½½å¦‚ä½•ä¼˜åŒ–é¦–é¡µåŠ è½½é€Ÿåº¦ï¼Ÿ**

------

## **ğŸ“Œ 2ï¸âƒ£ Web å®‰å…¨ & è®¤è¯ï¼ˆç»“åˆ JWTã€axios æ‹¦æˆªå™¨ã€Token ç®¡ç†ï¼‰**

### **æ ¸å¿ƒçŸ¥è¯†ç‚¹**

- **JWT è®¤è¯æµç¨‹**
- **Token å­˜å‚¨æ–¹å¼ï¼ˆLocalStorage vs Cookie vs Sessionï¼‰**
- **å¦‚ä½•åœ¨å‰åç«¯åˆ†ç¦»æ¶æ„ä¸‹ç®¡ç†èº«ä»½è®¤è¯ï¼Ÿ**
- **CORS è·¨åŸŸå¤„ç†**
- **axios æ‹¦æˆªå™¨çš„ä½œç”¨**
- **OAuth2 è®¤è¯æœºåˆ¶**

### **ç›¸å…³é¢è¯•é—®é¢˜**

- **JWT è®¤è¯çš„åŸç†ï¼Ÿ**
- **å¦‚ä½•å®‰å…¨åœ°åœ¨å‰ç«¯å­˜å‚¨ Tokenï¼Ÿ**
- **Cookieã€SessionStorageã€LocalStorage åŒºåˆ«ï¼Ÿ**
- **å¦‚ä½•åœ¨å‰ç«¯è¯·æ±‚ä¸­ä¼ é€’ Cookieï¼Ÿ**
- **axios æœ‰æ‹¦æˆªå™¨å—ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ**
- **å¦‚ä½•è§£å†³ CORS é—®é¢˜ï¼Ÿ**
- **å¦‚ä½•é˜²æ­¢ CSRF æ”»å‡»ï¼Ÿ**
- **Cookie çš„åº”ç”¨åœºæ™¯ï¼Ÿ**
- **å‰ç«¯å¦‚ä½•æ£€æŸ¥ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Ÿ**
- **è·¨åŸŸé—®é¢˜æœ‰å“ªäº›è§£å†³æ–¹æ¡ˆï¼Ÿ**
- **JSONP çš„å…·ä½“å®ç°ï¼Ÿ**

------

## **ğŸ“Œ 3ï¸âƒ£ Web éƒ¨ç½² & DevOpsï¼ˆç»“åˆ Docker, Nginx, CI/CDï¼‰**

### **æ ¸å¿ƒçŸ¥è¯†ç‚¹**

- **ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Dockerï¼Ÿ**
- **å‰åç«¯åˆ†åˆ«å®¹å™¨åŒ– vs ç»Ÿä¸€å®¹å™¨åŒ–**
- **Nginx åå‘ä»£ç†çš„ä½œç”¨**
- **CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²**
- **Git rebase vs merge**

### **ç›¸å…³é¢è¯•é—®é¢˜**

- **å‰ç«¯å¦‚ä½•ä½¿ç”¨ Docker è¿›è¡Œéƒ¨ç½²ï¼Ÿ**
- **å‰åç«¯å®¹å™¨åŒ–çš„åŒºåˆ«ï¼Ÿ**
- **Nginx åå‘ä»£ç†å¦‚ä½•é…ç½®ï¼Ÿ**
- **å¦‚ä½•åˆ©ç”¨ CI/CD å®ç°å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Ÿ**
- **Git rebase å’Œ merge çš„åŒºåˆ«ï¼Ÿ**
- **å¦‚ä½•ç”¨ Docker å®ç°æœ¬åœ°å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§ï¼Ÿ**
- **å¦‚ä½•è®© Docker å®¹å™¨é—´è¿›è¡Œé€šä¿¡ï¼Ÿ**
- **å¦‚ä½•ä¼˜åŒ– Docker é•œåƒä½“ç§¯ï¼Ÿ**

------

## **ğŸ“Œ 4ï¸âƒ£ JavaScript è¯­è¨€æ ¸å¿ƒ**

### **æ ¸å¿ƒçŸ¥è¯†ç‚¹**

- **Promise æœºåˆ¶**
- **äº‹ä»¶å¾ªç¯ï¼ˆå®ä»»åŠ¡ & å¾®ä»»åŠ¡ï¼‰**
- **this æŒ‡å‘é—®é¢˜**
- **é—­åŒ…çš„æ¦‚å¿µ**
- **ä½œç”¨åŸŸé“¾**
- **æ·±æ‹·è´ & æµ…æ‹·è´**
- **æ‰‹å†™ Promise.all**
- **æ‰‹å†™èŠ‚æµ & é˜²æŠ–**
- **V8 å¼•æ“è§£ææœºåˆ¶**

### **ç›¸å…³é¢è¯•é—®é¢˜**

- **Promise æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ**
- **å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ Promise å®ä¾‹ï¼Ÿ**
- **ä»‹ç» Promise.allã€Promise.race**
- **æ‰‹å†™ Promise.all**
- **æ‰‹å†™å¼‚æ­¥å¹¶è¡Œæ§åˆ¶**
- **ä»‹ç» JS äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼ˆå®ä»»åŠ¡ & å¾®ä»»åŠ¡ï¼‰**
- **åšé¢˜åˆ¤æ–­è¾“å‡ºï¼ˆäº‹ä»¶å¾ªç¯è€ƒå¯Ÿï¼‰**
- **this åœ¨ä¸åŒåœºæ™¯çš„æŒ‡å‘ï¼Ÿ**
- **å¦‚ä½•æ‰‹å†™æ•°ç»„æ‰å¹³åŒ–ï¼Ÿ**
- **æ‰‹å†™èŠ‚æµ & é˜²æŠ–å‡½æ•°**
- **V8 å¼•æ“çš„è§£ææµç¨‹ï¼Ÿ**
- **å¦‚ä½•å®ç° Object æ·±æ‹·è´ï¼Ÿ**
- **ES6 çš„è§£æ„èµ‹å€¼å’Œæ‰©å±•è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ**

------

## **ğŸ“Œ 5ï¸âƒ£ React è¿›é˜¶**

### **æ ¸å¿ƒçŸ¥è¯†ç‚¹**

- **React Fiber æ¶æ„**
- **React.memo, useMemo, useCallback çš„åŒºåˆ«**
- **ä¸ºä»€ä¹ˆ hooks ä¸èƒ½åœ¨æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯ä¸­ä½¿ç”¨ï¼Ÿ**
- **props ä¼ é€’æ•°æ®çš„åº•å±‚åŸç†**
- **React ä¸ºä»€ä¹ˆä¸ç”¨æ•°æ®åŠ«æŒï¼Ÿï¼ˆå¯¹æ¯” Vueï¼‰**
- **React ç»„ä»¶æ›´æ–°çš„è§¦å‘æœºåˆ¶**

### **ç›¸å…³é¢è¯•é—®é¢˜**

- **React Fiber æ¶æ„çš„æ ¸å¿ƒä¼˜åŒ–ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ**
- **ä¸ºä»€ä¹ˆ hooks ä¸èƒ½åœ¨æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯ä¸­ä½¿ç”¨ï¼Ÿ**
- **props çš„åº•å±‚å®ç°åŸç†ï¼Ÿ**
- **React ä¸ºä»€ä¹ˆé‡‡ç”¨è™šæ‹Ÿ DOMï¼Ÿ**
- **React.memoã€useMemoã€useCallback çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ**
- **å¦‚ä½•åœ¨ React ä¸­å®ç°ç»„ä»¶é€šä¿¡ï¼Ÿ**
- **React å’Œ Vue åœ¨çŠ¶æ€ç®¡ç†ä¸Šçš„åŒºåˆ«ï¼Ÿ**

------

## **ğŸ“Œ 6ï¸âƒ£ CSS & å‰ç«¯å¸ƒå±€**

### **æ ¸å¿ƒçŸ¥è¯†ç‚¹**

- **Flex å¸ƒå±€**
- **CSS å“åº”å¼è®¾è®¡**
- **Grid vs Flex çš„åŒºåˆ«**
- **CSS å˜é‡**
- **CSS é€‰æ‹©å™¨ & ä¼˜å…ˆçº§**
- **å¦‚ä½•ä½¿ç”¨ Web Component è¿›è¡Œç»„ä»¶åŒ–å¼€å‘ï¼Ÿ**

### **ç›¸å…³é¢è¯•é—®é¢˜**

- **Flex:1 å’Œ width:100% çš„åŒºåˆ«ï¼Ÿ**
- **ç”¨ Flex å®ç°ä¸¤æ å¸ƒå±€**
- **å¦‚ä½•å®ç°å“åº”å¼å¸ƒå±€ï¼Ÿ**
- **CSS å˜é‡çš„ä½œç”¨ï¼Ÿ**
- **CSS é€‰æ‹©å™¨ä¼˜å…ˆçº§å¦‚ä½•è®¡ç®—ï¼Ÿ**
- **ç›¸é‚»èŠ‚ç‚¹é€‰æ‹©å™¨ `+`ã€`~` çš„ä½œç”¨ï¼Ÿ**
- **å¦‚ä½•ç”¨ CSS å®ç°äº”å­æ£‹çš„æ–œçº¿å¸ƒå±€ï¼Ÿ**

------

## **ğŸ“Œ 7ï¸âƒ£ è®¡ç®—æœºç½‘ç»œ & æµè§ˆå™¨**

### **æ ¸å¿ƒçŸ¥è¯†ç‚¹**

- **HTTP vs HTTPS**
- **HTTP1.1ã€HTTP2ã€HTTP3 çš„åŒºåˆ«**
- **TCP å’Œ UDP çš„åŒºåˆ«**
- **è·¨åŸŸï¼ˆCORS, JSONPï¼‰**
- **æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼ˆå¼ºç¼“å­˜ & åå•†ç¼“å­˜ï¼‰**
- **DNS è§£æè¿‡ç¨‹**
- **è¾“å…¥ URL åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ**

### **ç›¸å…³é¢è¯•é—®é¢˜**

- **HTTP å’Œ HTTPS çš„åŒºåˆ«ï¼Ÿ**
- **è·¨åŸŸé—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿ**
- **TCP ç²˜åŒ…å¦‚ä½•å¤„ç†ï¼Ÿ**
- **å¦‚ä½•ä¼˜åŒ– DNS è§£æé€Ÿåº¦ï¼Ÿ**
- **æµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ**
- **å¦‚ä½•è¡¡é‡ç½‘ç«™çš„ç½‘ç»œæ€§èƒ½ï¼Ÿ**
- **è¾“å…¥ URL ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ**







è¯´ä¸€ä¸‹å¯¹promiseçš„ç†è§£

å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯promiseå®ä¾‹

ä»‹ç»promise.allï¼Œpromise.race

æ‰‹å†™å¼‚æ­¥å¹¶è¡Œæ§åˆ¶

ä»‹ç»jsäº‹ä»¶å¾ªç¯æœºåˆ¶ï¼ˆå¾®ä»»åŠ¡å®ä»»åŠ¡ï¼‰

åšé¢˜åˆ¤æ–­è¾“å‡ºï¼ˆè¿˜æ˜¯è€ƒäº‹ä»¶å¾ªç¯ï¼‰

axiosæœ‰è¿‡æ‹¦æˆªå™¨å—



JSONP çš„å…·ä½“å®ç°

session å’Œ cookie

interface å’Œ type çš„åŒºåˆ«

å¯¹ä¸€ä¸ªç»„ä»¶åŒæ—¶ä¿®æ”¹æ–‡å­—å’ŒèƒŒæ™¯ï¼Œä¼šä¸ä¼šå‡ºç°å…¶ä¸­ä¸€ä¸ªä¿®æ”¹æˆåŠŸï¼Œå¦ä¸€ä¸ªä¿®æ”¹å¤±è´¥è¢«ä¸­æ–­çš„æƒ…å†µ

ä¸ºä»€ä¹ˆ hooks ä¸èƒ½åœ¨æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯ä¸­ä½¿ç”¨

map å’Œå¯¹è±¡çš„åŒºåˆ«

çœ‹ä»£ç è¯´è¾“å‡ºï¼šthis æŒ‡å‘é—®é¢˜

æ‰‹æ’•ï¼šæ•°ç»„æ‰å¹³åŒ–

fiber æ¶æ„



å¦‚ä½•ç†è§£Web Componentï¼Œå¦‚ä½•å­¦ä¹ çš„ï¼Ÿ

ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“

SSRï¼Œå¯¹æ¯”CSRæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹

ç¬¬ä¸‰æ–¹åº“åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶è¿˜æœ‰å“ªäº›å…¼å®¹æ€§é—®é¢˜

åœ¨SSRä¸­è¿›è¡Œæ•°æ®å¤„ç†æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿæ¯”å¦‚æ­£åˆ™æˆ–è€…symbol

æ€§èƒ½ä¼˜åŒ–ä¸€èˆ¬ç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼å»è¡¡é‡ï¼Ÿï¼ˆåªç²—ç•¥åœ°è¯´äº†LCPï¼ŒCLSï¼ŒFIDï¼‰

æ€æ ·å»ç›‘æ§è¿™äº›æ€§èƒ½æŒ‡æ ‡å‘¢ï¼Ÿï¼ˆæ²¡æ·±å…¥äº†è§£è¿‡ï¼Œè¯´äº†lighthouseï¼‰

æœ‰ç”¨è¿‡æµè§ˆå™¨çš„Performanceå—ï¼Ÿï¼ˆæ²¡å¬è¿‡ï¼‰

é¡¹ç›®ä¸­ä¼šç”¨ä¸€äº›ä»€ä¹ˆæ ·çš„æ‰‹æ®µè¿›è¡Œæ€§èƒ½ä¼˜åŒ–å‘¢ï¼Ÿï¼ˆèŠäº†å®˜ç½‘SEOä¼˜åŒ–ï¼‰

ä¸ºä»€ä¹ˆè¦åšSEOä¼˜åŒ–ï¼Œæ˜¯åŸºäºä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿå¯¹æ€§èƒ½æœ‰ä»€ä¹ˆå¸®åŠ©å‘¢ï¼Ÿ

é¢„æ¸²æŸ“çš„è¯é¢„å…ˆæ¸²æŸ“çš„æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ

å›åˆ°SSRçš„é—®é¢˜ï¼Œä½ å°†é¡¹ç›®ä»CSRè½¬ä¸ºSSRåï¼Œå¦‚ä½•è¡¡é‡è¿™æ˜¯ä¸€æ¬¡æ€§èƒ½ä¼˜åŒ–è€Œä¸æ˜¯æ€§èƒ½åŠ£åŒ–å‘¢ï¼Ÿ

åœ¨SSRçš„é¡¹ç›®é‡Œé¢å“ªä¸€ä¸ªç”Ÿå‘½å‘¨æœŸé‡Œé¢å¯ä»¥æ“ä½œlocalStorageï¼Ÿ

SSRçš„å¡ç‚¹ï¼ŒSSRæ€ä¹ˆå»åˆ¤æ–­å“ªäº›ä»£ç è¦å»åšpolyfill

æ‰‹å†™åŠ›æ‰£åŸé¢˜æ—‹è½¬æ•°ç»„

è¿ç§»æ‰“åŒ…å·¥å…·é‡åˆ°äº†å“ªäº›é—®é¢˜ï¼Œæ€ä¹ˆè§£å†³çš„



varï¼Œconstï¼Œletçš„ä»£ç è¾“å‡ºé¢˜

ç”¨flexå®ç°äºŒæ å¸ƒå±€

flexï¼š1å’Œwidthï¼š100ï¼…åŒºåˆ«ï¼Œæ ·å¼è¡¨ç°æ˜¯ä»€ä¹ˆï¼Ÿ

å“åº”å¼å¸ƒå±€å¦‚ä½•å®ç°ï¼Ÿæœ‰å“ªäº›ç›¸å¯¹å•ä½ï¼Ÿ

ç”¨è¿‡CSSå˜é‡å—ï¼Ÿäº†è§£å¤šå°‘ï¼Ÿ

CSSé‡Œé¢æœ‰ä»€ä¹ˆé€‰æ‹©å™¨ï¼Ÿä¼˜å…ˆçº§è¯´ä¸€ä¸‹

ç›¸é‚»èŠ‚ç‚¹å¦‚ä½•é€‰æ‹©ï¼Ÿè¿˜æœ‰å“ªäº›æ“ä½œç¬¦ï¼Ÿ

document.querySelectorç”¨çš„ä»€ä¹ˆç®—æ³•ï¼Ÿ

é™¤äº†æ·±åº¦ä¼˜å…ˆï¼Œéå†ä¸€ä¸ªæ ‘è¿˜æœ‰ä»€ä¹ˆç®—æ³•ï¼Ÿ

ç®—æ³•é¢˜ï¼šlodash.get

ä»£ç è¾“å‡ºé¢˜ï¼Œç„¶ååŸºäºè¿™é“é¢˜é—®äº†åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹å„è‡ªåŒ…å«å“ªäº›ä»¥åŠåŒºåˆ«

ç®—æ³•ï¼šæ—‹è½¬æ•°ç»„

å‰ç«¯ç™»å½•çš„æ•´ä¸ªè¿‡ç¨‹ï¼ŒåŒ…æ‹¬tokenã€çŠ¶æ€ç­‰

ç™»å½•çŠ¶æ€çš„æ ¡éªŒæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ

cookieçš„åº”ç”¨åœºæ™¯

æƒ³ä¼ cookieåˆ°åç«¯å¦‚ä½•å®ç°

Reactä¸Vueçš„å¯¹æ¯”
Reactå’ŒVueéƒ½ä¼šæ‹†å‡ºå¾ˆå¤šç›¸å…³ä¾èµ–ï¼Œå¥½å¤„

ç„¶åå°±æ˜¯ä¸€äº›é¡¹ç›®å¼€å‘æ•´ä¸ªæµç¨‹é‡Œï¼Œå…·ä½“çš„ä¸€äº›é…ç½®å’Œéƒ¨ç½²
Eslintæ˜¯æ€ä¹ˆæ£€æŸ¥å‡ºä»£ç ä¸­ä¸è§„èŒƒçš„åœ°æ–¹
ä¸ºä»€ä¹ˆä½¿ç”¨è™šæ‹Ÿdom
Reactå’ŒVueçš„è™šæ‹Ÿdomçš„ä¸åŒ
Reactä¸ºä»€ä¹ˆä¸ç”¨æ•°æ®åŠ«æŒ
propså®ç°çš„åŸç†

æ‰‹æ’•new
promiseä»£ç è¾“å‡º
æ‰‹å†™èŠ‚æµå™¨

æ— é™æ»šåŠ¨å¦‚ä½•å®ç°

å›è°ƒåœ°ç‹±çš„è§£æ³•

windows.onload()

css: ç”¨flexå†™ä¸€ä¸ªäº”å­æ–œæ–¹å‘è¿çº¿çš„åœºæ™¯

httpå’Œhttpsçš„åŒºåˆ«...



ä¸»è¦ç”¨å“ªäº›Gitç‰ˆæœ¬ç®¡ç†æ“ä½œï¼Œå¯¹git Rebaseäº†è§£å¤šå°‘ï¼Ÿ

undefinedå’Œnullæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ€ä¹ˆæ£€æµ‹å®ƒä»¬ï¼Ÿ

å¯¹JSäº‹ä»¶å¾ªç¯æ˜¯å¦‚ä½•ç†è§£çš„ï¼Ÿ

Flexå¸ƒå±€å’ŒGridå¸ƒå±€æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

å®ç°åˆ¤æ–­ä¸¤ä¸ªobjectæ˜¯å¦ç›¸åŒï¼Œé˜è¿°ä¸€ä¸‹æ€è·¯ï¼ˆè¦æ±‚å°è¯•ç”¨é€’å½’æ–¹æ³•ï¼‰ï¼Ÿè¿™é‡Œæ˜¯æ·±æ‹·è´



è·¨åŸŸé—®é¢˜

httpçš„è¯·æ±‚å¤´ç›¸å…³çš„æ ‡è¯†å’Œç”¨é€”

è™šæ‹ŸDOMå¯¹æ¯”çœŸå®DOMæœ‰ä»€ä¹ˆä¼˜åŠ¿å—ï¼Ÿ

æ“ä½œè™šæ‹ŸDOMæ›´å¿«å‘¢è¿˜æ˜¯æ“ä½œçœŸå®DOMæ›´å¿«ï¼Ÿï¼ˆå¯¹äºè™šæ‹ŸDOMçš„ç†è§£è¿˜æ˜¯ä¸å¤Ÿé€å½»ï¼Œæ²¡ç†è§£å…¶æœ¬è´¨å’Œæ„ä¹‰ï¼Œé¢è¯•å®˜è¡¨ç¤ºéœ€è¦å†å­¦ä¹ ä¸€ä¸‹æ‰¹é‡æ›´æ–°ï¼‰

æ‰‹å†™è™šæ‹Ÿdomçš„ç»“æ„

æ‰‹å†™promise.all



### V8å¼•æ“

1. è§£æï¼šä»£ç â†’Tokenâ†’ASTï¼ˆæ³¨æ„è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æä¸¤æ­¥ï¼‰
2. è§£é‡Šæ‰§è¡Œï¼šIgnitionè§£é‡Šä»£ç ä¸ºå­—èŠ‚ç ï¼Œå¹¶æ”¶é›†çƒ­ç‚¹ä»£ç 
3. ç¼–è¯‘å™¨ï¼šTurboFanå°†çƒ­ç‚¹ä»£ç ä¼˜åŒ–è½¬ä¸ºæœºå™¨ç ï¼Œå¹¶ä¸”åœ¨çƒ­ç‚¹ä»£ç ç±»å‹è½¬å˜çš„æ—¶å€™åä¼˜åŒ–ï¼Œè¿™æ—¶å€™è¿˜æ¶‰åŠåˆ°éšè—ç±»å’Œå†…è”ç¼“å­˜è¿™ä¸¤ä¸ªçŸ¥è¯†ï¼Œéšè—ç±»å°±æ˜¯ç›¸åŒç»“æ„çš„å¯¹è±¡å¯ä»¥é€šè¿‡åç§»é‡å…±äº«åŒä¸€ä¸ªéšè—ç±»ï¼Œå†…è”ç¼“å­˜å¯ä»¥ç†è§£ä¸ºéšè—ç±»çš„åŠ é€Ÿå™¨ã€‚
4. å †å’Œå†…å­˜ï¼šè¿›è¡Œå†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶ï¼Œåƒåœ¾å›æ”¶åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ï¼Œæ–°ç”Ÿä»£é€šè¿‡from - toç®—æ³•æŠŠå­˜æ´»ä¸€æ¬¡ä»¥ä¸Šçš„ç§»åŠ¨åˆ°è€ç”Ÿä»£ï¼Œè€ç”Ÿä»£é€šè¿‡æ ‡è®°æ¸…é™¤é…åˆå¹¶è¡Œå›æ”¶å’Œå¢é‡å›æ”¶æå‡æ€§èƒ½ã€‚
5. æ ˆï¼šæ ˆè´Ÿè´£å‡½æ•°çš„ä¸Šä¸‹æ–‡å’Œå‚æ•°å¸§åˆ†é…ã€‚

### JSå¼‚æ­¥

å†è®²JSçš„å¼‚æ­¥ã€‚ç®€å•ä¸€ç‚¹çš„ä¼šè€ƒä¸€äº›ä»£ç è¾“å‡ºé¢˜ï¼Œéš¾ä¸€ç‚¹çš„ä¼šè®©ä½ è®²åŸç†ï¼Œæ‰‹å†™å®ç°ã€‚æ¯”å¦‚Promiseã€‚Promiseçš„æ‰‹å†™æ˜¯ä¸€å®šè¦ä¼šçš„ï¼Œå°±ç®—ä¸ä¼šå…¨éƒ¨æ‰‹å†™ä¹Ÿä¸€å®šè¦ä¼šå†™all, allSettled, any, raceã€‚å†æ¯”å¦‚async awaitï¼Œå®ƒä»¬æ˜¯æ€æ ·è®©ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä¸€æ ·çš„ï¼Ÿå†æ¯”å¦‚setTimeout, setIntervalã€‚é‚£å°±ä¸å¾—ä¸æåˆ°JSçš„äº‹ä»¶å¾ªç¯äº†ï¼Œä»Node.js 11+åNode.jsçš„äº‹ä»¶å¾ªç¯å°±å‘æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯å¯¹é½äº†ï¼Œæ‰€ä»¥è¿™é‡Œåªè®²æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯ã€‚åˆ†ä¸ºå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡ï¼Œåœ¨scriptæ ‡ç­¾æ‰§è¡Œå®Œä»¥åï¼Œå…ˆæ‰§è¡Œå¾®ä»»åŠ¡å†æ‰§è¡Œå®ä»»åŠ¡ã€‚å®ä»»åŠ¡æœ‰scriptæ ‡ç­¾(JSæ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€setImmediateã€I/Oã€UIäº¤äº’ã€‚å¾®ä»»åŠ¡æœ‰Promiseã€process.nextTick(Node.js)ã€MutaionObserverã€‚

### é—­åŒ…

è¿˜æœ‰é—­åŒ…ã€‚é—­åŒ…é‡è¦çš„æ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œä½œç”¨åŸŸé“¾è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œä»¥åŠä¼šç‰µæ‰¯åˆ°ç®­å¤´å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™å°±å¼•å‡ºäº†thisæŒ‡å‘ä»£ç è¾“å‡ºé¢˜ï¼Œè¿›ä¸€æ­¥å¼•å‡ºcall, apply, bindï¼Œä»¥åŠé—­åŒ…çš„åº”ç”¨ï¼šå‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œé˜²æŠ–èŠ‚æµã€‚æœ‰è¶£çš„æ˜¯è…¾è®¯äº‘é¢è¯•å®˜å¤è¯•æ—¶å€™é—®çš„æœ€åä¸€ä¸ªé—®é¢˜å°±æ˜¯å‡è®¾æˆ‘åœ¨è·Ÿäº§å“ç»ç†ä»‹ç»é—­åŒ…ï¼Œäº§å“ç»ç†ä¸æ‡‚ä»»ä½•æŠ€æœ¯ã€‚æˆ‘è¯´çš„ç­”æ¡ˆæ˜¯æˆ‘ä¹°äº†ä¸€äº›ç‰™åˆ·ï¼Œå¹³å¸¸æˆ‘è‡ªå·±çŸ¥é“è¿™äº›ç‰™åˆ·æˆ‘è¿˜æƒ³ä¸æƒ³ç”¨ï¼Œéšæ—¶å¯ä»¥ä¸¢ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæœ‹å‹æ¥åˆ°æˆ‘å®¶é‡Œç©ï¼Œç”¨äº†ä¸€æ¬¡ç‰™åˆ·åï¼Œæˆ‘ä¸ç¡®å®šæˆ‘çš„æœ‹å‹è¿˜ä¼šä¸ä¼šå†æ¥ç”¨ç‰™åˆ·ï¼Œæˆ‘å°±æš‚æ—¶ä¼šæŠŠç‰™åˆ·ç•™ä¸‹æ¥ï¼Œç›´åˆ°æœ‹å‹å‘Šè¯‰æˆ‘å¯ä»¥æŠŠç‰™åˆ·ä¸¢äº†ã€‚ç°åœ¨æƒ³æƒ³å¦‚æœæˆ‘è¯´çš„æ˜¯å®¶é‡Œçš„çˆ¸å¦ˆç•™ç€å­©å­çš„ä¸œè¥¿æ€•å­©å­å›æ¥è¿˜è¦ç”¨ï¼Œå¯èƒ½ä¼šæ›´æ„Ÿäººå“ˆå“ˆã€‚(å¯èƒ½ä¸¤ä¸ªæ•…äº‹å¯¹é½é—­åŒ…éƒ½æ˜¯é”™çš„ï¼Œè½»å–·)

### ES

å†å°±æ˜¯ESçš„å„ä¸ªç‰ˆæœ¬äº†ã€‚ES5çš„ä¸¥æ ¼æ¨¡å¼ã€æ•°ç»„çš„reduce, map, filteræ–¹æ³•ã€Json.stringifyå’ŒJson.parseä¸¤ä¸ªæ–¹æ³•ã€‚ES6æ¯”è¾ƒé‡è¦çš„é»˜è®¤å‚æ•°ã€æ¨¡ç‰ˆå­—ç¬¦ä¸²ã€ç®­å¤´å‡½æ•°ã€Promiseã€æ¨¡å—åŒ–ã€è§£æ„èµ‹å€¼ï¼Œå—çº§ä½œç”¨åŸŸã€symbolç­‰ç­‰ã€‚åé¢çš„ESç‰ˆæœ¬å°±ç”¨å¹´ä»½æ¥è®°å½•äº†ï¼Œæ¯”è¾ƒé‡è¦çš„æ˜¯ES2017çš„async awaitå’ŒES2020çš„å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶ã€‚

### TS

æˆ‘ä¹Ÿæ²¡ç”¨è¿‡ï¼Œé¢è¯•çš„æ—¶å€™éƒ½æ˜¯è¯´ç†è§£å€Ÿé‰´äº†Kotlinå’ŒJavaï¼Œå¼ºç±»å‹ï¼Œå¼•å…¥äº†æšä¸¾å’Œæ¥å£ç­‰ç­‰ï¼Œåœ¨åº•å±‚ç¼–è¯‘è¿˜æ˜¯ä¼šè½¬ä¸ºJSï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¿è¯å›¢é˜Ÿå¼€å‘çš„ä»£ç ç»“æ„ä»¥åŠè§„èŒƒæ€§ã€ä¸¥è°¨æ€§ã€‚

é‡ç‚¹å†™äº†æ‰“åŒ…å°±ä¼šèŠWebpackå’ŒViteã€‚è¿™ä¸ªæ—¶å€™å°±å›åˆ°è¯´é¡¹ç›®æ—¶å€™ç»™çš„å»ºè®®äº†ï¼Œä¸æ‡‚çš„åƒä¸‡åˆ«å†™ï¼

ç®€å•èŠä¸‹Viteï¼ŒViteåˆ†ä¸ºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒã€‚å¼€å‘ç¯å¢ƒä¸‹ä½¿ç”¨esbuildé¢„æ„å»ºä¾èµ– + åŸºäºESMçš„æŒ‰éœ€ç¼–è¯‘ï¼Œè€ŒWebpackéœ€æ‰“åŒ…æ•´ä¸ªBundleã€‚ç”Ÿäº§ç¯å¢ƒä¸‹Viteç”¨Rollupæ‰“åŒ…ï¼Œå’ŒWebpackä¸€æ ·æ”¯æŒTree Shakingï¼Œä½†é…ç½®æ›´ç®€æ´ã€‚è¿™é‡Œçš„Tree Shakingç¨å¾®å±•å¼€è®²è®²ï¼Œæ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­é™æ€åˆ†ææ¨¡å—ä¹‹é—´çš„å¯¼å…¥å¯¼å‡ºï¼Œåˆ é™¤æœªè¢«å…¶ä»–æ¨¡å—ä½¿ç”¨çš„å¯¼å‡ºå€¼ã€‚

## **è®¡ç®—æœºç½‘ç»œ**

è®¡ç®—æœºç½‘ç»œå¯ä»¥åˆ†ä¸ƒå±‚ç½‘ç»œæ¨¡å‹æˆ–äº”å±‚ç½‘ç»œæ¨¡å‹ã€‚å°±äº”å±‚ç½‘ç»œæ¨¡å‹æ¥è®²ï¼Œå‰ç«¯æ¥è§¦æœ€å¤šçš„è‚¯å®šå°±æ˜¯åº”ç”¨å±‚å’Œç½‘ç»œå±‚ã€‚æ‰€ä»¥æˆ‘ä»¬å°±åªèŠè¿™ä¸¤ä¸ªçš„çŸ¥è¯†ã€‚

### ç½‘ç»œå±‚

ç½‘ç»œå±‚å°±æ˜¯TCPå’ŒUDPåè®®ã€‚é¦–å…ˆè¦çŸ¥é“TCPå’ŒUDPçš„åŒºåˆ«ï¼Œä¸€ä¸ªé¢å‘è¿æ¥æ³¨é‡å¯é æ€§ï¼Œä¸€ä¸ªæ— è¿æ¥æ³¨é‡æ€§èƒ½ã€‚

#### TCP

å°±TCPçš„é¢å‘è¿æ¥å¯é æ€§æ¥åˆ‡å…¥ï¼Œå¦‚ä½•å®ç°å®ƒçš„å¯é æ€§ï¼Œæ˜¯æ•´ä¸ªç½‘ç»œå±‚æœ€å¸¸è€ƒåˆ°çš„ç‚¹ã€‚TCPçš„å¯é æ€§é€šè¿‡ä¿è¯è¿æ¥ï¼Œä¿è¯åŒ…çš„é¡ºåºï¼Œä¿è¯ä¸ä¸¢åŒ…è¿™ä¸‰ä¸ªç‚¹æ¥åˆ‡å…¥ã€‚ç¬¬ä¸€ä¸ªä¿è¯è¿æ¥å°±æ˜¯é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹å®ç°ï¼Œç¬¬äºŒä¸ªä¿è¯åŒ…çš„é¡ºåºé€šè¿‡åŒ…ä½“ç¼–å·æ¥å®ç°ï¼Œç¬¬ä¸‰ä¸ªä¸ä¸¢åŒ…é€šè¿‡é‡ä¼ æœºåˆ¶æ¥å®ç°ã€‚ç†è§£äº†è¿™ä¸ªï¼ŒWebSocketä¸ºä»€ä¹ˆè¦ç”¨TCPç›´æ¥ç­”å› ä¸ºå…¶å¯é æ€§ï¼ŒHTTP3çš„QUICå¦‚ä½•å®ç°UDPçš„å¯é æ€§çš„æ—¶å€™ï¼Œç…§æ ·ä»è¿™TCPå¯é æ€§ä¸‰ä¸ªç‚¹åˆ‡å…¥å°±å¯ä»¥äº†ã€‚

#### UDP

ä¸»è¦æ˜¯å®ç°å¯é æ€§ï¼Œçœ‹ä¸Šä¸€å¥è¯å°±è¡Œã€‚

#### TCPç²˜åŒ…é—®é¢˜å¤„ç†

ä¸‰ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§ç‰¹æ®Šç¬¦å·åˆ’åˆ†ï¼Œæ¯”å¦‚1234%nsisdn%né€šè¿‡%nåˆ’åˆ†ï¼Œç¬¬äºŒç§å›ºå®šé•¿åº¦å‘åŒ…ï¼Œç¬¬ä¸‰ç§åŒ…å¤´å­˜å‚¨åŒ…ä½“é•¿åº¦ã€‚å„è‡ªçš„å±€é™æ€§å¯ä»¥è‡ªå·±å»æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚

### åº”ç”¨å±‚

åº”ç”¨å±‚å°±æ˜¯HTTPå’ŒHTTPSã€‚

#### HTTP

ä¸»è¦æœ‰getã€postã€putã€deleteã€optionsç­‰ã€‚æœ‰æ—¶é—®åˆ°getå’ŒpoståŒºåˆ«ï¼Œè®¾è®¡ä¸Šæ¥è®²getè¦å®ç°å¹‚ç­‰æ€§ï¼Œpostä¸æå€¡å®ç°å¹‚ç­‰æ€§ã€‚optionsé€šå¸¸ç”¨äºè·¨åŸŸè¯·æ±‚ä½œé¢„æ£€ã€‚é‡è¦çš„æ˜¯HTTP1.0ã€1.1ã€2.0ã€3.0è¿™å››ä¸ªç‰ˆæœ¬ï¼Œä¸€å®šè¦è®²æ¸…æ¥šï¼Œè®²å‡ºè‡ªå·±çš„ç†è§£ã€‚ä¸çŸ¥é“æœ‰æ²¡æœ‰çœ‹è¿‡åæ—¥ç»ˆç„‰çš„å°ä¼™ä¼´ï¼Œé½å¤ä»ç‡•çŸ¥æ˜¥é‚£é‡Œå­¦åˆ°å¯ä»¥é€šè¿‡è®°åè¯æ¥è½»æ¾èƒŒä¸‹æ•´ä¸ªçŸ¥è¯†ï¼ŒèƒŒå…«è‚¡çš„æ—¶å€™å¾ˆå®ç”¨ã€‚æ¯”å¦‚HTTP1.0çŸ­è¿æ¥ï¼ŒHTTP1.1é•¿è¿æ¥ã€ç¼“å­˜æ§åˆ¶ã€æ–­ç‚¹é‡ä¼ ï¼ŒHTTP2.0å¤´éƒ¨å‹ç¼©ã€äºŒè¿›åˆ¶åˆ†å¸§ã€å¤šè·¯å¤ç”¨ã€æœåŠ¡å™¨æ¨é€ï¼ŒHTTP3.0    QUICè§£å†³å¤šè·¯å¤ç”¨ã€‚å½“ä½ ä¸€ä¸ªä¸ªå»çœ‹å®Œäº†è¿™äº›åè¯å¯¹åº”çš„å«ä¹‰åï¼Œä½ é€šè¿‡èƒŒåè¯çš„æ–¹å¼å°±å¯ä»¥å›å¿†æ•´ä¸ªçŸ¥è¯†äº†ã€‚

#### HTTPS

HTTPSå’ŒHTTPçš„åŒºåˆ«å¯ä¸æ˜¯å¤æ•°ï¼ˆbushiï¼‰ï¼ŒHTTPSæ˜¯HTTPç»è¿‡SSLæˆ–TLSå››æ¬¡æ¡æ‰‹ç”Ÿäº§å¯¹ç§°å¯†é’¥è¿›è¡ŒåŠ å¯†é€šä¿¡ï¼Œå››æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹å¯ä»¥å»bç«™çœ‹ä¸‹å°ç™½debugä¸»é¡µï¼ŒçŸ­è§†é¢‘çš„æ–¹å¼ï¼Œè®²çš„å¾ˆæœ‰è¶£ä¸”ç”ŸåŠ¨ã€‚

### å…¶ä»–

#### æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶

æ‹¥å¡æ§åˆ¶æ˜¯å¯¹æ•´ä¸ªå¤–éƒ¨ç½‘ç»œç¯å¢ƒè¿›è¡Œåˆ¤æ–­ï¼Œé¿å…å‘é€åˆ°ç½‘ç»œä¸­çš„æ•°æ®è¿‡å¤šï¼Œé€šè¿‡å››ä¸ªç®—æ³•ï¼šæ…¢å¯åŠ¨ï¼Œæ‹¥å¡é¿å…ï¼Œå¿«æ¢å¤ï¼Œå¿«é‡ä¼ å®ç°ã€‚æµé‡æ§åˆ¶æ˜¯ç‚¹å¯¹ç‚¹ï¼Œé¿å…è®¾å¤‡ä¹‹é—´å‘é€å’Œæ¥æ”¶èƒ½åŠ›ä¸å¯¹ç­‰ï¼Œé€šè¿‡æ»‘åŠ¨çª—å£æ¥å¯¹é½è®¾å¤‡ä¹‹é—´çš„æ¥æ”¶èƒ½åŠ›ã€‚

#### å¸¸è§çš„çŠ¶æ€ç 

2å¼€ä»£è¡¨æˆåŠŸï¼Œ3å¼€ä»£è¡¨é‡å®šå‘æˆ–è€…ç¼“å­˜æ§åˆ¶ï¼Œ4å¼€ä»£è¡¨å®¢æˆ·ç«¯é”™è¯¯ï¼Œ5å¼€ä»£è¡¨æœåŠ¡ç«¯é”™è¯¯ï¼Œå¸¸è§çš„æ˜¯200ã€301ã€302ã€304ã€400ã€401ã€403ã€404ã€500ã€‚



## æµè§ˆå™¨

æµè§ˆå™¨çš„çŸ¥è¯†ä¸»è¦åˆ†ä¸ºæ¸²æŸ“å’Œç¼“å­˜æ§åˆ¶ä»¥åŠè·¨åŸŸå¤„ç†ï¼š

### æ¸²æŸ“

æ¸²æŸ“å°±æ˜¯é—®çš„æ¯”è¾ƒå¤šçš„è¾“å…¥ä¸€ä¸ªurlåˆ°æ˜¾ç¤ºæœ‰ä»€ä¹ˆæµç¨‹ã€‚è€ƒè¿™ä¸ªçš„ç›®çš„æ˜¯é’ˆå¯¹æ•´ä¸ªæµè§ˆå™¨æ¸²æŸ“çš„æµç¨‹å¯ä»¥åšå¾ˆå¤šäº‹ï¼Œæ¯”å¦‚é’ˆå¯¹ç½‘ç»œå±‚é¢ï¼ŒHTTPåšä¼˜åŒ–ï¼Œé’ˆå¯¹æ¸²æŸ“çš„é‡ç»˜é‡æ’åšä¼˜åŒ–ç­‰ç­‰ã€‚è¿˜éœ€è¦æ³¨æ„çš„æ˜¯DNSè§£æå¯ä»¥è¯´çš„ç»†ä¸€ç‚¹ï¼Œä¼šæå‡ä¸€ç‚¹å¥½æ„Ÿåº¦ï¼Œæ¯”å¦‚ç»è¿‡æ ¹åŸŸåæœåŠ¡å™¨ã€é¡¶çº§åŸŸåæœåŠ¡å™¨ã€æƒå¨åŸŸåæœåŠ¡å™¨è¿™ä¸‰å±‚DNSåŸŸåæœåŠ¡å™¨ï¼Œè·å–åˆ°IPåœ°å€ã€‚

### ç¼“å­˜æ§åˆ¶

ç¼“å­˜æ§åˆ¶å°±æ˜¯åå•†ç¼“å­˜å’Œå¼ºç¼“å­˜ï¼Œè¯·æ±‚å¤´çš„ä¼˜å…ˆçº§æ˜¯cache-control>expires>If-none-match>if-since-modifiedï¼Œå‰ä¸¤ä¸ªè¯·æ±‚å¤´æ¥è‡ªå¼ºç¼“å­˜ï¼Œåä¸¤ä¸ªæ¥è‡ªåå•†ç¼“å­˜ï¼Œæ‰€ä»¥ä¼˜å…ˆä½¿ç”¨å¼ºç¼“å­˜ï¼Œå¼ºç¼“å­˜å¤±æ•ˆä½¿ç”¨åå•†ç¼“å­˜å¹¶ä¸”if-none-matchå¯¹åº”å“åº”å¤´e-Tagï¼Œif-since-modifiedå¯¹åº”å“åº”å¤´last-modifiedï¼Œlast-modifiedä¼˜å…ˆçº§è¾ƒä½çš„åŸå› æ˜¯æ—¶é—´ä½œä¸ºæ ‡è¯†çš„è¯å®¹æ˜“å¯¹ä¸€äº›åŒæ—¶æ›´æ–°çš„ç¼“å­˜é€ æˆè¯¯åˆ¤ã€‚è€Œe-Tagä½œä¸ºå”¯ä¸€æ ‡è¯†ä¼˜å…ˆçº§è‡ªç„¶å°±è¦é«˜ã€‚æ€»ä½“æµç¨‹å°±æ˜¯è®¿é—®å¼ºç¼“å­˜ï¼ŒæˆåŠŸè¿”å›200çŠ¶æ€ç ï¼Œç¼“å­˜è¿‡æœŸåˆ™åå•†ç¼“å­˜ï¼Œåå•†ç¼“å­˜æ²¡è¿‡æœŸåˆ™è¿”å›200çŠ¶æ€ç ï¼Œè¿‡æœŸäº†åˆ™è¿”å›æ–°ç¼“å­˜å¹¶è¿”å›çŠ¶æ€ç 304ã€‚

### è·¨åŸŸ

è·¨åŸŸä¸€èˆ¬å°±æ˜¯åç«¯é…ç½®å°±å¥½äº†ï¼Œgetè¯·æ±‚å¯ä»¥é€šè¿‡JSONPå®ç°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±å¼„ä¸ªæœåŠ¡å™¨ä½œè½¬å‘ï¼Œæƒ³ç†è§£çš„æ›´æ·±è‡ªå·±è§£å†³ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚







# å·¥ä½œç»å†







# åç«¯

## **1ï¸âƒ£ Express.js (Node.js)**

### **ğŸ“Œ å¼€å‘æµç¨‹**

1. **åˆå§‹åŒ– Express é¡¹ç›®**ï¼ˆåˆ›å»ºæœåŠ¡å™¨ã€é…ç½®ä¸­é—´ä»¶ï¼‰ã€‚
2. é€‰æ‹©æ•°æ®åº“ ORM
   - **Mongoose**ï¼ˆé€‚ç”¨äº MongoDBï¼‰ï¼šSchema-basedï¼Œæ–‡æ¡£å‹æ•°æ®åº“ï¼Œç›´æ¥æ“ä½œ JSON æ•°æ®ã€‚
   - **Prisma**ï¼ˆé€‚ç”¨äº MySQL/PostgreSQL/MongoDBï¼‰ï¼šç±»å‹å®‰å…¨çš„ ORMï¼Œæ›´ç°ä»£åŒ–ï¼Œæ”¯æŒæ•°æ®åº“è¿ç§»ï¼ˆç±»ä¼¼ Djangoï¼‰ã€‚
3. è¿æ¥æ•°æ®åº“
   - Mongoose ç›´æ¥åœ¨åº”ç”¨ä¸­è¿æ¥ MongoDB å¹¶å®šä¹‰ Schemaã€‚
   - Prisma éœ€è¦å…ˆå®šä¹‰ Schemaï¼Œç„¶åè¿è¡Œ `migrate` åˆ›å»ºæ•°æ®åº“è¡¨ã€‚
4. **åˆ›å»ºè·¯ç”±å’Œæ§åˆ¶å™¨**ï¼Œå¤„ç† CRUD è¯·æ±‚ï¼ˆ`GET`ã€`POST`ã€`PUT`ã€`DELETE`ï¼‰ã€‚
5. é€šè¿‡ Model è¿›è¡Œæ•°æ®åº“æ“ä½œ
   - Mongoose é€šè¿‡ `.save()` / `.find()` æ–¹æ³•æŸ¥è¯¢å’Œä¿®æ”¹æ•°æ®ã€‚
   - Prisma é€šè¿‡ `prisma.user.findMany()` è¿›è¡ŒæŸ¥è¯¢ï¼ŒåŸºäº SQL è¯­æ³•æ“ä½œæ•°æ®åº“ã€‚

### **Mongoose vs Prisma**

| **å¯¹æ¯”é¡¹**      | **Mongoose (MongoDB)**       | **Prisma (SQL/MongoDB)**              |
| --------------- | ---------------------------- | ------------------------------------- |
| **æ•°æ®åº“ç±»å‹**  | é€‚ç”¨äº NoSQL (MongoDB)       | é€‚ç”¨äº SQL & MongoDB                  |
| **Schema æ–¹å¼** | Schema-based                 | å¼ºç±»å‹ Schema                         |
| **æŸ¥è¯¢æ–¹å¼**    | ç±»ä¼¼ MongoDB è¯­æ³• (`find()`) | æ›´è´´è¿‘ SQL (`prisma.user.findMany()`) |
| **æ•°æ®åº“è¿ç§»**  | ç›´æ¥ä¿®æ”¹ Schema              | `prisma migrate` ç”Ÿæˆè¿ç§»æ–‡ä»¶         |
| **é€‚ç”¨åœºæ™¯**    | é€‚åˆ JSON æ•°æ®å­˜å‚¨           | é€‚åˆç»“æ„åŒ–æ•°æ®                        |

## **2ï¸âƒ£ Spring Boot (Java)**

### **ğŸ“Œ å¼€å‘æµç¨‹**

1. **åˆ›å»º Spring Boot é¡¹ç›®**ï¼Œé…ç½® `application.properties` è¿æ¥æ•°æ®åº“ã€‚
2. ä½¿ç”¨ Spring Data JPA è¿›è¡Œæ•°æ®åº“æ“ä½œ
   - JPA æ˜¯ Java çš„ ORM è§„èŒƒï¼ŒSpring Boot é»˜è®¤ç”¨ Hibernate å®ç°ã€‚
3. **å®šä¹‰ `Entity`ï¼ˆæ•°æ®åº“æ¨¡å‹ï¼‰**ï¼Œç”¨ `@Entity` æ ‡æ³¨ã€‚
4. åˆ›å»º `Repository` è®¿é—®æ•°æ®åº“
   - Spring Data JPA æä¾› `JpaRepository`ï¼Œè‡ªåŠ¨å®ç° `findAll()`ã€`save()` ç­‰æ“ä½œã€‚
5. **åˆ›å»º `Service` å±‚** å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨ `Repository`ã€‚
6. **åœ¨ `Controller` å±‚æš´éœ² REST API**ï¼Œå¤„ç† HTTP è¯·æ±‚ã€‚
7. **ä½¿ç”¨ DTOï¼ˆæ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰** åœ¨ `Controller` å’Œ `Service` ä¹‹é—´ä¼ é€’æ•°æ®ã€‚

### **ğŸ“Œ DTO åœ¨ Spring Boot ä¸­çš„ä½œç”¨**

- DTOï¼ˆData Transfer Objectï¼‰

   ä¸»è¦ç”¨äºï¼š

  - é˜²æ­¢ç›´æ¥æš´éœ²æ•°æ®åº“ `Entity`ï¼ˆå®‰å…¨æ€§ï¼‰ã€‚
  - è¿›è¡Œæ•°æ®æ ¼å¼è½¬æ¢ï¼ˆä¾‹å¦‚ `UserDTO` åªè¿”å› `id` å’Œ `name`ï¼Œä¸è¿”å› `password`ï¼‰ã€‚
  - é™ä½ `Controller` å±‚å’Œ `Service` å±‚çš„è€¦åˆåº¦ã€‚

### **ğŸ“Œ DTO æœºåˆ¶**

- è½¬æ¢ä½ç½®

  ï¼šé€šå¸¸åœ¨ 

  Service å±‚

   è¿›è¡Œ 

  ```
  Entity â†’ DTO
  ```

   è½¬æ¢ï¼š

  - `Controller` åªè´Ÿè´£æ¥æ”¶ `DTO`ï¼Œç„¶åè°ƒç”¨ `Service` è¿›è¡Œå¤„ç†ã€‚
  - `Service` å¤„ç†å®Œä¸šåŠ¡é€»è¾‘åï¼Œå°† `Entity` è½¬æ¢ä¸º `DTO` å†è¿”å›ã€‚

- è½¬æ¢æ–¹å¼

  - æ‰‹åŠ¨è½¬æ¢ï¼ˆä½¿ç”¨æ„é€ å‡½æ•°ï¼‰ã€‚
  - ä½¿ç”¨ **MapStruct** è‡ªåŠ¨è½¬æ¢ï¼ˆæ›´é«˜æ•ˆï¼‰ã€‚

âœ… **Spring Boot é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼ŒDTO ä¸»è¦ç”¨äº `Controller â†’ Service` ä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œé¿å…ç›´æ¥æš´éœ²æ•°æ®åº“æ¨¡å‹ã€‚**

------

## **3ï¸âƒ£ Django (Python)**

### **ğŸ“Œ å¼€å‘æµç¨‹**

1. **åˆ›å»º Django é¡¹ç›®**ï¼Œé…ç½® `settings.py` è¿æ¥æ•°æ®åº“ï¼ˆæ”¯æŒ MySQL/PostgreSQL/SQLiteï¼‰ã€‚
2. ä½¿ç”¨ Django ORM å®šä¹‰ `Model`ï¼ˆæ•°æ®åº“è¡¨ï¼‰
   - Django ORM ç›´æ¥æ˜ å°„æ•°æ®åº“è¡¨ï¼Œä¸éœ€è¦æ‰‹å†™ SQLã€‚
3. **è¿è¡Œ `migrate` å‘½ä»¤ï¼Œåˆ›å»ºæ•°æ®åº“è¡¨**ï¼ˆç±»ä¼¼ Prismaï¼‰ã€‚
4. åˆ›å»º `View` å¤„ç† HTTP è¯·æ±‚
   - Django **åŸºäº MTV ç»“æ„**ï¼ˆModel-Template-Viewï¼‰ï¼ŒView è´Ÿè´£æ¥æ”¶è¯·æ±‚ã€è°ƒç”¨ Model å¤„ç†æ•°æ®ã€è¿”å› Responseã€‚
5. åˆ›å»º `Serializer`ï¼ˆåºåˆ—åŒ–å™¨ï¼‰
   - Django REST Framework (DRF) éœ€è¦ `Serializer` è¿›è¡Œ `Model â†’ JSON` è½¬æ¢ã€‚
6. **ä½¿ç”¨ `ViewSet` + `Router` è‡ªåŠ¨ç”Ÿæˆ REST API**ï¼Œæ”¯æŒ CRUD æ“ä½œã€‚

### **ğŸ“Œ Django ORM è¿ç§»**

- Django é€šè¿‡ 

  ```
  migrate
  ```

   è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“è¡¨ï¼š

  - å®šä¹‰ `Model` åï¼Œè¿è¡Œ `python manage.py makemigrations`ã€‚
  - è¿è¡Œ `python manage.py migrate` æ‰§è¡Œè¿ç§»ï¼Œåˆ›å»ºæ•°æ®åº“è¡¨ã€‚

âœ… **Django çš„ `migrate` è¿‡ç¨‹å’Œ Prisma ç±»ä¼¼ï¼Œå®šä¹‰ Schema åè‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“ç»“æ„ï¼Œè€Œ Spring Boot ä¾èµ– Hibernate è‡ªåŠ¨ç®¡ç†è¡¨ç»“æ„ã€‚**

------

## **4ï¸âƒ£ Express vs Spring Boot vs Django å¯¹æ¯”**

| **å¯¹æ¯”é¡¹**     | **Express (Node.js)**      | **Spring Boot (Java)**               | **Django (Python)**         |
| -------------- | -------------------------- | ------------------------------------ | --------------------------- |
| **é€‚ç”¨æ•°æ®åº“** | MongoDB, MySQL, PostgreSQL | MySQL, PostgreSQL                    | MySQL, PostgreSQL, SQLite   |
| **ORM æ–¹å¼**   | Mongoose / Prisma          | Hibernate (JPA)                      | Django ORM                  |
| **æ•°æ®åº“è¿ç§»** | Mongooseï¼šæ‰‹åŠ¨å˜æ›´         | Hibernate è‡ªåŠ¨æ›´æ–°                   | `migrate` è‡ªåŠ¨åˆ›å»º          |
| **åˆ†å±‚æ¶æ„**   | çµæ´»                       | MVCï¼ˆController-Service-Repositoryï¼‰ | MTVï¼ˆModel-Template-Viewï¼‰  |
| **DTO ä½¿ç”¨**   | âŒ é€šå¸¸ä¸ä½¿ç”¨               | âœ… `Service` å±‚è½¬æ¢ `Entity â†’ DTO`    | âœ… `Serializer` å¤„ç†æ•°æ®è½¬æ¢ |
| **é€‚ç”¨åœºæ™¯**   | è½»é‡çº§ APIï¼Œå¿«é€Ÿå¼€å‘       | å¤§å‹ä¼ä¸šçº§åº”ç”¨ï¼Œå¼ºä¸šåŠ¡é€»è¾‘           | å¿«é€Ÿå¼€å‘æ•°æ®é©±åŠ¨åº”ç”¨        |
| **å¼€å‘æˆæœ¬**   | ä½ï¼ˆJavaScript ç®€å•ï¼‰      | é«˜ï¼ˆJava å­¦ä¹ æˆæœ¬é«˜ï¼‰                | é€‚ä¸­ï¼ˆPython æ˜“å­¦ï¼‰         |
| **æ€§èƒ½**       | é«˜ï¼ˆå¼‚æ­¥å¤„ç†ï¼‰             | é«˜ï¼ˆå¼ºå¤§ç”Ÿæ€ï¼‰                       | é€‚ä¸­ï¼ˆDjango è‡ªå¸¦å°è£…ï¼‰     |

------

## **5ï¸âƒ£ å“ªç§æŠ€æœ¯é€‚åˆä»€ä¹ˆåœºæ™¯ï¼Ÿ**

| **åœºæ™¯**                                        | **æ¨èæŠ€æœ¯**                 | **ç†ç”±**                                             |
| ----------------------------------------------- | ---------------------------- | ---------------------------------------------------- |
| **å®æ—¶åº”ç”¨ï¼ˆWebSocket, Chat, Live Streamingï¼‰** | **Express + MongoDB**        | Express + Node.js **å¼‚æ­¥å¤„ç†èƒ½åŠ›å¼º**ï¼Œé€‚åˆé«˜å¹¶å‘åº”ç”¨ |
| **ä¼ä¸šçº§åº”ç”¨ï¼ˆé‡‘èã€ç”µå•†ã€ERPï¼‰**               | **Spring Boot + PostgreSQL** | Spring Boot **åˆ†å±‚æ¶æ„æ¸…æ™°ï¼Œæ€§èƒ½é«˜ï¼Œæ”¯æŒäº‹åŠ¡**       |
| **æ•°æ®é©±åŠ¨åº”ç”¨ï¼ˆCMSã€åšå®¢ã€æ–°é—»ï¼‰**             | **Django + PostgreSQL**      | Django ORM **ç®€å•æ˜“ç”¨ï¼Œé€‚åˆåå°ç®¡ç†ç³»ç»Ÿ**            |
| **éœ€è¦ SQL æ•°æ®æŸ¥è¯¢ä¼˜åŒ–**                       | **Prisma / Hibernate**       | Prisma **ç±»å‹å®‰å…¨**ï¼ŒHibernate **æ”¯æŒå¤æ‚å…³ç³»æ˜ å°„**  |
| **å¿«é€Ÿå¼€å‘ MVP**                                | **Express / Django**         | é€‚åˆå°å‹é¡¹ç›®ï¼ŒDjango **è‡ªå¸¦ Adminï¼Œå¼€å‘å¿«**          |



# å‰ç«¯é¢è¯•é¢˜

# React

## **1.What is React?** (SPA, SSR)

An **open-source front-end JavaScript library** developed by **Facebook**. It facilitates building **reusable UI components** for complex and interactive web and mobile interfaces. **SPA**



**React æœ¬èº«é»˜è®¤ä¸æ”¯æŒ SSR**ï¼Œä½†å¯ä»¥ä½¿ç”¨ **Next.js å®ç° SSR/SSG**ã€‚

**React Router ä»ç„¶å±äº SPA è§£å†³æ–¹æ¡ˆ**ï¼Œå› ä¸ºå®ƒä¸ä¼šè®©æµè§ˆå™¨è¯·æ±‚æ–°çš„ HTML é¡µé¢ã€‚

**React åªæœ‰åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æˆ–å¤š HTML é¡µé¢ç»“æ„æ—¶ï¼Œä¸å†æ˜¯ä¸¥æ ¼çš„ SPA**ã€‚

**Next.js æ˜¯ä¸€ä¸ªæ›´å¼ºå¤§çš„è§£å†³æ–¹æ¡ˆï¼Œé€‚ç”¨äº SEO å‹å¥½å’Œæ›´å¿«åŠ è½½çš„éœ€æ±‚**ã€‚



## **2.What are the main features of React?**

The major features of React are:

- Uses **JSX** syntax, a syntax extension of JS that allows developers to write HTML in their JS code.
- It uses **Virtual DOM** instead of Real DOM considering that Real DOM manipulations are expensive.
- Supports **server-side rendering** which is useful for Search Engine Optimizations(SEO).
- Follows **Unidirectional or one-way** data flow or data binding.
- Uses **reusable/composable** UI components to develop the view.



## 3.What is the difference between DOM and Virtual DOM?

Virtual DOM is an in-memory representation of real DOM. When there are some updates, react calculates differences and updating only the necessary parts of the actual DOM.



**Virtual DOMï¼ˆè™šæ‹Ÿ DOMï¼‰** æ˜¯ React ç”¨æ¥ä¼˜åŒ–é¡µé¢æ›´æ–°çš„æŠ€æœ¯ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

1ï¸âƒ£ **åˆ›å»ºå‰¯æœ¬**ï¼šReact åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ª **è™šæ‹Ÿçš„ DOM ç»“æ„**ï¼Œå°±åƒæ˜¯ç°å® DOM çš„å½±å­ã€‚
2ï¸âƒ£ **æ‰¾ä¸åŒ**ï¼šå½“çŠ¶æ€ï¼ˆstateï¼‰æˆ–æ•°æ®ï¼ˆpropsï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReact ä¼šæ¯”è¾ƒ **æ–°çš„ Virtual DOM å’Œ æ—§çš„ Virtual DOM**ï¼Œæ‰¾å‡ºå˜åŒ–çš„åœ°æ–¹ã€‚
3ï¸âƒ£ **æœ€å°æ›´æ–°**ï¼šReact åªä¿®æ”¹ **çœŸæ­£å˜äº†çš„éƒ¨åˆ†**ï¼Œä¸ä¼šé‡æ–°æ¸²æŸ“æ•´ä¸ªé¡µé¢ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚

**ğŸ” ä¸¾ä¸ªä¾‹å­ï¼š**

- **ä¼ ç»Ÿ DOM**ï¼šåƒä¿®æ”¹ Word æ–‡æ¡£ï¼Œæ¯æ¬¡éƒ½é‡æ–°ä¿å­˜æ•´ä¸ªæ–‡ä»¶ã€‚
- **Virtual DOM**ï¼šåƒä¿®æ”¹ Google Docs é‡Œçš„æ–‡å­—ï¼Œåªæ”¹åŠ¨å¿…è¦çš„éƒ¨åˆ†ï¼Œå…¶ä»–åœ°æ–¹ä¸å˜ã€‚



## 4.What are props and state?

State is an **object** that **holds dynamic data** specific to a **component**. Unlike props, state is mutable(å¯å˜) and managed within the component, allowing for interactive and dynamic user interfaces.  **useState hook** onClick to trigger setState and re-render the component.

React é‡‡ç”¨ **å•å‘æ•°æ®æµï¼ˆUnidirectional Data Flowï¼‰**ï¼Œå³æ•°æ®çš„æµåŠ¨æ–¹å‘å§‹ç»ˆæ˜¯ **è‡ªä¸Šè€Œä¸‹**ï¼š

- **çˆ¶ç»„ä»¶ â†’ å­ç»„ä»¶**ï¼šé€šè¿‡ `props` ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶**ä¸èƒ½ä¿®æ”¹ props**ã€‚
- **ç»„ä»¶å†…éƒ¨**ï¼šä½¿ç”¨ `state` ç»´æŠ¤è‡ªå·±çš„æ•°æ®ã€‚
- **å­ç»„ä»¶ â†’ çˆ¶ç»„ä»¶**ï¼šä¸èƒ½ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„ `state`ï¼Œéœ€è¦**å›è°ƒå‡½æ•°**ï¼ˆcallbackï¼‰ã€‚

**åœ¨ JSX ä¸­ï¼Œ`{}` å«**ï¼š**Curly Braces**ï¼ˆå¤§æ‹¬å·ï¼‰

`{}`**å¯ä»¥è¡¨ç¤º**ï¼š

- **å¯¹è±¡ï¼ˆObjectï¼‰**ï¼šå¦‚ `{ name: "Percy", age: 25 }`
- **è§£æ„èµ‹å€¼ï¼ˆDestructuringï¼‰**ï¼šå¦‚ `const { name } = person;`
- **JSX è¡¨è¾¾å¼ï¼ˆJSX Expressionï¼‰**ï¼šå¦‚ `<h1>{title}</h1>`

çˆ¶ç»„ä»¶ â†’ å­ç»„ä»¶

```jsx
function Child({ message }) { // é€šè¿‡ props è¯»å–æ•°æ®
    return <h2>{message}</h2>;
}

function Parent() {
    return <Child message="Hello from Parent" />; // é€šè¿‡ props ä¼ é€’
}
```

å­ç»„ä»¶ â†’ çˆ¶ç»„ä»¶  callback function

```jsx
function Child({ updateMessage }) {
    return <button onClick={() => updateMessage("Updated from Child")}>Click Me</button>;
}

function Parent() {
    const [message, setMessage] = useState("Initial Message");

    return (
        <div>
            <h2>{message}</h2>
            <Child updateMessage={setMessage} /> {/* ä¼ é€’æ›´æ–°æ–¹æ³• */}
        </div>
    );
}
```



## 5.What are the advantages of JSX?

JSX stands for JavaScript XML. It's a syntax extension for JavaScript that **allows writing HTML-like code within JavaScript files**, making the code **more readable** and **easier to write**.



## 6.Can browser read a JSX File? What is Babel?

No, browsers cannot directly read JSX because it is not standard JavaScript. JSX needs to be **transpiled** by Babel **into JavaScript** before execution. **Babel is a JavaScript compiler** that converts JSX into Reactâ€™s `createElement()` function calls.



**æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¯»å– JSX**ï¼Œå› ä¸º JSX ä¸æ˜¯æ ‡å‡†çš„ JavaScriptï¼Œè€Œæ˜¯ React æä¾›çš„è¯­æ³•æ‰©å±•ã€‚

**Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨**ï¼Œå®ƒèƒ½å°† JSX **è½¬æ¢ä¸ºæ ‡å‡†çš„ JavaScript**ï¼Œä½¿æµè§ˆå™¨å¯ä»¥ç†è§£ã€‚

```jsx
const element = <h1>Hello, World!</h1>;
```

Babel =>

```js
const element = React.createElement("h1", null, "Hello, World!");
```



## 7.How do you iterate over a list in JSX? 

JSX uses the `map()` method to iterate over lists and render multiple components. The `map()` method applies a function to each array element and returns a new array. When rendering lists, React requires **a unique `key` prop** for each element to optimize re-rendering.





## 8.What are spread operator?

The spread operator (`...`) is used in JavaScript and JSX to **copy, merge, or pass properties** efficiently. It allows objects or arrays to be expanded into individual elements. In React, it is commonly used for passing props dynamically to components.

The spread operator is like decoding the copied object and merge it into a new one.

æ‰©å±•è¿ç®—ç¬¦ï¼ˆSpread Operatorï¼‰... è¿™ä¸‰ä¸ªç‚¹ç”¨äºå±•å¼€æ•°ç»„ã€å¯¹è±¡æˆ–å‡½æ•°å‚æ•°



## 9.What are the types conditional rendering in JSX?

```jsx
{isLoggedIn ? <Dashboard /> : <Login />}
```

```jsx
{notifications.length > 0 && <p>You have notifications!</p>}
```

Ternary operator && if-else, switch-case



## 10.What are React Components?

React components are **reusable, independent UI building blocks** that define structure, logic, and styles.
They are of two types:

- **Functional Components**: Simple functions returning JSX.
- **Class Components**: Extend `React.Component` and include state and lifecycle methods.

Functional components are preferred in modern React due to hooks and better performance.



## 11.What are higher-order components (HOCs) in React?

HOCs are functions that **take a component and return a new component** with added functionality. Example:

```jsx
function withLogger(WrappedComponent) {
    return function(props) {
        console.log("Rendering", WrappedComponent.name);
        return <WrappedComponent {...props} />;
    };
}
```



## 12.What are the advantages and disadvantages of React?

âœ… **Advantages of React:**

1. **Component-Based Architecture** â€“ Encourages reusability and maintainability.
2. **Virtual DOM Optimization** â€“ Improves rendering performance by minimizing real DOM updates.
3. **Unidirectional Data Flow** â€“ Ensures predictable state management.
4. **Strong Ecosystem** â€“ Includes Redux, React Router, and Next.js for various use cases.
5. **React Hooks** â€“ Enhances functional components with state and side-effects.
6. **Supports Server-Side Rendering (SSR)** â€“ Improves SEO and initial page load speed.
7. **Cross-Platform Development** â€“ React Native enables mobile app development with shared logic.

âŒ **Disadvantages of React:**

1. **Steep Learning Curve** â€“ Requires understanding JSX, Hooks, Redux, and Context API.
2. **Focuses Only on UI** â€“ Needs additional libraries for state management and routing.
3. **Frequent Updates** â€“ New features and API changes can make maintenance difficult.
4. **SEO Challenges** â€“ Requires Next.js or pre-rendering for better SEO.
5. **JSX Can Be Confusing** â€“ Mixing HTML with JavaScript may be difficult for beginners.



#### **âœ… React çš„ä¼˜ç‚¹**

1ï¸âƒ£ **ç»„ä»¶åŒ–ï¼ˆComponent-Basedï¼‰**ï¼šReact é‡‡ç”¨ç»„ä»¶åŒ–å¼€å‘ï¼Œæé«˜ä»£ç çš„å¯å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
2ï¸âƒ£ **è™šæ‹Ÿ DOMï¼ˆVirtual DOMï¼‰ä¼˜åŒ–æ€§èƒ½**ï¼šå‡å°‘çœŸå® DOM æ“ä½œï¼Œæé«˜æ¸²æŸ“æ•ˆç‡ã€‚
3ï¸âƒ£ **å•å‘æ•°æ®æµï¼ˆUnidirectional Data Flowï¼‰**ï¼šæ•°æ®ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶ï¼Œæœ‰åŠ©äºç®¡ç†çŠ¶æ€ï¼Œå‡å°‘ bugã€‚
4ï¸âƒ£ **å¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿ**ï¼šæ‹¥æœ‰ Reduxã€React Routerã€Next.js ç­‰å·¥å…·ï¼Œé€‚ç”¨äºå„ç§åº”ç”¨åœºæ™¯ã€‚
5ï¸âƒ£ **React Hooks**ï¼šæä¾› `useState`ã€`useEffect` ç­‰é’©å­ï¼Œä½¿å‡½æ•°ç»„ä»¶å¯ä»¥ç®¡ç†çŠ¶æ€å’Œå‰¯ä½œç”¨ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚
6ï¸âƒ£ **æ”¯æŒ SSRï¼ˆæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼‰**ï¼šé€šè¿‡ **Next.js** å¯ä»¥å®ç° SEO å‹å¥½çš„ SSRï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚
7ï¸âƒ£ **è·¨å¹³å°ï¼ˆReact Nativeï¼‰**ï¼šå¯ä»¥ç”¨ç›¸åŒçš„ä»£ç é€»è¾‘å¼€å‘ç§»åŠ¨ç«¯åº”ç”¨ï¼ŒèŠ‚çœå¼€å‘æˆæœ¬ã€‚

#### **âŒ React çš„ç¼ºç‚¹**

1ï¸âƒ£ **å­¦ä¹ æ›²çº¿é™¡å³­**ï¼šéœ€è¦æŒæ¡ JSXã€Hooksã€Reduxã€Context API ç­‰æ¦‚å¿µï¼Œæ–°æ‰‹ä¸Šæ‰‹æœ‰ä¸€å®šéš¾åº¦ã€‚
2ï¸âƒ£ **åªå…³æ³¨ UI**ï¼šä¸åƒ Angular æ˜¯å®Œæ•´çš„æ¡†æ¶ï¼ŒReact åªè´Ÿè´£è§†å›¾å±‚ï¼Œéœ€è¦é¢å¤–ä½¿ç”¨ Reduxã€MobX ç­‰å·¥å…·ç®¡ç†çŠ¶æ€ã€‚
3ï¸âƒ£ **é¢‘ç¹æ›´æ–°**ï¼šReact ç”Ÿæ€å‘å±•å¿«ï¼ŒAPI å˜åŒ–é¢‘ç¹ï¼Œå¯èƒ½å¯¼è‡´æ—§é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚
4ï¸âƒ£ **SEO éœ€è¦é¢å¤–ä¼˜åŒ–**ï¼šReact æœ¬èº«æ˜¯ SPAï¼ŒSEO ä¸å¤ªå‹å¥½ï¼Œéœ€è¦ SSRï¼ˆå¦‚ Next.jsï¼‰æ¥ä¼˜åŒ–ã€‚
5ï¸âƒ£ **JSX å¯èƒ½è®©åˆå­¦è€…å›°æƒ‘**ï¼šä¸åƒ HTML ç»“æ„æ¸…æ™°ï¼ŒJSX å°† HTML å’Œ JavaScript ç»“åˆï¼Œå¯èƒ½ä¼šè®©å‰ç«¯å¼€å‘è€…æ„Ÿåˆ°ä¸é€‚åº”ã€‚



## 13.What is the difference between React, Angular and Vue?

**Key Differences Between React, Angular, and Vue:**

| **Feature**        | **React** (Library)                | **Angular** (Framework)              | **Vue.js** (Progressive)                     |
| ------------------ | ---------------------------------- | ------------------------------------ | -------------------------------------------- |
| **Developed by**   | Facebook                           | Google                               | Evan You (Independent)                       |
| **Type**           | UI Library (View Layer)            | Full MVC Framework                   | Progressive Framework                        |
| **Core Concepts**  | Components, Hooks, Virtual DOM     | Modules, Two-Way Binding, DI         | Components, Directives, Two-Way Binding      |
| **Data Flow**      | **Unidirectional**                 | **Two-Way Binding**                  | **Two-Way by default**                       |
| **Performance**    | Virtual DOM (Efficient)            | Real DOM (Slower)                    | Virtual DOM (Fast)                           |
| **Learning Curve** | **Medium** (JSX + Hooks)           | **High** (TypeScript + Complex)      | **Easy** (HTML + Vue Syntax)                 |
| **Ecosystem**      | Redux, Next.js, React Router       | Built-in tools (Complete)            | Vuex, Vue Router                             |
| **Best for**       | **Large web apps, cross-platform** | **Enterprise apps, complex systems** | **Small/medium projects, quick development** |

ğŸš€ **Summary:**

- **React** is flexible and ideal for large-scale applications.
- **Angular** is a full-featured framework, suitable for enterprise applications.
- **Vue** is easy to learn and great for smaller projects with fast development needs.



## 14.Lifecycle of React

React components go through **three lifecycle phases**: **Mounting, Updating, and Unmounting**.

1ï¸âƒ£ **Mounting (When the component is created and inserted into the DOM)**

- `constructor()`: Initializes state.
- `render()`: Returns JSX.
- `componentDidMount()`: Used for API calls and event listeners.

2ï¸âƒ£ **Updating (When state or props change)**

- `shouldComponentUpdate()`: Controls re-rendering.
- `render()`: Re-renders UI.
- `componentDidUpdate()`: Used for side effects like fetching data.

3ï¸âƒ£ **Unmounting (When the component is removed from the DOM)**

- `componentWillUnmount()`: Cleans up event listeners, timers, etc.



## **15.What is the significance of keys in React lists?**

Keys help React identify which items have changed, been added, or removed. They improve performance by enabling efficient re-rendering of lists. Keys should be unique and stable, such as using item IDs.



## 16.**What is the Context API in React?**

The Context API allows data sharing between components without **prop drilling**. It provides a **global state**:

```jsx
const ThemeContext = React.createContext();
<ThemeContext.Provider value="dark">
    <Component />
</ThemeContext.Provider>
```

It is useful for sharing **themes, user authentication, and language preferences** across deeply nested components.



## 17.How to setup react project?

```
npm create-react-app
```

Slower build times, not optimized for production.

```
npm create vite@latest
```

**Faster Hot Module Replacement (HMR).**

**Optimized for modern ESModules.**

```
npx create-next-app@latest 
```

Supports **SSR, SSG, and API routes**.

Better **performance and SEO**.

```
Manual setup (For advanced users)
```

Install Webpack, Babel, and configure `webpack.config.js`



## 18.CommonJS vs ESModule

**CommonJS (CJS)** is the default module system in Node.js. It uses `require()` and `module.exports`.

**ESModule (ESM)** is the modern JavaScript standard, using `import` and `export`. It is used in **both browsers and modern Node.js projects**.



âœ… **CommonJS vs ESModule å¯¹æ¯”**

| **å¯¹æ¯”é¡¹**       | **CommonJS (CJS)** | **ESModule (ESM)** |
| ---------------- | ------------------ | ------------------ |
| **ä½¿ç”¨ç¯å¢ƒ**     | Node.js            | Node.js & æµè§ˆå™¨   |
| **å¼•å…¥æ–¹å¼**     | `require()`        | `import`           |
| **å¯¼å‡ºæ–¹å¼**     | `module.exports`   | `export`           |
| **æ˜¯å¦æ”¯æŒå¼‚æ­¥** | âŒ ä»…åŒæ­¥åŠ è½½       | âœ… æ”¯æŒå¼‚æ­¥åŠ è½½     |

ğŸ“Œ **ä»€ä¹ˆæ—¶å€™ç”¨ ESMï¼Ÿ**

- **å‰ç«¯ React/Next.js/Vite é¡¹ç›®**
- **ç°ä»£ Node.js é¡¹ç›®ï¼ˆNode 14+ æ”¯æŒ `import`ï¼‰**

ğŸ“Œ **ä»€ä¹ˆæ—¶å€™ç”¨ CJSï¼Ÿ**

- **è€çš„ Node.js é¡¹ç›®**
- **npm åº“é»˜è®¤ä½¿ç”¨ CJS**



## 19.What is npm? What is the role of node_modules folder?

npm (Node Package Manager) is the default package manager for Node.js. It helps install, update, and manage JavaScript dependencies.

**What is the role of the `node_modules` folder?**

- Stores all installed dependencies and their sub-dependencies.
- Essential for running the project, but can be deleted and restored using `npm install`.



## 20.How React App load and display the components in browser?

1ï¸âƒ£ **HTML loads JavaScript**

- The `index.html` file contains `<div id="root"></div>`, where React renders components.

2ï¸âƒ£ **React renders components**

- `index.js` mounts `<App />` inside `#root`.
- `App.js` renders child components.

3ï¸âƒ£ **Virtual DOM updates efficiently**

- React compares the new Virtual DOM with the previous one and updates only the necessary parts.



**åŠ è½½è¿‡ç¨‹æ€»ç»“**

1. `index.html` åŠ è½½ JavaScript ä»£ç ã€‚
2. `index.js` æŒ‚è½½ React ç»„ä»¶åˆ° `#root`ã€‚
3. `App.js` ç»„ä»¶æ¸²æŸ“å¹¶è°ƒç”¨å­ç»„ä»¶ã€‚
4. **å½“ `state` æˆ– `props` å˜åŒ–æ—¶ï¼ŒReact æ›´æ–° Virtual DOM å¹¶åŒæ­¥çœŸå® DOMã€‚**



## 21.What is fragment in React?

**What are fragments in React?**
Fragments let you group elements without adding extra nodes to the DOM:

```jsx
<>
    <h1>Title</h1>
    <p>Description</p>
</>
```



## 22.Prettier and ESLint

âœ… **What is Prettier?** Prettier is an **automatic code formatter** that ensures consistent code style. It does not check for syntax errors, only formatting.

âœ… **What is ESLint?** ESLint is a **linting tool** that checks for syntax errors and enforces coding standards. It helps maintain code quality and can be configured with rules.

ğŸ“Œ **Key Differences:**

- **Prettier** focuses on formatting.
- **ESLint** detects errors and enforces rules.

ğŸš€ **They can be used together for best coding practices.**



âœ… **Prettierï¼ˆä»£ç æ ¼å¼åŒ–å·¥å…·ï¼‰**

- **è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç **ï¼Œç¡®ä¿é£æ ¼ç»Ÿä¸€ï¼ˆæ¯”å¦‚ 2/4 ç©ºæ ¼ã€å•åŒå¼•å·ï¼‰ã€‚
- **ä¸æ£€æŸ¥è¯­æ³•é”™è¯¯ï¼Œåªç®¡ä»£ç é£æ ¼**ã€‚
- é€‚ç”¨äº **Reactã€Vueã€Node.js** ç­‰å„ç§é¡¹ç›®ã€‚

âœ… **ESLintï¼ˆä»£ç è§„èŒƒæ£€æŸ¥å·¥å…·ï¼‰**

- **æ£€æŸ¥ JavaScript ä»£ç ä¸­çš„é”™è¯¯**ï¼ˆå¦‚æœªå®šä¹‰å˜é‡ï¼‰ã€‚
- **æ”¯æŒä»£ç é£æ ¼è§„åˆ™ï¼ˆå¦‚ Airbnbã€Standard è§„åˆ™ï¼‰**ã€‚
- **å¯ä»¥å’Œ Prettier ç»“åˆä½¿ç”¨**ï¼Œç¡®ä¿æ ¼å¼å’Œè¯­æ³•è§„èŒƒã€‚



## **23.What is React Router, and why is it used?**

React Router enables navigation in React apps without full-page reloads:

```jsx
<BrowserRouter>
    <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
    </Routes>
</BrowserRouter>
```



## 24.**How do you optimize performance in a React application?**

- Use **React.memo** to prevent unnecessary renders.
- Optimize expensive calculations with `useMemo()`.
- Use `useCallback()` to memoize functions.
- Implement **lazy loading** for components.



**1ï¸âƒ£ ä½¿ç”¨ `React.memo` é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“**

**ğŸ“Œ è§£é‡Š**

é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact ç»„ä»¶åœ¨ **çˆ¶ç»„ä»¶æ›´æ–°** æ—¶ï¼Œå­ç»„ä»¶ **ä¹Ÿä¼šé‡æ–°æ¸²æŸ“**ï¼Œå³ä½¿ `props` æ²¡æœ‰å˜åŒ–ã€‚
âœ… **`React.memo` è®©ç»„ä»¶åªåœ¨ `props` å‘ç”Ÿå˜åŒ–æ—¶æ‰é‡æ–°æ¸²æŸ“**ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚

```jsx
import React, { useState, memo } from "react";

// æ™®é€šç»„ä»¶ï¼ˆä¸ä½¿ç”¨ memoï¼‰
const NormalComponent = ({ count }) => {
    console.log("NormalComponent rendered");
    return <h2>Count: {count}</h2>;
};

// ä½¿ç”¨ React.memo è¿›è¡Œä¼˜åŒ–
const MemoizedComponent = memo(({ count }) => {
    console.log("MemoizedComponent rendered");
    return <h2>Count: {count}</h2>;
});

function App() {
    const [count, setCount] = useState(0);
    const [text, setText] = useState("");

    return (
        <div>
            <button onClick={() => setCount(count + 1)}>Increase Count</button>
            <input value={text} onChange={(e) => setText(e.target.value)} placeholder="Type something" />

            <NormalComponent count={count} />
            <MemoizedComponent count={count} />
        </div>
    );
}

export default App;
```

æ¯æ¬¡è¾“å…¥æ¡† `onChange` è§¦å‘ï¼Œ`NormalComponent` å’Œ `MemoizedComponent` **éƒ½ä¼šé‡æ–°æ¸²æŸ“**ã€‚

`React.memo` ä¼˜åŒ–äº† `MemoizedComponent`ï¼Œå¦‚æœ `count` æ²¡å˜ï¼Œç»„ä»¶ **ä¸ä¼šé‡æ–°æ¸²æŸ“**ï¼Œæé«˜æ€§èƒ½ã€‚



**2ï¸âƒ£ ä½¿ç”¨ `useMemo()` è¿›è¡Œè®¡ç®—ä¼˜åŒ–**

**ğŸ“Œ è§£é‡Š**

`useMemo()` **ç¼“å­˜è®¡ç®—ç»“æœ**ï¼Œé˜²æ­¢æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶é‡å¤æ‰§è¡Œ **è€—æ—¶çš„è®¡ç®—**ã€‚

```jsx
import React, { useState, useMemo } from "react";

// æ¨¡æ‹Ÿä¸€ä¸ªè®¡ç®—å¯†é›†å‹å‡½æ•°
const expensiveCalculation = (num) => {
    console.log("Calculating...");
    return num * 2;
};

function App() {
    const [count, setCount] = useState(0);
    const [text, setText] = useState("");

    // åªæœ‰ count å˜åŒ–æ—¶ï¼ŒexpensiveCalculation æ‰ä¼šæ‰§è¡Œ
    const calculatedValue = useMemo(() => expensiveCalculation(count), [count]);

    return (
        <div>
            <button onClick={() => setCount(count + 1)}>Increase Count</button>
            <p>Calculated Value: {calculatedValue}</p>

            <input value={text} onChange={(e) => setText(e.target.value)} placeholder="Type something" />
        </div>
    );
}

export default App;
```

**ä¸ä½¿ç”¨ `useMemo()`**ï¼Œæ¯æ¬¡ `text` å‘ç”Ÿå˜åŒ–ï¼Œ`expensiveCalculation(count)` éƒ½ä¼šé‡æ–°æ‰§è¡Œï¼ˆæµªè´¹è®¡ç®—èµ„æºï¼‰ã€‚

**ä½¿ç”¨ `useMemo()`**ï¼Œåªæœ‰ `count` å˜åŒ–æ—¶ï¼Œæ‰é‡æ–°è®¡ç®—ï¼Œæé«˜æ€§èƒ½ã€‚



**3ï¸âƒ£ ä½¿ç”¨ `useCallback()` è®°å¿†åŒ–å‡½æ•°**

**ğŸ“Œ è§£é‡Š**

- åœ¨ React ç»„ä»¶ä¸­ï¼Œ**æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½ä¼šåˆ›å»ºæ–°çš„å‡½æ•°å®ä¾‹**ã€‚
- å¦‚æœå‡½æ•°è¢« **ä¼ é€’ç»™å­ç»„ä»¶**ï¼Œå­ç»„ä»¶ä¼šè¯¯ä»¥ä¸º `props` å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯¼è‡´ä¸å¿…è¦çš„æ¸²æŸ“ã€‚
- `useCallback()` **ç¼“å­˜å‡½æ•°**ï¼Œç¡®ä¿åœ¨ä¾èµ–é¡¹ä¸å˜æ—¶ï¼Œå‡½æ•°ä¸ä¼šé‡æ–°åˆ›å»ºã€‚

```jsx
import React, { useState, useCallback } from "react";

// å­ç»„ä»¶
const ChildComponent = ({ onClick }) => {
    console.log("ChildComponent rendered");
    return <button onClick={onClick}>Click me</button>;
};

function App() {
    const [count, setCount] = useState(0);

    // æ™®é€šå‡½æ•°ï¼Œæ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½ä¼šåˆ›å»ºæ–°å‡½æ•°
    const normalFunction = () => {
        console.log("Button clicked");
    };

    // ä½¿ç”¨ useCallbackï¼Œç¡®ä¿å‡½æ•°åœ°å€ä¸å˜
    const memoizedFunction = useCallback(() => {
        console.log("Button clicked");
    }, []);

    return (
        <div>
            <button onClick={() => setCount(count + 1)}>Increase Count</button>
            <ChildComponent onClick={normalFunction} /> {/* æ€»æ˜¯é‡æ–°æ¸²æŸ“ */}
            <ChildComponent onClick={memoizedFunction} /> {/* åªæœ‰ä¾èµ–å˜åŒ–æ—¶æ‰æ¸²æŸ“ */}
        </div>
    );
}

export default App;
```

**ä¸ä½¿ç”¨ `useCallback()`**ï¼Œæ¯æ¬¡ `App` ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œ`ChildComponent` **éƒ½ä¼šé‡æ–°æ¸²æŸ“**ï¼ˆå› ä¸º `onClick` æ˜¯æ–°å‡½æ•°ï¼‰ã€‚

**ä½¿ç”¨ `useCallback()`**ï¼Œ`ChildComponent` **ä¸ä¼šé‡æ–°æ¸²æŸ“**ï¼Œæé«˜æ€§èƒ½ã€‚



4ï¸âƒ£ ä½¿ç”¨ `React.lazy()` è¿›è¡Œæ‡’åŠ è½½

**ğŸ“Œ è§£é‡Š**

- **é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact ä¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ç»„ä»¶**ï¼Œå¯¼è‡´**é¦–å±åŠ è½½æ—¶é—´å˜é•¿**ã€‚
- **`React.lazy()` å®ç°æŒ‰éœ€åŠ è½½ç»„ä»¶**ï¼Œ**ä»…åœ¨éœ€è¦æ—¶æ‰åŠ è½½**ã€‚

```jsx
import React, { Suspense, lazy } from "react";

// ä½¿ç”¨ React.lazy() è¿›è¡Œæ‡’åŠ è½½
const LazyComponent = lazy(() => import("./LazyComponent"));

function App() {
    return (
        <div>
            <h1>Welcome</h1>
            <Suspense fallback={<p>Loading...</p>}>
                <LazyComponent />
            </Suspense>
        </div>
    );
}

export default App;
```

è¿è¡Œåº”ç”¨åï¼Œ`LazyComponent.js` **ä¸ä¼šç«‹å³åŠ è½½**ã€‚

åªæœ‰å½“ `LazyComponent` éœ€è¦æ¸²æŸ“æ—¶ï¼Œæ‰ä¼š **åŠ¨æ€åŠ è½½**ï¼Œå‡å°‘é¦–å±åŠ è½½æ—¶é—´ï¼Œæé«˜æ€§èƒ½ã€‚



## 25.What is the difference between `memo` and `useMemo`?

- `memo` **prevents unnecessary re-renders** by caching a component when props donâ€™t change.
- `useMemo` **caches expensive computations** to avoid recalculating values on every render.



è™½ç„¶ **`memo` å’Œ `useMemo` éƒ½æ˜¯ React çš„æ€§èƒ½ä¼˜åŒ–å·¥å…·**ï¼Œä½†å®ƒä»¬çš„ç”¨é€”ä¸åŒï¼š

| **å¯¹æ¯”é¡¹**   | **`memo`**                                          | **`useMemo`**                          |
| ------------ | --------------------------------------------------- | -------------------------------------- |
| **ä½œç”¨**     | **ç¼“å­˜ç»„ä»¶**ï¼Œé˜²æ­¢ç»„ä»¶å› **ç›¸åŒ `props`** è€Œé‡æ–°æ¸²æŸ“ | **ç¼“å­˜è®¡ç®—ç»“æœ**ï¼Œé˜²æ­¢**é‡å¤æ‰§è¡Œè®¡ç®—** |
| **é€‚ç”¨äº**   | **å­ç»„ä»¶ä¼˜åŒ–**ï¼ˆå¦‚æœ `props` æ²¡å˜ï¼Œåˆ™ä¸é‡æ–°æ¸²æŸ“ï¼‰   | **è®¡ç®—ä¼˜åŒ–**ï¼ˆå¦‚åˆ—è¡¨è¿‡æ»¤ã€å¤æ‚è®¡ç®—ï¼‰   |
| **è§¦å‘æ›´æ–°** | åªæœ‰å½“ `props` å‘ç”Ÿå˜åŒ–æ—¶                           | åªæœ‰å½“ **ä¾èµ–é¡¹** å˜åŒ–æ—¶               |
| **è¿”å›å€¼**   | **è¿”å›ä¸€ä¸ªä¼˜åŒ–åçš„ç»„ä»¶**                            | **è¿”å›è®¡ç®—åçš„å€¼**                     |

âœ… **Is `useCallback([])` only executed once?**
Yes. When `useCallback` has an empty dependency array `[]`, it **only creates the function once during the initial render** and never re-creates it unless the component unmounts.

âœ… **How is `useCallback` similar to `useMemo`?**
Both **cache values based on dependencies**, but:

- `useCallback` **caches functions** to prevent unnecessary re-renders.
- `useMemo` **caches computed values** to avoid redundant calculations.

âœ… **When to use them?**

- Use **`useCallback`** when passing functions to memoized child components.
- Use **`useMemo`** when performing expensive computations.



âœ… **Does `memo`, `useMemo`, and `useCallback` cache the component, function return value, and function itself?**
Yes! Each of them optimizes performance differently:

- **`memo` caches the component**, preventing unnecessary re-renders when **props** donâ€™t change.
- **`useMemo` caches the return value of an expensive computation**, avoiding **redundant calculations**.
- **`useCallback` caches the function itself**, ensuring that its reference remains the same unless dependencies change.

ğŸ“Œ **Key Use Cases:**

- Use **`memo`** when a **child component should not re-render** unless props change.
- Use **`useMemo`** when **an expensive computation needs to be optimized**.
- Use **`useCallback`** when **passing functions to memoized components** to prevent re-renders.





## 26.**When does a React component re-render?**

1ï¸âƒ£ **When `state` changes**
2ï¸âƒ£ **When `props` change**
3ï¸âƒ£ **When the parent component re-renders**
4ï¸âƒ£ **When `useContext()` dependencies update**
5ï¸âƒ£ **When forced manually using state updates**



**React ç»„ä»¶ä»€ä¹ˆæ—¶å€™ä¼šé‡æ–°æ¸²æŸ“ï¼Ÿ**

**âœ… ç»„ä»¶é‡æ–°æ¸²æŸ“çš„æƒ…å†µ**

1ï¸âƒ£ **`state` å˜åŒ–**

- `useState()` æ›´æ–°æ•°æ®åï¼ŒReact **é‡æ–°æ¸²æŸ“ç»„ä»¶**ã€‚

```jsx
const [count, setCount] = useState(0);
<button onClick={() => setCount(count + 1)}>Increase</button> 
```

ğŸ“Œ **æ¯æ¬¡ `setCount(count + 1)`ï¼Œç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“**ã€‚

2ï¸âƒ£ **`props` å˜åŒ–**

- çˆ¶ç»„ä»¶ä¼ é€’ `props` å‘ç”Ÿå˜åŒ–ï¼Œå­ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ã€‚

```jsx
<ChildComponent value={count} /> 
```

ğŸ“Œ **å¦‚æœ `count` å˜åŒ–ï¼Œ`ChildComponent` ä¹Ÿä¼šé‡æ–°æ¸²æŸ“**ã€‚

3ï¸âƒ£ **çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“**

- **å³ä½¿ `props` æ²¡å˜**ï¼Œä½†å¦‚æœçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå­ç»„ä»¶é»˜è®¤ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ã€‚

```jsx
const Parent = () => {
    const [count, setCount] = useState(0);
    return (
        <div>
            <ChildComponent />  {/* æ¯æ¬¡ Parent é‡æ–°æ¸²æŸ“ï¼ŒChild ä¹Ÿä¼šæ¸²æŸ“ */}
        </div>
    );
};
```

ğŸ“Œ **ç”¨ `memo()` é¿å…ä¸å¿…è¦çš„å­ç»„ä»¶æ¸²æŸ“**ã€‚

4ï¸âƒ£ **`useContext()` ä¾èµ–çš„å€¼å‘ç”Ÿå˜åŒ–**

```jsx
const ThemeContext = createContext("light");
const theme = useContext(ThemeContext);
```

ğŸ“Œ **å¦‚æœ `ThemeContext.Provider` æä¾›çš„å€¼å˜åŒ–ï¼Œæ‰€æœ‰ `useContext(ThemeContext)` çš„ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“**ã€‚





## 27.**What is Code Splitting in React?**

Code Splitting is a technique in React that **reduces the initial bundle size by loading JavaScript only when needed**. This helps improve performance by splitting large JavaScript files into smaller, on-demand chunks.

âœ… **How do you implement Code Splitting in React?**

**Component-Level Splitting** using `React.lazy()` + `Suspense`:

```jsx
const MyComponent = lazy(() => import("./MyComponent"));
<Suspense fallback={<p>Loading...</p>}>
    <MyComponent />
</Suspense>
```

**Route-Level Splitting** using `React Router`:

```jsx
const Home = lazy(() => import("./Home"));
<Routes>
    <Route path="/" element={<Home />} />
</Routes>
```

**Dynamic Import on Button Click**:

```jsx
const HeavyComponent = lazy(() => import("./HeavyComponent"));
<button onClick={() => setShow(true)}>Load</button>
{show && <HeavyComponent />}
```

ğŸš€ **Code Splitting optimizes performance, reduces load time, and improves user experience.**



## 28.**How do you handle forms in React?**

Forms in React are controlled components where state manages input values:

```jsx
const [text, setText] = useState("");
<input value={text} onChange={(e) => setText(e.target.value)} />
```



## 29.**How does server-side rendering (SSR) work in React?**

âœ… **How does Server-Side Rendering (SSR) work in React?**
Server-Side Rendering (SSR) renders React components **on the server** and sends the fully generated HTML to the browser. This improves **SEO and performance** by reducing the amount of JavaScript that needs to be executed on the client.

âœ… **Why does Next.js improve SEO and performance?**
1ï¸âƒ£ **Better SEO**:

- Traditional Client-Side Rendering (CSR) loads an empty HTML page and renders content with JavaScript, which search engines may not index properly.
- **Next.js SSR sends a fully rendered HTML page** to the client, allowing search engines to read content immediately.

2ï¸âƒ£ **Faster Performance**:

- In CSR, the browser **downloads and executes all JavaScript** before rendering the page.
- **Next.js SSR reduces time-to-first-render by sending HTML directly**, making the page visible immediately.



**Next.js å¦‚ä½•ä¼˜åŒ– SEO å’Œæ€§èƒ½ï¼Ÿ**

**âœ… 1. SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰**

**é—®é¢˜ï¼šCSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰å¯¹ SEO ä¸å‹å¥½**

- åœ¨ä¼ ç»Ÿçš„ CSRï¼ˆå¦‚ 

  ```
  create-react-app
  ```

  ï¼‰ä¸­ï¼ŒReact åº”ç”¨çš„ HTML ç»“æ„åœ¨é¦–æ¬¡åŠ è½½æ—¶æ˜¯ï¼š

  ```html
  <div id="root"></div>
  <script src="/bundle.js"></script>
  ```

- ç”±äº**å†…å®¹æ˜¯é€šè¿‡ JavaScript åŠ¨æ€æ¸²æŸ“çš„**ï¼Œ**æœç´¢å¼•æ“çˆ¬è™«**å¯èƒ½æ— æ³•æ­£ç¡®æŠ“å–é¡µé¢å†…å®¹ï¼Œå¯¼è‡´ SEO è¾ƒå·®ã€‚

**Next.js è§£å†³æ–¹æ¡ˆ**

- ä½¿ç”¨ SSRï¼ŒæœåŠ¡å™¨ç«¯è¿”å›å®Œæ•´çš„ HTML

  ï¼Œçˆ¬è™«å¯ä»¥ç›´æ¥è¯»å–å®Œæ•´çš„é¡µé¢å†…å®¹ï¼Œæé«˜ SEO è¯„åˆ†ï¼š

  ```html
  <div id="root">
    <h1>Welcome to My Website</h1>
    <p>This is an article about React.</p>
  </div>
  ```

âœ… **`getServerSideProps()` åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œï¼Œè¿”å› HTML ç»™æœç´¢å¼•æ“ï¼Œæå‡ SEOï¼**



**âœ… 2. æ€§èƒ½ä¼˜åŒ–**

**é—®é¢˜ï¼šCSR éœ€è¦ä¸‹è½½å¤§é‡ JS æ‰èƒ½æ¸²æŸ“é¡µé¢**

- ä¼ ç»Ÿ CSR éœ€è¦ï¼š
  - ä¸‹è½½ JavaScript â†’ æ‰§è¡Œ JavaScript (å—ç”¨æˆ·è®¾å¤‡æ€§èƒ½å½±å“)  â†’ ç”Ÿæˆ HTML â†’ æ’å…¥ DOM
  - **åŠ è½½æ—¶é—´é•¿ï¼Œé¦–å±æ¸²æŸ“æ…¢**

**Next.js è§£å†³æ–¹æ¡ˆ**

- **SSR ç›´æ¥è¿”å› HTML**ï¼Œé¦–å±åŠ è½½æ›´å¿«ã€‚
- **Code Splitting**ï¼ˆä»£ç æ‹†åˆ†ï¼‰ä¼˜åŒ–æ€§èƒ½ï¼Œä»…åŠ è½½è®¿é—®çš„é¡µé¢ä»£ç ã€‚
- **Automatic Static Optimization**ï¼ˆè‡ªåŠ¨é™æ€ä¼˜åŒ–ï¼‰ï¼Œå¦‚æœ `getServerSideProps` ä¸å­˜åœ¨ï¼ŒNext.js è‡ªåŠ¨ç”Ÿæˆé™æ€ HTMLï¼Œæé«˜é€Ÿåº¦ã€‚

âœ… **`getStaticProps()` åœ¨æ„å»ºæ—¶è¿è¡Œï¼Œç”Ÿæˆé™æ€ HTMLï¼Œè¿›ä¸€æ­¥æé«˜åŠ è½½é€Ÿåº¦ï¼**



## 30.What are Hooks in React?

Hooks **are functions that allow functional components to use state and lifecycle features** without writing class components. Introduced in **React 16.8**, Hooks provide a more concise and reusable way to manage component logic.

**1. Why were Hooks introduced?**

Before Hooks, React used **class components** for managing state and lifecycle methods. However, class components had some issues:

- **Complexity**: Managing state and lifecycle in classes made code harder to read and maintain.
- **Reusability**: Sharing logic between components required **higher-order components (HOC)** or **render props**, which led to unnecessary nesting.
- **Performance**: Class components could cause unnecessary re-renders due to improper binding.

âœ… **Hooks solve these problems** by allowing functional components to use state and lifecycle features, making React development easier and more efficient.



**2. Commonly Used Hooks**

React provides several built-in hooks, categorized into **state hooks, effect hooks, performance hooks, and context hooks**.

| **Hook**      | **Purpose**                                       |
| ------------- | ------------------------------------------------- |
| `useState`    | Manage component state                            |
| `useEffect`   | Handle side effects (API calls, subscriptions)    |
| `useContext`  | Access context values without prop drilling       |
| `useReducer`  | Manage complex state logic                        |
| `useCallback` | Cache functions to prevent unnecessary re-renders |
| `useMemo`     | Cache computed values to optimize performance     |

âœ… **Does Redux replace `useContext` and `useReducer`?**
Yes, in large-scale applications, **Redux replaces `useContext` and `useReducer`** for global state management. Redux provides:

- **Better state structure** with multiple slices.
- **More efficient updates** using `useSelector()`.
- **Asynchronous support** (Redux Thunk/Saga).
- **Built-in debugging with Redux DevTools**.

ğŸš€ **For small apps, `useContext` and `useReducer` are enough. For large apps, Redux is the better choice!**



useReducer is just like the reducer in redux

```jsx
import React, { useReducer } from "react";

// 1ï¸âƒ£ å®šä¹‰ reducer å‡½æ•°
function reducer(state, action) {
    switch (action.type) {
        case "increment":
            return { count: state.count + 1 };
        case "decrement":
            return { count: state.count - 1 };
        default:
            return state;
    }
}

function Counter() {
    const [state, dispatch] = useReducer(reducer, { count: 0 });

    return (
        <div>
            <p>Count: {state.count}</p>
            <button onClick={() => dispatch({ type: "increment" })}>+</button>
            <button onClick={() => dispatch({ type: "decrement" })}>-</button>
        </div>
    );
}

export default Counter;
```

é€‚ç”¨äº **å±€éƒ¨å¤æ‚çŠ¶æ€ç®¡ç†**ï¼Œä½†**ä¸é€‚åˆå…¨å±€çŠ¶æ€**ã€‚

**é€‚ç”¨äºç®¡ç†å¤šä¸ª `state` ä¹‹é—´æœ‰é€»è¾‘å…³ç³»çš„æƒ…å†µ**ï¼ˆå¦‚è¡¨å•ã€å¤šçŠ¶æ€äº¤äº’ï¼‰ã€‚





## 31.LocalStorage, sessionStorage, Cookie

**All store data in the browser**, but they differ in **scope, size, and behavior**.

### **When to use each?**

| **Use Case**                                  | **Best Storage Option** |
| --------------------------------------------- | ----------------------- |
| **Saving user preferences (theme, language)** | `localStorage`          |
| **Storing temporary form/cart data**          | `sessionStorage`        |
| **Authentication tokens (JWT, session data)** | `HttpOnly Cookie`       |

ğŸš€ **For security-sensitive data, always use `HttpOnly` Cookies instead of `localStorage`!**



| **ç‰¹æ€§**           | **LocalStorage**                         | **SessionStorage**                     | **Cookie**                               |
| ------------------ | ---------------------------------------- | -------------------------------------- | ---------------------------------------- |
| **ç”Ÿå‘½å‘¨æœŸ**       | **æ°¸ä¹…å­˜å‚¨**ï¼ˆé™¤éæ‰‹åŠ¨åˆ é™¤ï¼‰             | **å½“å‰ä¼šè¯**ï¼ˆé¡µé¢å…³é—­åæ¸…é™¤ï¼‰         | **é»˜è®¤ä¼šè¯çº§åˆ«ï¼Œå¯è®¾ç½® `expires`**       |
| **å­˜å‚¨å¤§å°**       | ~5MB                                     | ~5MB                                   | **~4KBï¼ˆå—é™åˆ¶ï¼‰**                       |
| **æ˜¯å¦éšè¯·æ±‚å‘é€** | âŒ å¦                                     | âŒ å¦                                   | âœ… **è‡ªåŠ¨éš HTTP è¯·æ±‚å‘é€**               |
| **é€‚ç”¨åœºæ™¯**       | **é•¿æœŸå­˜å‚¨ç”¨æˆ·æ•°æ®**ï¼ˆå¦‚ä¸»é¢˜ã€åå¥½è®¾ç½®ï¼‰ | **çŸ­æœŸå­˜å‚¨æ•°æ®**ï¼ˆå¦‚è¡¨å•æ•°æ®ã€è´­ç‰©è½¦ï¼‰ | **ä¼šè¯ç®¡ç†ï¼ˆå¦‚ JWT Tokenã€è®¤è¯ä¿¡æ¯ï¼‰**   |
| **è®¿é—®æ–¹å¼**       | `localStorage.getItem()`                 | `sessionStorage.getItem()`             | `document.cookie`                        |
| **å®‰å…¨æ€§**         | âŒ **å®¹æ˜“è¢« XSS æ”»å‡»**ï¼ˆä¸éšè¯·æ±‚å‘é€ï¼‰    | âŒ **å®¹æ˜“è¢« XSS æ”»å‡»**                  | âœ… **å¯è®¾ç½® `HttpOnly` ä¿æŠ¤**ï¼ˆé˜²æ­¢ XSSï¼‰ |









# **ç¼–ç¨‹ä¸­å¸¸è§ç¬¦å·çš„è‹±æ–‡è¡¨è¾¾**

| **ç¬¦å·** | **è‹±æ–‡è¡¨è¾¾**                                  | **ç¤ºä¾‹**                                    |
| -------- | --------------------------------------------- | ------------------------------------------- |
| `.`      | **dot** / **period**                          | `console.log()` (dot notation)              |
| `,`      | **comma**                                     | `const arr = [1, 2, 3];`                    |
| `:`      | **colon**                                     | `const obj = { key: "value" };`             |
| `;`      | **semicolon**                                 | `let x = 5;`                                |
| `' '`    | **single quotes**                             | `'Hello'`                                   |
| `" "`    | **double quotes**                             | `"Hello"`                                   |
| `` ```   | **backticks**                                 | ``Hello ${name}`` (template literal)        |
| `()`     | **parentheses** / **round brackets**          | `function call()`                           |
| `{}`     | **curly braces** / **curly brackets**         | `{ key: "value" }` (object)                 |
| `[]`     | **square brackets**                           | `array[0]`                                  |
| `<>`     | **angle brackets**                            | `<div></div>` (HTML, JSX)                   |
| `/`      | **slash** / **forward slash**                 | `const path = "/home";`                     |
| `\`      | **backslash**                                 | `"C:\\Program Files\\"`                     |
| `*`      | **asterisk** / **star**                       | `const result = a * b;`                     |
| `**`     | **double asterisk / exponentiation operator** | `2 ** 3 === 8`                              |
| `+`      | **plus**                                      | `a + b`                                     |
| `-`      | **minus** / **dash**                          | `a - b`                                     |
| `_`      | **underscore**                                | `const my_variable = 10;`                   |
| `~`      | **tilde**                                     | `~5` (bitwise NOT)                          |
| `&`      | **ampersand**                                 | `a & b` (bitwise AND)                       |
| `&&`     | **logical AND**                               | `if (a && b) {...}`                         |
| `        | `                                             | **pipe**                                    |
| `        |                                               | `                                           |
| `^`      | **caret / XOR (exclusive OR)**                | `a ^ b`                                     |
| `%`      | **modulus / remainder operator**              | `10 % 3 === 1`                              |
| `=`      | **equals / assignment operator**              | `let x = 10;`                               |
| `==`     | **double equals / loose equality**            | `5 == "5"` (true)                           |
| `===`    | **triple equals / strict equality**           | `5 === "5"` (false)                         |
| `!`      | **exclamation mark / NOT operator**           | `!true === false`                           |
| `!=`     | **not equals**                                | `a != b`                                    |
| `!==`    | **strict not equals**                         | `a !== b`                                   |
| `?`      | **question mark / ternary operator**          | `const result = a > b ? "yes" : "no";`      |
| `=>`     | **arrow function operator**                   | `const add = (a, b) => a + b;`              |
| `...`    | **spread / rest operator**                    | `const arr2 = [...arr1];`                   |
| `@`      | **at symbol**                                 | `@decorator` (used in decorators)           |
| `#`      | **hash / pound sign**                         | `#privateField` (private class field in JS) |
| `$`      | **dollar sign**                               | `${value}` (template literals in JS)        |



# AIBUILD Info

â€œI appreciate AIBUILDâ€™s focus on innovation and collaboration, especially in **AI-driven web solutions**. I enjoy working in fast-growing, research-driven teams where I can continuously learn and contribute to scalable, intelligent web applications.â€



â€œI found the Otaro project particularly interesting, as it showcases how AI and AR/VR can enhance education. Iâ€™m excited about the opportunity to contribute to such AI-driven web solutions and help build engaging, intelligent interfaces.â€



â€œI saw that AIBUILD was recently **recognized by Google Cloud as a Scale Tier AI startup**. Itâ€™s exciting to see the companyâ€™s commitment to AI innovation being recognized on a global scale. Iâ€™d love to be part of a team driving this innovation forward.â€



Team collabration. typical workflow. 

**å…³äºæŠ€æœ¯æ–¹å‘**ï¼š

- â€œHow does AIBUILD approach the integration of AI models with web applications?â€
- â€œWhat technologies are primarily used in your AR/VR web development projects?â€

**å…³äºå›¢é˜Ÿå’Œå·¥ä½œæ¨¡å¼**ï¼š

- â€œHow does the web development team collaborate with the AI and AR/VR teams?â€
- â€œWhatâ€™s the typical workflow for developing and deploying AI-powered web applications at AIBUILD?â€

**å…³äºæˆé•¿å’Œå­¦ä¹ **ï¼š

- â€œ**What technical challenges have been most rewarding for web developers in AIBUILD?**â€
- â€œAre there opportunities to contribute to AIBUILDâ€™s AI/AR/VR research projects as a web developer?â€





# Coding Test (AIBUILD)

Thanks for applying our position. In this coding test, you will work on the questions below, push your code to GitHub and send the link back to us. Before you get started, please remember:

1. Feel free to google potential approaches or ask questions if needed.
2. We are using `Javascript/Typescript` (ES6) as our primary programming language and we would like to see your proficiency in JS. 
3. Your coding efficiency will be evaluated, but we would consider more about your code quality rather than your speed.
4. Leave necessary comments in your code to explain your idea of solving the problem.
5. We are sure that you will try your best, but if any of these problems are too challenging for you, don't worry, just show us your progress or idea.  



## Question 1

We may want to check the internect connection conditions in our App. For example, if the app can get response from the a given host within half a second, we would say the connection condition is `good`, but if the response cannot be returned from the host after 5 seconds, the verdict could be `terrible` and we won't want to wait anymore. 

### What you need to do

Implement a function that checks the internect connection condition. This function will try to get response from a given URI, (let's say, `https://www.google.com`, or any URI you like), and check how long it takes to get the response. 

- If you receive response within half a second, your function returns a string `good`.
- If you receive response in more than half a second but less than five seconds, your function returns a string `fine`.
- If you receive nothing after 5 seconds waiting or the URI is not reachable, don't wait anymore and your function returns a string `terrible`. 

### What you need to know

1. It is possible to implement this function without importing any packages, just use built-in functions of `Node.js`.

### How would we test & review

1. We would check your code and understand the logic of your function.
2. We will try different URIs to see if this function works as expected. 



#### 1 æ³¨é‡Šæ˜¯å¦è§„èŒƒï¼Ÿ`@returns {Promise<"good" | "fine" | "terrible">}` è¿™è¿”å›Promiseæ˜¯å•¥æ„æ€ï¼Ÿ

å› ä¸ºä½ çš„å‡½æ•°æ˜¯ç”¨ `async function` å®šä¹‰çš„ï¼Œå®ƒ**æœ¬è´¨ä¸Šè¿”å›ä¸€ä¸ª Promise**ã€‚

æ¢å¥è¯è¯´ï¼šè°ƒç”¨ `checkConnection(uri)` æ—¶ï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚è€Œè¿™ä¸ª Promise ä¼šæœ€ç»ˆï¼ˆresolveï¼‰è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå–å€¼åªèƒ½æ˜¯ `"good"`ã€`"fine"` æˆ– `"terrible"`ã€‚



#### 2 ä¸ºä»€ä¹ˆè¦ç”¨ `AbortController`ï¼Ÿå¦‚æœå¸Œæœ›ç”¨ fetch å¹¶ä¿æŒä»£ç ç®€æ´çš„è¯ï¼Œç”¨è¿™ä¸ªæ˜¯å¿…è¦çš„å—ï¼Ÿ

AbortController çš„ä½œç”¨

- **æ ¸å¿ƒåŠŸèƒ½**ï¼šè®©ä½ èƒ½å¤Ÿ**ä¸»åŠ¨ä¸­æ­¢**ä¸€ä¸ªæ­£åœ¨è¿›è¡Œä¸­çš„ `fetch` è¯·æ±‚ã€‚
- å½“ä½ åœ¨ä»£ç é‡Œè°ƒç”¨ `setTimeout(() => ac.abort(), TIMEOUT_MS)` æ—¶ï¼Œå¦‚æœè¯·æ±‚åˆ°è¾¾äº†è¿™ä¸ªæ—¶é—´è¿˜æ²¡å®Œæˆï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ª `AbortError`ï¼Œä»è€Œ**åœæ­¢ç­‰å¾…**ã€‚

å‡è®¾ä½ æ²¡æœ‰ `AbortController`ï¼š

- `fetch` åœ¨ä¸€äº›æç«¯ç½‘ç»œçŠ¶å†µä¸‹ï¼ˆå¦‚æœåŠ¡å™¨ä¸€ç›´ä¸è¿”å›ã€TCP è¿æ¥å¡ä½ã€ç½‘ç»œä¸é€šç­‰ï¼‰å¯èƒ½ä¼š**æŒç»­ç­‰å¾…**å¾ˆä¹…ï¼Œç›´åˆ°ç³»ç»Ÿé»˜è®¤çš„è¶…æ—¶ï¼ˆå¯èƒ½æ˜¯å‡ åç§’æˆ–æ›´é•¿ï¼‰ã€‚
- ä½†é¢˜ç›®æ˜ç¡®è¦æ±‚ï¼š**å¦‚æœè¶…è¿‡ 5 ç§’æ²¡å“åº”å°±ç®— `terrible`**ï¼Œä¹Ÿä¸éœ€è¦å†ç­‰äº†ã€‚

å› æ­¤ï¼Œä¸ºäº†ä¸¥æ ¼å®ç°**5 ç§’ä¹‹å†…æ‹¿ä¸åˆ°å“åº”å°±è¿”å› â€œterribleâ€**ï¼Œä½ éœ€è¦ä¸€ç§**ä¸­æ–­è¯·æ±‚**çš„æ–¹å¼ï¼Œè¿™å°±æ˜¯ `AbortController`ã€‚

`ac.abort()` æ˜¯è§¦å‘ä¸­æ–­çš„æ“ä½œã€‚

`ac.signal` æ˜¯ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œå½“ä½ æŠŠå®ƒä¼ ç»™ `fetch(uri, { signal: ac.signal })`ï¼Œ`fetch` å°±ä¼š**ç›‘å¬**è¿™ä¸ªä¿¡å·ã€‚å¦‚æœä¿¡å·è¢«è§¦å‘ä¸­æ–­ï¼Œ`fetch` ä¼šæŠ›å‡º `AbortError` å¹¶åœæ­¢ç½‘ç»œäº¤äº’ã€‚

åœ¨ä½ çš„ä»£ç ä¸­ï¼Œ`setTimeout(() => ac.abort(), 5000)` å°±æ˜¯è¯´ï¼š**5 ç§’åè‡ªåŠ¨æ‰§è¡Œä¸­æ­¢**ï¼Œä»è€Œå®ç°äº†è¶…æ—¶åŠŸèƒ½ã€‚



#### 3 `performance.now()` å’Œ `Date.now()` ç›¸æ¯”ï¼Œæ˜¯å¦æœ‰æ€§èƒ½å·®è·ï¼Ÿåœ¨è¿™ä¸ªåœºæ™¯ä¸‹ç”¨å“ªä¸ªæ›´åˆé€‚ï¼Ÿ

åœ¨ Node.js æˆ–ç°ä»£æµè§ˆå™¨é‡Œï¼Œä¸¤è€…çš„**è°ƒç”¨å¼€é”€éƒ½å¾ˆå°**ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚

çœŸå®åº”ç”¨é‡Œï¼Œç½‘ç»œè¯·æ±‚æœ¬èº«çš„å»¶è¿Ÿè¿œè¿œå¤§äºè¿™ç‚¹è°ƒç”¨æˆæœ¬ã€‚

é€šå¸¸å»ºè®®åœ¨**æµ‹é‡æ—¶é•¿/é—´éš”**æ—¶ä½¿ç”¨ `performance.now()`ï¼Œå› ä¸ºå®ƒå—ç³»ç»Ÿæ—¶é’Ÿå½±å“æ›´å°ã€ç²¾åº¦æ›´é«˜ã€‚

`Date.now()` åœ¨è¿™é‡Œä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼Œä¸ä¼šæœ‰æ˜æ˜¾é—®é¢˜ã€‚

æ‰€ä»¥ï¼Œä½ å¯ä»¥ç†è§£ä¸ºï¼š`performance.now()` æ›´é€‚åˆåšç²¾ç¡®æµ‹é‡ï¼Œä½†å¯¹äºè¿™ä¸ªåœºæ™¯æ¥è¯´ï¼Œä¸¤è€…éƒ½å®Œå…¨å¤Ÿç”¨ï¼Œä¸ä¼šæœ‰æ˜¾è‘—å·®å¼‚ã€‚



#### 4 `const timeoutId` è¿™ä¸ªå˜é‡åã€ä¸ºä»€ä¹ˆè¦åœ¨ finally è°ƒç”¨ `clearTimeout()`ï¼Ÿå¦å¤–ï¼Œtry é‡Œé¢æ²¡æœ‰ç›´æ¥å¤„ç† `>5000ms` çš„æƒ…å†µï¼Œè€Œæ˜¯åœ¨ catch é‡Œï¼Ÿä»€ä¹ˆæœºåˆ¶ï¼Ÿ

å½“ä½ è°ƒç”¨ `setTimeout()` æ—¶ï¼Œåœ¨ Node.js ä¸­å®ƒä¼šè¿”å›ä¸€ä¸ª â€œTimeout Objectâ€ï¼ˆæˆ–è€…è¢«é€šä¿—åœ°ç§°ä¸ºä¸€ä¸ªâ€œå®šæ—¶å™¨ IDâ€ï¼‰ã€‚

ä½ ç”¨ `const timeoutId = setTimeout(...)` æŠŠå®ƒå­˜è¿›å˜é‡ï¼Œå°±æ˜¯ä¸ºäº†**åé¢å¯ä»¥å¯¹è¿™ä¸ªå®šæ—¶å™¨åšæ“ä½œ**ï¼Œæ¯”å¦‚å–æ¶ˆå®ƒã€‚

å‘½åä¸Šå¯ä»¥æ”¹æˆ `abortTimer` æˆ– `timerId` ç­‰ï¼Œéƒ½å¯ä»¥ï¼Œæ›´å…·ä½“æ›´è¯­ä¹‰åŒ–ã€‚

`try/finally` ç»“æ„ä¼šä¿è¯**æ— è®º try å—æ˜¯å¦æˆåŠŸå®Œæˆï¼Œè¿˜æ˜¯æŠ›å‡ºäº†å¼‚å¸¸ï¼Œæœ€åéƒ½ä¼šæ‰§è¡Œ `finally`**ã€‚

æˆ‘ä»¬æƒ³è¦é¿å…å‡ºç°è¿™ç§æƒ…å†µï¼š**è¯·æ±‚æˆåŠŸå®Œæˆ**åï¼Œå®šæ—¶å™¨è¿˜åœ¨é‚£å„¿ç­‰ 5 ç§’ï¼Œåˆ°ç‚¹ååˆå»æ‰§è¡Œ `ac.abort()`ï¼Œå¯¼è‡´é”™è¯¯çš„ä¸­æ–­ã€‚

å› æ­¤ï¼Œåœ¨è¯·æ±‚ä¸€æ—¦å®Œæˆï¼ˆæˆ–å‘ç”Ÿé”™è¯¯ï¼‰åï¼Œå°±**ä¸éœ€è¦**è¿™ä¸ªè¶…æ—¶å®šæ—¶å™¨äº†ï¼Œæ‰€ä»¥åœ¨ `finally` é‡Œæ‰§è¡Œ `clearTimeout(timeoutId)` æŠŠå®ƒæ¸…ç†æ‰ï¼Œé˜²æ­¢åç»­é”™è¯¯åœ°è§¦å‘ã€‚è¿™æ ·åšå¯ä»¥é¿å…**ä¸å¿…è¦çš„å›è°ƒæ‰§è¡Œ**ä»¥åŠèŠ‚çœä¸€ç‚¹ç‚¹å†…å­˜/èµ„æºï¼ˆåœ¨æç«¯æƒ…å†µä¸‹ï¼Œå¦‚æœæœ‰éå¸¸å¤šçš„å®šæ—¶å™¨è€Œä¸æ¸…ç†ï¼Œå¯èƒ½ä¼šå¸¦æ¥é¢å¤–è´Ÿæ‹…ï¼‰ã€‚ä¸ºäº†é¿å…â€œå®šæ—¶å™¨åˆ°ç‚¹ååˆå»æ‰§è¡Œ `abort()`ï¼Œä»è€Œæ‰“æ–­æœ¬å·²å®Œæˆçš„è¯·æ±‚æˆ–å¼•å‘å¤šä½™å¼‚å¸¸â€ï¼Œå°±è¦åœ¨è¯·æ±‚ç»“æŸæ—¶æ¸…é™¤è¿™ä¸ªå®šæ—¶å™¨ã€‚

- 5 ç§’åˆ°äº†ï¼Œ`setTimeout(() => ac.abort(), 5000)` å°±æ‰§è¡Œ `ac.abort()`ï¼Œè¿™ä¼šè®© `fetch` æŠ›å‡º `AbortError`ã€‚
- æŠ›å‡ºåä¼šè¢« `catch (error)` æ•è·ï¼Œå¹¶è¿”å› `"terrible"`.
- **ä¹Ÿå°±æ˜¯è¯´**ï¼Œå¦‚æœç½‘ç»œè¯·æ±‚è¶…è¿‡ 5 ç§’è¿˜æ²¡å“åº”ï¼Œæˆ‘ä»¬ä¼š**ä¸»åŠ¨è§¦å‘**ä¸­æ–­ï¼Œè®©è¯·æ±‚æŠ›é”™è¿›å…¥ `catch`ã€‚
- è¿™æ­£å¥½å®ç°äº†**â€œè¶…è¿‡ 5 ç§’å°±è¿”å› â€˜terribleâ€™â€**ã€‚
- å› æ­¤ï¼Œä½ åœ¨ `try` å—å†…ä¸ä¼šçœ‹åˆ°æ˜¾å¼ â€œif (duration > 5000) { â€¦ }â€ï¼Œå› ä¸º**5 ç§’è¶…æ—¶å·²ç»åœ¨å¦ä¸€æ¡â€œè‡ªåŠ¨ä¸­æ–­â€è·¯å¾„ç”Ÿæ•ˆ**ã€‚





#### 6 `test` éƒ¨åˆ† `(async () => {})();` è¿™ä¸ªç»“æ„æ˜¯å•¥æ„æ€ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ª**ç«‹å³æ‰§è¡Œçš„å¼‚æ­¥è‡ªæ‰§è¡Œå‡½æ•°**ï¼ˆIIFE: Immediately Invoked Function Expressionï¼‰çš„å†™æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼š

1. **å®šä¹‰ä¸€ä¸ªåŒ¿åçš„ async å‡½æ•°** `async () => { ... }`
2. **ç«‹åˆ»è°ƒç”¨å®ƒ** `(...)();`
3. è¿™æ ·å°±èƒ½åœ¨ä¸€ä¸ª**ç‹¬ç«‹çš„ä½œç”¨åŸŸ**é‡Œä½¿ç”¨ `await`ï¼Œè€Œä¸å¿…å†™ä¸€ä¸ªå•ç‹¬çš„ `.then()` å›è°ƒï¼Œæˆ–è€…åœ¨é¡¶å±‚ä½¿ç”¨ `await`ï¼ˆåœ¨è¾ƒæ–°ç‰ˆæœ¬çš„ Node é‡Œæ˜¯å¯ä»¥ä½¿ç”¨é¡¶å±‚ `await` çš„ï¼Œä½†å†å²ä¸Šå¾ˆå¤šåœ°æ–¹è¿˜ä¸æ”¯æŒï¼‰ã€‚











## Question 2

Suppose we are developing a e-commerce app, and the backend database stores all product categories. At the frontend, the App needs to get all categories in a **tree** structure, for example:

```javascript
{
  categoryId: "root",
  name: "Root Category",
  parent: null,
  children: [
    {
      categoryId: "category1",
      name: "Category One",
      parent: "root",
      children: [
        {
      		categoryId: "category1-1",
      		name: "Category One - One",
          parent: "category1"
      		children: [...]
    		}
      ]
    },
    {
      categoryId: "category2",
      name: "Category Two",
      parent: "root",
      children: []
    },
    ...
  ]
}
```

As you can see, each category has an `id` field called `categoryId` which is unique amoung all categories(could be an `uuid`), a `name`, a `parent` field which is the parent category id, and could have children categories. But in the server, after querying the database, categories are returned as an `array`, for example:

```javascript
[
  {
    categoryId: "category1",
    parent: "root",
    name: "Category One"
  },
  {
    categoryId: "category2",
    parent: "root",
    name: "Category Two"
  },
  {
    categoryId: "category1-1",
    parent: "category1",
    name: "Category One One"
  },
  ...
]
```

and root category is not stored in the database. 

### What you need to do

1. Implement and run a simple RESTFul server that only has one endpoint, which replies the **category tree** based on given categories data (please refer to the `categories.json` file in the folder). You don't need to implement a database, just write a function that converts the category array (loaded from the `json` file) to the category tree and reply it to the frontend. 
2. Implement a frontend function that sends request to the endpoint you just created, fetch the **category tree** and print it in the console. 

### What you need to know

1. All categories in the `json` file can be included in one tree.
2. This category tree has unlimited levels (maybe not possible in the real world, but in this question, suppose each category could have children, no matter which level it is in).
3. Converting an array to a tree has many approaches, we would like to see that your approach has a low time complexity. 
4. Please write your code in seperate files (for example, your server program could be in a file called `server.js`, and your font end function will be in a file called `fetchCategories.js`).

### How would we test & review

1. We would run your server at `localhost:8080`, and use `Postman` to call the endpoint, checking if the category data is returned as expected.
2. We would run your frontend function file in terminal, and check the output.
3. We would go through the converter function and check your code logic.



#### 1 ä¸ºä»€ä¹ˆå‰ç«¯éœ€è¦æ ‘ç»“æ„çš„ Categoriesï¼Ÿ

1. å‰ç«¯å±•ç¤ºéœ€æ±‚

   - åœ¨ç”µå•†/å•†å“ç®¡ç†ç•Œé¢ä¸­ï¼Œåˆ†ç±»å¸¸å¸¸è¦ä»¥

     åˆ†å±‚çš„å½¢å¼

     å±•ç°ç»™ç”¨æˆ·ï¼Œä¾‹å¦‚ï¼š

     - ã€Œæ ¹åˆ†ç±»ã€ â†’ ã€Œå­åˆ†ç±»1ã€ â†’ ã€Œå­åˆ†ç±»1-1ã€ â†’ ã€Œå­åˆ†ç±»1-2ã€â€¦
     - **è¿™æœ‰åŠ©äºå‰ç«¯ç»„ä»¶ (å¦‚ä¸‹æ‹‰èœå•ã€æ ‘å½¢èœå•ã€å·¦ä¾§å¯¼èˆªæ ) æ¸…æ™°å‘ˆç°å¤šçº§åˆ†ç±»**ã€‚

2. å¿«é€Ÿå±•å¼€/æŠ˜å 

   - å¦‚æœåˆ†ç±»æœ‰å¤šå±‚çº§ï¼Œå‰ç«¯é€šè¿‡**æ ‘ç»“æ„**å¯ä»¥æ›´æ–¹ä¾¿åœ°å®ç°**å±•å¼€/æŠ˜å **ï¼Œæˆ–è€…åƒ Vue/React é‡Œé€šè¿‡é€’å½’ç»„ä»¶æ¥æ˜¾ç¤ºå­åˆ†ç±»åˆ—è¡¨ã€‚

3. æ•°æ®å…³è”æ¸…æ™°

   - è‹¥æ•°æ®é‡Œåªæœ‰ã€ŒparentIdã€ä½†æ²¡æœ‰ã€Œchildrenã€ï¼Œåœ¨å‰ç«¯æ¸²æŸ“æ—¶éœ€è¦**é¢‘ç¹æŸ¥æ‰¾**ã€Œè°æ˜¯æˆ‘å­©å­ï¼Ÿã€ã€‚
   - è½¬æ¢æˆæ ‘ç»“æ„åï¼Œâ€œchildâ€ çš„ä¿¡æ¯ç›´æ¥åœ¨ `children` æ•°ç»„é‡Œï¼Œ**æŸ¥è¯¢/æ“ä½œ**å˜å¾—æ›´ç®€å•ã€‚

å› æ­¤ï¼Œ**å°†åˆ†ç±»ç»„ç»‡æˆæ ‘**å¯ä»¥åœ¨ UI å±‚**å¿«é€Ÿå±•ç¤º**ã€**å®¹æ˜“æ“ä½œ**ï¼Œè¿™æ˜¯å¸¸è§çš„å‰ç«¯åšæ³•ã€‚

------

#### 2 ä¸ºä»€ä¹ˆæƒ³åˆ°ç”¨ `Map`ï¼Ÿï¼ˆè§£å†³ä»€ä¹ˆé—®é¢˜ï¼‰

2.1 å¸¸è§çš„ä½æ•ˆæ€è·¯

- åˆå­¦è€…å¸¸ä¼šç”¨

  åŒé‡å¾ªç¯

  ï¼š

  ```js
  // ä¼ªç ï¼šO(n^2)
  for (const category of categories) {
    for (const maybeChild of categories) {
      if (maybeChild.parent === category.categoryId) {
        category.children.push(maybeChild);
      }
    }
  }
  ```

  - è¿™ç§åšæ³•**æ—¶é—´å¤æ‚åº¦**æ˜¯ **O(n^2)**ï¼Œå½“æ•°æ®é‡å¾ˆå¤§æ—¶æ•ˆç‡ä¼šå¾ˆå·®ã€‚

2.2 åˆ©ç”¨ `Map` ä¼˜åŒ–åˆ° O(n)

- å¦‚æœæˆ‘ä»¬èƒ½åœ¨**ä¸€æ¬¡éå†**åï¼Œå°±èƒ½**å¿«é€Ÿæ‰¾åˆ°**æŸä¸ªåˆ†ç±»çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†…å±‚å¾ªç¯ã€‚
- ä¾‹å¦‚ï¼Œé€šè¿‡ `categoryMap.set(categoryId, categoryObject)`ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ O(1) æ—¶é—´å–å‡ºå¯¹åº”çš„å¯¹è±¡ã€‚
- è¿™æ ·ï¼Œå°±èƒ½å®ç°ï¼š
  1. **ç¬¬ä¸€æ¬¡éå†**ï¼šæŠŠæ‰€æœ‰åˆ†ç±»å­˜åˆ° `Map` é‡Œï¼Œå½¢å¦‚ `map.set(categoryId, { ...category, children: [] })`ã€‚
  2. **ç¬¬äºŒæ¬¡éå†**ï¼šå¯¹æ¯ä¸ªåˆ†ç±»ï¼Œçœ‹çœ‹å®ƒçš„ `parent`ï¼Œç„¶åç›´æ¥ `map.get(parent)` å–å¾—çˆ¶åˆ†ç±»å¯¹è±¡ï¼ŒæŠŠè‡ªå·± push åˆ°çˆ¶åˆ†ç±»çš„ `children` é‡Œã€‚
- è¿™æ ·ï¼Œ**æ‰¾çˆ¶åˆ†ç±»**æ˜¯ O(1)ï¼Œæ•´ä¸ªè¿‡ç¨‹åªéœ€è¦ O(n) å°±èƒ½æ„é€ å¥½æ‰€æœ‰çš„çˆ¶å­å…³ç³»ã€‚

åŸç†å›¾ç¤º

```js
categories array                 Map / Hash Table
[                                 categoryId  ->  {categoryId, name, parent, children:[]}
  { categoryId: 'c1', parent: 'root', ... },          'c1'  -> { ... }  
  { categoryId: 'c2', parent: 'root', ... },          'c2'  -> { ... }
  { categoryId: 'c1-1', parent: 'c1', ... },          'c1-1'-> { ... }
]

1) åˆ›å»º map
for c in categories: map.set(c.categoryId, { ...c, children: [] })

2) çˆ¶å­å…³è”
for c in categories:
   let childObj = map.get(c.categoryId)
   if c.parent != 'root':
       let parentObj = map.get(c.parent) 
       parentObj.children.push(childObj)
   else
       // belongs to root
```

------

3. å¦‚ä½•ä»æ•°ç»„è½¬æ¢æˆæ ‘ï¼Ÿ

3.1 æ­¥éª¤è¯¦è§£ï¼ˆO(n) è§£æ³•ï¼‰

1. **åˆ›å»ºä¸€ä¸ªç©ºçš„ `Map`**ï¼š`categoryMap = new Map()`.

2. éå†æ•°ç»„

   ï¼ˆcategoriesï¼‰ï¼Œå°†æ¯ä¸ªåˆ†ç±»åˆå§‹åŒ–ä¸ºï¼š

   ```js
   // pseudo
   for category in categories:
     categoryMap.set(category.categoryId, {
       categoryId: category.categoryId,
       name: category.name,
       parent: category.parent,
       children: []
     })
   ```

   - è¿™æ · `Map` é‡Œå°±æœ‰äº†**æ‰€æœ‰åˆ†ç±»å¯¹è±¡**ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸ªå¯¹è±¡åŠ äº†ä¸€ä¸ªç©º `children` æ•°ç»„ã€‚

3. å†æ¬¡éå†æ•°ç»„

   ï¼Œå¯¹æ¯ä¸ªåˆ†ç±»ï¼š

   - å¦‚æœ `category.parent === 'root'`ï¼Œè¯´æ˜å®ƒæ˜¯æ ¹å±‚åˆ†ç±»ï¼Œéœ€å¦è¡Œå¤„ç†(å¯èƒ½æ”¾åˆ°ä¸€ä¸ª `rootChildren` æ•°ç»„é‡Œ)ã€‚

   - å¦‚æœ 

     ```
     category.parent !== 'root'
     ```

     ï¼Œè¯´æ˜æœ‰çˆ¶åˆ†ç±»ï¼š

     1. `parentObj = categoryMap.get(category.parent)`
     2. `parentObj.children.push( categoryMap.get(category.categoryId) )`

   - è¿™æ ·å°±æŠŠå­åˆ†ç±»**æŒ‚åˆ°çˆ¶åˆ†ç±»çš„ `children`** é‡Œã€‚

4. **(å¯é€‰) å»ºç«‹ä¸€ä¸ªè™šæ‹Ÿçš„â€œRoot Categoryâ€**ï¼ŒæŠŠæ‰€æœ‰ `rootChildren` æŒ‚åˆ°è¿™ä¸ªè™šæ‹Ÿ root çš„ `children` ä¸‹ï¼Œä»¥ä¾¿è¿”å›ä¸€ä¸ªç»Ÿä¸€çš„æ ‘ã€‚

3.2 ä¼˜ç‚¹

- åªéœ€è¦ä¸¤æ¬¡**çº¿æ€§éå†**(O(n))ï¼Œæ¯æ¬¡å¯¹ `Map` çš„æ“ä½œæ˜¯ O(1)ã€‚
- å¯è½»æ¾å¤„ç†å¤šçº§åµŒå¥—ï¼šåªè¦æœ‰ `parentId` å°±èƒ½**æ— é™å¾€ä¸‹**ã€‚



æ‰€ä»¥pushåˆ°categoryMapç›¸å½“äºåŠ è½½åˆ°äº†çˆ¶èŠ‚ç‚¹çš„childrenå±æ€§é‡Œé¢(å±‚å±‚é€’å½’)ï¼Œè€Œæ‰€æœ‰é¡¶å±‚çˆ¶èŠ‚ç‚¹æ•°æ®éƒ½è¢«pushåˆ°äº†rootCategories, æ‰€ä»¥rootCategorieså°±åŒ…å«äº†æ‰€æœ‰èŠ‚ç‚¹



## Question 3

In React, `Redux` is used to store cross-component data. Suppose we are fetching the categories data described in Question 2 and store it into redux in a react app, and use the data in a `TreeSelect` component to allow the user select one of these categories. The `TreeSelect` component is a dropdown selector like below:

![image-20210322115849727](D:\Notes\web-notes\assets\TreeSelect.png)

### What you need to do

Please implement a simple React app that allows the user to select **ONE** category through this `TreeSelect` component, and the data is fetched from the API you implemented in Question 2 and stored in `Redux`. Once a categroy is selected, the page will popup an `alert` to show the `id` of the selected category.

We'd like to see two ways of implementing asynchronous calls. Put two buttons in the page:

1. Button 1: Click this button will fetch categories data through `redux saga` , and then store it into `Redux`.
2. Button 2: Click this button will fetch categories data and store it into `Redux` through a custom `hook` implemented by yourself.

### What you need to know

1. We recommend to use `TreeSelect` component of `Ant Design` , but you are also free to use any other package or component, or even implement this component by yourself. You don't need to implement any fancy effects of this component, just ensure mouse clicks trigger dropdown and select actions.

2. The categories data may have multiple levels, so hardcoding the data passed into `TreeSelect` component is not the way we'd like to see, but you can assume that the data structure of category node is fixed: 

   ```typescript
   interface CategoryNode {
     categoryId: string
     name: string
     parent: string
     children: Array<CategoryNode>
   }
   ```

3. You can implement one of them if you are not familiar with `redux saga` or `hook`, but function component is the prefered way for us in both approaches. 

4. Put this React App in a public repository of your personal GitHub page, commit your progress regularly, and let us know the link of this repo.

### How would we test & review

1. We would check your coding style of implementing this React App.
2. We would check your way of generating the selection options of `TreeSelect` based on multi-level, uncertain category data. 
3. We would run your React App locally (`localhost:3000`) and use `Redux DevTools` to check the action flows of your app.



# Redux Toolkit

ä½¿ç”¨ Redux Toolkit è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªé‡è¦æ¦‚å¿µï¼š

- **Storeï¼ˆå­˜å‚¨ï¼‰**ï¼šå­˜æ”¾å…¨å±€çš„çŠ¶æ€æ•°æ®
- **Sliceï¼ˆåˆ‡ç‰‡ï¼‰**ï¼šå®šä¹‰çŠ¶æ€ï¼ˆstateï¼‰åŠä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•ï¼ˆreducersï¼‰
- **Actionsï¼ˆåŠ¨ä½œï¼‰**ï¼šè§¦å‘çŠ¶æ€å˜æ›´çš„æŒ‡ä»¤
- **Reducerï¼ˆå¤„ç†å™¨ï¼‰**ï¼šæ¥æ”¶ `action` å¹¶æ›´æ–° `state`
- **Providerï¼ˆæä¾›è€…ï¼‰**ï¼šè®© React ç»„ä»¶è®¿é—® Redux `store`
- **useSelector & useDispatchï¼ˆé’©å­ï¼‰**ï¼šåœ¨ç»„ä»¶ä¸­è¯»å–/ä¿®æ”¹ Redux `state`

**Redux Toolkit ç¤ºä¾‹**ï¼Œå…¨å±€ç®¡ç† **æµ…è‰²/æ·±è‰²æ¨¡å¼ï¼ˆlight/dark modeï¼‰**

```jsx
import { createSlice } from "@reduxjs/toolkit";

const initialState = {
  mode: "dark" 
};

export const globalSlice = createSlice({
  name: "global",
  initialState,
  reducers: {
    setMode: (state) => {
      state.mode = state.mode === "light" ? "dark" : "light";
    },
  },
});

export const { setMode } = globalSlice.actions;
export default globalSlice.reducer;
```

create **Slice**, export **Actions** and **Reducer**

```jsx
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./index.css";
import App from "./App.jsx";
import { configureStore } from "@reduxjs/toolkit";
import globalReducer from "state";
import { Provider } from "react-redux";

const store = configureStore({
  reducer: {
    global: globalReducer,
  },
});

createRoot(document.getElementById("root")).render(
  <StrictMode>
    <Provider store={store}>
      <App />
    </Provider>
  </StrictMode>
);
```

create **Store**

`Provider store={store}` let the whole React app be able to access Redux `store`

`useSelector` can read Redux `state`, `useDispatch` triggers `setMode` change

```jsx
    const mode = useSelector((state) => state.global.mode);
```



# Redux Toolkit (Thunk as default) vs Redux Saga

Redux Toolkit å’Œ Redux Saga **æ ¸å¿ƒåŒºåˆ«** ä¸ä»…ä»…æ˜¯ Saga å¤šäº† `watcher`ï¼Œå®ƒä»¬åœ¨**å¼‚æ­¥ç®¡ç†æ–¹å¼**ä¸Šæœ‰æœ¬è´¨ä¸åŒï¼š

| **å¯¹æ¯”é¡¹**       | **Redux Toolkit (Thunk)**     | **Redux Saga**                           |
| ---------------- | ----------------------------- | ---------------------------------------- |
| **é»˜è®¤é›†æˆ**     | âœ… é»˜è®¤é›†æˆ Thunk              | âŒ éœ€è¦æ‰‹åŠ¨å®‰è£…                           |
| **å¼‚æ­¥å¤„ç†æ–¹å¼** | `dispatch(action)` ç›´æ¥è§¦å‘   | `yield` ç›‘å¬ `dispatch(action)`          |
| **å†™æ³•**         | `createAsyncThunk()` å¤„ç†å¼‚æ­¥ | `function* watcherSaga()` ç›‘å¬å¼‚æ­¥       |
| **å‰¯ä½œç”¨æ§åˆ¶**   | ä¾èµ– `Promise`ï¼Œä¸èƒ½æš‚åœ      | `yield` å¯ä»¥æš‚åœã€ç­‰å¾…                   |
| **æ”¯æŒå¹¶å‘æ§åˆ¶** | âŒ ä¸æ”¯æŒå¹¶å‘æ§åˆ¶              | âœ… æ”¯æŒ `takeLatest` / `takeEvery`        |
| **é€‚ç”¨åœºæ™¯**     | âœ… é€‚åˆå¤§éƒ¨åˆ†åº”ç”¨              | âœ… é€‚åˆå¤æ‚çš„å¼‚æ­¥æµç¨‹ï¼ˆè½®è¯¢ã€å–æ¶ˆè¯·æ±‚ç­‰ï¼‰ |
| **å­¦ä¹ æ›²çº¿**     | âœ… ç®€å•æ˜“å­¦                    | âŒ è¯­æ³•è¾ƒå¤æ‚                             |

**ç›‘å¬æ‰€æœ‰ action**ï¼ˆSaga çš„ `takeEvery` / `takeLatest` å¯ä»¥ï¼‰ã€‚

**æ§åˆ¶å¼‚æ­¥æµ**ï¼ˆSaga å¯ä»¥ `yield` æš‚åœå’Œæ¢å¤ï¼‰ã€‚

**å–æ¶ˆä»»åŠ¡**ï¼ˆSaga å¯ä»¥ `cancel` è¯·æ±‚ï¼‰ã€‚

ğŸ“Œ **Redux Saga é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š** 

1ï¸âƒ£ **é¡ºåºæ‰§è¡Œå¤šä¸ª API è¯·æ±‚**ï¼ˆå¦‚ç™»å½•åè·å–ç”¨æˆ·æ•°æ® â†’ è·å–æ¶ˆæ¯ï¼‰ã€‚
2ï¸âƒ£ **å–æ¶ˆ API è¯·æ±‚**ï¼ˆå¦‚æœç´¢æ—¶å–æ¶ˆä¸Šä¸€ä¸ªæœªå®Œæˆçš„è¯·æ±‚ï¼‰ã€‚
3ï¸âƒ£ **ç®¡ç† WebSocket è¿æ¥**ï¼ˆå¦‚ç›‘å¬æ–°æ¶ˆæ¯ï¼‰ã€‚
4ï¸âƒ£ **èŠ‚æµ / é˜²æŠ– API è°ƒç”¨**ï¼ˆå¦‚é˜²æ­¢çŸ­æ—¶é—´å†…å¤šæ¬¡ç‚¹å‡»æŒ‰é’®ï¼‰ã€‚
5ï¸âƒ£ **ç›‘å¬å¤šä¸ª Redux Action è§¦å‘ç›¸åŒçš„é€»è¾‘**ï¼ˆå¦‚è´­ç‰©è½¦æ›´æ–°ï¼‰ã€‚



## **1ï¸âƒ£ å¤„ç†å¤šä¸ªå¼‚æ­¥ API è¯·æ±‚çš„é¡ºåºæ‰§è¡Œ**

### **åœºæ™¯ï¼šæŸäº› API è¯·æ±‚å¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œ**

å‡è®¾ä¸€ä¸ªç”¨æˆ·ç™»å½•æµç¨‹ï¼š

1. ç”¨æˆ·æäº¤ `LOGIN_REQUEST`
2. è¯·æ±‚ç™»å½• API (`fetchLogin`)
3. **ç™»å½•æˆåŠŸå**ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ (`fetchUserData`)
4. **ç”¨æˆ·æ•°æ®è·å–å®Œæˆå**ï¼Œè·å–ç”¨æˆ·çš„æ¶ˆæ¯ (`fetchUserMessages`)

ğŸ“Œ **Saga å®ç°æŒ‰é¡ºåºæ‰§è¡Œ**

```jsx
import { takeLatest, call, put } from "redux-saga/effects";
import { loginSuccess, loginFailure } from "./authSlice";

// 1ï¸âƒ£ API è°ƒç”¨å‡½æ•°
const fetchLogin = async (credentials) => {
    const response = await fetch("/api/login", {
        method: "POST",
        body: JSON.stringify(credentials),
    });
    return response.json();
};

const fetchUserData = async (userId) => {
    const response = await fetch(`/api/user/${userId}`);
    return response.json();
};

const fetchUserMessages = async (userId) => {
    const response = await fetch(`/api/messages/${userId}`);
    return response.json();
};

// 2ï¸âƒ£ Saga å¤„ç†å¼‚æ­¥æµç¨‹
function* loginSaga(action) {
    try {
        const user = yield call(fetchLogin, action.payload);
        yield put(loginSuccess(user));

        const userData = yield call(fetchUserData, user.id);
        console.log("User Data:", userData);

        const messages = yield call(fetchUserMessages, user.id);
        console.log("User Messages:", messages);
    } catch (error) {
        yield put(loginFailure(error.message));
    }
}

// 3ï¸âƒ£ ç›‘å¬ LOGIN_REQUEST action
export function* watchLogin() {
    yield takeLatest("LOGIN_REQUEST", loginSaga);
}
```

âœ… **ä¼˜åŠ¿**

- **ä¿è¯æŒ‰é¡ºåºæ‰§è¡Œ API è¯·æ±‚**ï¼Œå…ˆç™»å½• â†’ è·å–ç”¨æˆ·æ•°æ® â†’ è·å–æ¶ˆæ¯ã€‚
- **é¿å…åµŒå¥—å›è°ƒ (`then()` Hell)**ï¼Œä»£ç ç»“æ„æ¸…æ™°ã€‚

âŒ **ç”¨ `useCallback` æˆ– `useEffect` å¯èƒ½éœ€è¦å¤šä¸ª `useEffect` ç»„åˆï¼Œä»£ç å®¹æ˜“æ··ä¹±**ã€‚

------

## **2ï¸âƒ£ å–æ¶ˆ API è¯·æ±‚**

### **åœºæ™¯ï¼šç”¨æˆ·ç¦»å¼€é¡µé¢æ—¶å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„ API è¯·æ±‚**

å‡è®¾ï¼š

- ç”¨æˆ·åœ¨**æœç´¢æ¡†**è¾“å…¥æ—¶è§¦å‘ `searchRequest` API è¯·æ±‚ã€‚
- **å¦‚æœç”¨æˆ·å¾ˆå¿«è¾“å…¥æ–°çš„å…³é”®å­—ï¼Œåº”è¯¥å–æ¶ˆä¸Šä¸€ä¸ªè¯·æ±‚ï¼Œé¿å…æµªè´¹èµ„æºã€‚**

ğŸ“Œ **Saga è§£å†³æ–¹æ¡ˆ**

```jsx
import { takeLatest, call, put, cancelled } from "redux-saga/effects";

const fetchSearchResults = async (query) => {
    const response = await fetch(`/api/search?q=${query}`);
    return response.json();
};

// Saga ä»»åŠ¡
function* searchSaga(action) {
    const abortController = new AbortController();
    try {
        const data = yield call(fetchSearchResults, action.payload, { signal: abortController.signal });
        yield put({ type: "SEARCH_SUCCESS", payload: data });
    } catch (error) {
        if (yield cancelled()) {
            abortController.abort(); // å–æ¶ˆè¯·æ±‚
        } else {
            yield put({ type: "SEARCH_FAILURE", payload: error.message });
        }
    }
}

// ç›‘å¬å¹¶è‡ªåŠ¨å–æ¶ˆä¸Šä¸€æ¬¡è¯·æ±‚
export function* watchSearch() {
    yield takeLatest("SEARCH_REQUEST", searchSaga);
}
```

âœ… **ä¼˜åŠ¿**

- **è‡ªåŠ¨å–æ¶ˆä¹‹å‰çš„ API è¯·æ±‚ï¼Œå‡å°‘ä¸å¿…è¦çš„è¯·æ±‚**
- **é˜²æ­¢ç«æ€æ¡ä»¶ï¼Œç¡®ä¿åªæœ‰æœ€æ–°çš„è¯·æ±‚ç”Ÿæ•ˆ**

------

## **3ï¸âƒ£ å¤„ç† WebSocket è¿æ¥**

### **åœºæ™¯ï¼šåœ¨ WebSocket è¿æ¥æ—¶ç›‘å¬æ–°æ¶ˆæ¯ï¼Œå¹¶è‡ªåŠ¨é‡æ–°è¿æ¥**

ğŸ“Œ **Saga å®ç° WebSocket ç›‘å¬**

```jsx
import { eventChannel } from "redux-saga";
import { take, call, put, fork, cancel } from "redux-saga/effects";

// åˆ›å»º WebSocket äº‹ä»¶ç›‘å¬
const createWebSocketChannel = (socket) => {
    return eventChannel((emit) => {
        socket.onmessage = (event) => {
            emit({ type: "NEW_MESSAGE", payload: JSON.parse(event.data) });
        };
        socket.onerror = (error) => {
            emit({ type: "WEBSOCKET_ERROR", payload: error });
        };
        return () => {
            socket.close();
        };
    });
};

// ç›‘å¬ WebSocket æ¶ˆæ¯
function* watchWebSocketMessages(socket) {
    const channel = yield call(createWebSocketChannel, socket);
    try {
        while (true) {
            const action = yield take(channel);
            yield put(action);
        }
    } finally {
        channel.close();
    }
}

// WebSocket è¿æ¥ç®¡ç†
function* connectWebSocket() {
    const socket = new WebSocket("wss://example.com/socket");
    const task = yield fork(watchWebSocketMessages, socket);
    yield take("DISCONNECT_WEBSOCKET");
    yield cancel(task); // å…³é—­ WebSocket
}

// ç›‘å¬ WebSocket è¿æ¥
export function* watchWebSocket() {
    yield take("CONNECT_WEBSOCKET", connectWebSocket);
}
```

âœ… **ä¼˜åŠ¿**

- **WebSocket ç›‘å¬å™¨ä¸ä¼šå½±å“ä¸»çº¿ç¨‹**
- **å¯ä»¥æ‰‹åŠ¨æ–­å¼€è¿æ¥ï¼ˆ`DISCONNECT_WEBSOCKET`ï¼‰**
- **Saga çš„ `take()` è®©ä»£ç æ›´æ˜“è¯»**

âŒ **ç”¨ `useEffect` + WebSocket å¯èƒ½éœ€è¦ `useRef`ï¼Œä»£ç å®¹æ˜“æ··ä¹±**ã€‚

------

## **4ï¸âƒ£ å¤„ç† API è¯·æ±‚èŠ‚æµï¼ˆThrottleï¼‰**

### **åœºæ™¯ï¼šç”¨æˆ·é¢‘ç¹ç‚¹å‡»æŒ‰é’®æ—¶ï¼ŒAPI åªåº”è¯¥åœ¨ä¸€å®šæ—¶é—´é—´éš”å†…è§¦å‘**

å‡è®¾ï¼š

- ç”¨æˆ·å¿«é€Ÿç‚¹å‡» **â€œåŠ è½½æ›´å¤šâ€** æŒ‰é’®ï¼Œåº”è¯¥åªæ‰§è¡Œ**æœ€æ–°çš„ä¸€æ¬¡è¯·æ±‚**ï¼Œå¹¶å¿½ç•¥çŸ­æ—¶é—´å†…çš„é‡å¤è¯·æ±‚ã€‚

ğŸ“Œ **Saga è§£å†³æ–¹æ¡ˆ**

```jsx
import { throttle, call, put } from "redux-saga/effects";

const fetchMoreData = async () => {
    const response = await fetch("/api/more-data");
    return response.json();
};

function* loadMoreSaga() {
    try {
        const data = yield call(fetchMoreData);
        yield put({ type: "LOAD_MORE_SUCCESS", payload: data });
    } catch (error) {
        yield put({ type: "LOAD_MORE_FAILURE", payload: error.message });
    }
}

// ç›‘å¬ `LOAD_MORE_REQUEST`ï¼Œä½† **é™åˆ¶ 2 ç§’å†…åªèƒ½è§¦å‘ä¸€æ¬¡**
export function* watchLoadMore() {
    yield throttle(2000, "LOAD_MORE_REQUEST", loadMoreSaga);
}
```

âœ… **ä¼˜åŠ¿**

- **é˜²æ­¢ç”¨æˆ·çŸ­æ—¶é—´å†…å¤šæ¬¡ç‚¹å‡»å¯¼è‡´ API è¿‡è½½**
- **ç›¸æ¯” `debounce()`ï¼ŒThrottle ç¡®ä¿æ¯éš”ä¸€å®šæ—¶é—´æ‰§è¡Œä¸€æ¬¡**

------

## **5ï¸âƒ£ ç›‘å¬å¤šä¸ª Action ç»Ÿä¸€ç®¡ç†**

### **åœºæ™¯ï¼šå¤šä¸ª Action è§¦å‘åŒä¸€ä¸ª API**

å‡è®¾ï¼š

- `ADD_TO_CART`ã€`REMOVE_FROM_CART` å’Œ `UPDATE_CART` éƒ½åº”è¯¥è§¦å‘ `fetchCart()` è·å–æœ€æ–°è´­ç‰©è½¦ä¿¡æ¯ã€‚

ğŸ“Œ **Saga ç›‘å¬å¤šä¸ª action**

```jsx
import { takeEvery, call, put } from "redux-saga/effects";

const fetchCart = async () => {
    const response = await fetch("/api/cart");
    return response.json();
};

function* fetchCartSaga() {
    try {
        const cart = yield call(fetchCart);
        yield put({ type: "FETCH_CART_SUCCESS", payload: cart });
    } catch (error) {
        yield put({ type: "FETCH_CART_FAILURE", payload: error.message });
    }
}

// ç›‘å¬å¤šä¸ª action
export function* watchCartUpdates() {
    yield takeEvery(["ADD_TO_CART", "REMOVE_FROM_CART", "UPDATE_CART"], fetchCartSaga);
}
```

âœ… **ä¼˜åŠ¿**

- **ç®€åŒ–å¤šä¸ª Action è§¦å‘åŒä¸€é€»è¾‘çš„ä»£ç **
- **é¿å…åœ¨ `useEffect()` ä¸­å†™å¤šæ¬¡ `dispatch(fetchCart())`**



toolkit å¸¸ç”¨ RTK Query æ¥å¤„ç†api call, sagaåˆ™æ˜¯åœ¨sagaé‡Œé¢yield

```
import { createApi, fetchBaseQuery } from "@reduxjs/toolkit/query/react";

// 1ï¸âƒ£ åˆ›å»º API Slice
export const userApi = createApi({
    reducerPath: "userApi",
    baseQuery: fetchBaseQuery({ baseUrl: "https://jsonplaceholder.typicode.com/" }),
    endpoints: (builder) => ({
        getUserById: builder.query({
            query: (id) => `users/${id}`,
        }),
    }),
});

// 2ï¸âƒ£ è‡ªåŠ¨ç”Ÿæˆ `useGetUserByIdQuery` hook
export const { useGetUserByIdQuery } = userApi;

// 3ï¸âƒ£ é…ç½® Store
import { configureStore } from "@reduxjs/toolkit";
export const store = configureStore({
    reducer: { [userApi.reducerPath]: userApi.reducer },
    middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(userApi.middleware),
});
```



# Redux Saga

a redux middleware that allows you to handle a lot of api calls or async operations in a very clean way of writing it

make **api calls** and handle all of the logic in a redux saga



Redux æœ¬èº«æ˜¯**åŒæ­¥çš„**ï¼Œä½†æ˜¯åº”ç”¨ä¸­ç»å¸¸éœ€è¦å¤„ç†å¼‚æ­¥æ“ä½œæ¯”å¦‚ï¼š

- **API è¯·æ±‚**ï¼ˆ`fetch`ã€`axios`ï¼‰
- æ•°æ®åº“äº¤äº’
- WebSocket è¿æ¥
- æœ¬åœ°å­˜å‚¨ï¼ˆlocalStorage/sessionStorageï¼‰

Redux ä¸èƒ½ç›´æ¥å¤„ç†è¿™äº›å‰¯ä½œç”¨ï¼ˆside effectsï¼‰ï¼Œå› æ­¤ `redux-saga` å……å½“äº†ä¸€ä¸ª **å¼‚æ­¥æ“ä½œç®¡ç†å·¥å…·**ï¼Œå¸®åŠ© Redux ä»¥æ›´æ¸…æ™°çš„æ–¹å¼å¤„ç†è¿™äº›å¼‚æ­¥ä»»åŠ¡

**è§£è€¦ ä¸šåŠ¡é€»è¾‘ å’Œ è§†å›¾ç»„ä»¶**

- é€šå¸¸ï¼Œç»„ä»¶åªå…³å¿ƒ `dispatch(action)`ï¼Œè€Œä¸ä¼šå…³å¿ƒå…·ä½“çš„å¼‚æ­¥é€»è¾‘ã€‚
- `redux-saga` å¯ä»¥æŠŠ API è¯·æ±‚ã€å¤æ‚çš„å¼‚æ­¥é€»è¾‘ã€å¹¶å‘æ§åˆ¶ã€å–æ¶ˆä»»åŠ¡ç­‰æ“ä½œæ”¾åˆ° `saga.js` æ–‡ä»¶ä¸­ï¼Œä½¿ Redux çš„ Reducer ä¾ç„¶ä¿æŒä¸º**çº¯å‡½æ•°**ï¼Œä»è€Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚

 **Redux è¦æ±‚ Reducer ä¸èƒ½æœ‰å‰¯ä½œç”¨ **Reducer åªæ ¹æ®è¾“å…¥ `state` å’Œ `action` è®¡ç®—æ–° `state`ï¼Œä¸åšå…¶ä»–äº‹æƒ…ã€‚



åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ**å¦‚æœ API åªæ˜¯ç”¨æ¥æ‹‰å–æ•°æ®ç„¶åæ¸²æŸ“ UI**ï¼Œä½ å®Œå…¨å¯ä»¥ç”¨ `useEffect` ç›´æ¥ `fetch` æˆ– `axios` è·å–æ•°æ®

ä»€ä¹ˆæ—¶å€™ `useEffect + axios` ä¸å¤Ÿç”¨äº†ï¼Ÿ

ï¼ˆ1ï¼‰å¤šä¸ª API è°ƒç”¨éœ€è¦æŒ‰é¡ºåºæ‰§è¡Œ

**åœºæ™¯**ï¼šç”¨æˆ·ç™»å½•åï¼Œéœ€è¦å…ˆè·å– `userId`ï¼Œç„¶åå†ç”¨ `userId` æ‹‰å– `userProfile` æ•°æ®ã€‚

å¯èƒ½ä¼šç”¨.thenåµŒå¥—ï¼Œå¯èƒ½åœ¨åˆ«çš„åœ°æ–¹setLocalStorageç„¶åå–å‡ºæ¥å†è°ƒç”¨getById, å¦‚æœåç»­è¿˜è¦**æ ¹æ® profile é‡Œçš„æ•°æ®å†è¯·æ±‚å…¶ä»– API**ï¼Œä»£ç ä¼šè¶Šæ¥è¶Šéš¾ç»´æŠ¤ï¼Œä¸”ä¸èƒ½åœ¨ Redux é‡Œç»Ÿä¸€ç®¡ç†çŠ¶æ€

Saga æ–¹å¼ï¼ˆæ›´æ¸…æ™°ï¼‰

```js
function* fetchUserProfile(action) {
  const loginResponse = yield call(axios.post, "/api/login", action.payload);
  const userProfile = yield call(axios.get, `/api/profile/${loginResponse.data.userId}`);
  yield put({ type: "SET_USER_PROFILE", payload: userProfile.data });
}
```

Saga è®©é€»è¾‘æ¸…æ™°å¯è¯»ï¼Œå°±åƒåŒæ­¥ä»£ç ä¸€æ · **"å…ˆæ‰§è¡Œ Aï¼Œç„¶åæ‰§è¡Œ B"**ï¼Œä¸ä¼šé™·å…¥ `then` çš„åµŒå¥—åœ°ç‹±ã€‚



ï¼ˆ2ï¼‰éœ€è¦ä»»åŠ¡å–æ¶ˆï¼ˆæœç´¢é˜²æŠ– / ä¸­æ–­è¯·æ±‚ï¼‰

**åœºæ™¯**ï¼šæœç´¢æ¡†è¾“å…¥æ—¶ï¼Œæ¯æ¬¡è¾“å…¥ä¸€ä¸ªå­—ç¬¦éƒ½ä¼šè§¦å‘ API è¯·æ±‚ï¼Œä½ å¸Œæœ›**åªä¿ç•™æœ€æ–°çš„è¯·æ±‚ï¼Œå–æ¶ˆæ‰ä¹‹å‰çš„è¯·æ±‚**ï¼Œå¦åˆ™ä¼šå¯¼è‡´ API è¿‡è½½ã€‚

ç”¨ `useEffect` å¾ˆéš¾ä¼˜é›…åœ°å–æ¶ˆæ—§è¯·æ±‚ï¼Œå®¹æ˜“å‡º Bug, å¦‚æœå¤šä¸ª API è°ƒç”¨æœ‰ä¾èµ–å…³ç³»ï¼Œç»´æŠ¤éš¾åº¦é«˜

Saga æ–¹å¼ï¼ˆtakeLatest è‡ªåŠ¨å–æ¶ˆæ—§è¯·æ±‚ï¼‰

```js
function* fetchSearchResults(action) {
  const response = yield call(axios.get, `/api/search?q=${action.payload}`);
  yield put({ type: "SET_SEARCH_RESULTS", payload: response.data });
}

function* watchSearch() {
  yield takeLatest("SEARCH_QUERY", fetchSearchResults); // åªä¿ç•™æœ€åä¸€ä¸ªè¯·æ±‚ï¼Œè‡ªåŠ¨å–æ¶ˆå‰ä¸€ä¸ª
}
```

Saga `takeLatest` **è‡ªåŠ¨å–æ¶ˆä¸Šä¸€æ¬¡è¯·æ±‚ï¼Œé¿å… API è¿‡è½½**ã€‚



ï¼ˆ3ï¼‰å¤šä¸ªç»„ä»¶å…±äº«ç›¸åŒæ•°æ®ï¼Œé¿å…é‡å¤è¯·æ±‚

**åœºæ™¯**ï¼šå¤šä¸ªç»„ä»¶éƒ½éœ€è¦è®¿é—® `userProfile`ï¼Œä½†æ˜¯æ¯æ¬¡ `useEffect` éƒ½ä¼šé‡å¤è¯·æ±‚ APIã€‚

`useEffect` æ–¹å¼: ç»„ä»¶æ¯æ¬¡æŒ‚è½½éƒ½ä¼šé‡æ–°è¯·æ±‚ APIï¼Œé€ æˆé‡å¤è¯·æ±‚ã€‚éœ€è¦æ‰‹åŠ¨åšç¼“å­˜ç®¡ç†ï¼ŒçŠ¶æ€ä¸é›†ä¸­ã€‚

Saga æ–¹å¼ï¼ˆæ•°æ®æ”¾åˆ° Reduxï¼Œå…¨å±€å…±äº«ï¼‰

```js
function* fetchUserProfile(action) {
  const response = yield call(axios.get, `/api/profile/${action.payload}`);
  yield put({ type: "SET_USER_PROFILE", payload: response.data });
}

function* watchUserProfile() {
  yield takeEvery("FETCH_USER_PROFILE", fetchUserProfile);
}
```

æ‰€æœ‰ç»„ä»¶å¯ä»¥ç›´æ¥ `useSelector(state => state.userProfile)` è·å–æ•°æ®ï¼ŒSaga åªä¼šæ‹‰å–ä¸€æ¬¡ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚



Suppose we have a UI to fetch some user data from a remote server when a button is clicked.

The component dispatches a plain object action to the store. We'll create a Saga that watches for all `USER_FETCH_REQUESTED` actions and triggers an API call to fetch the user data.

```js
class UserComponent extends React.Component {
  ...
  onSomeButtonClicked() {
    const { userId, dispatch } = this.props
    dispatch({type: 'USER_FETCH_REQUESTED', payload: {userId}})
  }
  ...
}
```

```js
import { call, put, takeEvery, takeLatest } from 'redux-saga/effects'
import Api from '...'

// Worker saga will be fired on USER_FETCH_REQUESTED actions
function* fetchUser(action) {
   try {
      const user = yield call(Api.fetchUser, action.payload.userId);
      yield put({type: "USER_FETCH_SUCCEEDED", user: user});
   } catch (e) {
      yield put({type: "USER_FETCH_FAILED", message: e.message});
   }
}

// Starts fetchUser on each dispatched USER_FETCH_REQUESTED action
// Allows concurrent fetches of user
function* mySaga() {
  yield takeEvery("USER_FETCH_REQUESTED", fetchUser);
}
```

è¿™é‡Œçš„ `function*` å®šä¹‰äº†ä¸€ä¸ª **Generator å‡½æ•°**ï¼Œ`redux-saga` ä¾èµ– `Generator` è®©å¼‚æ­¥ä»£ç å†™å¾—åƒåŒæ­¥ä»£ç ä¸€æ ·æ¸…æ™°ã€‚

`Generator` æ˜¯ JavaScript æä¾›çš„ä¸€ç§ç‰¹æ®Šå‡½æ•°ï¼Œæ”¯æŒ `yield` å…³é”®å­—ï¼Œå¯ä»¥ **æš‚åœå’Œæ¢å¤æ‰§è¡Œ**ã€‚ç±»ä¼¼äº `await`ï¼Œä½†æ¯” `await` æ›´çµæ´»ï¼š

- **æš‚åœå‡½æ•°æ‰§è¡Œï¼Œè¿”å› `yield` å³ä¾§çš„å€¼**
- **ä¸‹æ¬¡ `next()` è¢«è°ƒç”¨æ—¶ï¼Œç»§ç»­æ‰§è¡Œ**

`redux-saga` **ä¸ä¼šé˜»å¡ JavaScript çº¿ç¨‹**ï¼Œè€Œæ˜¯ï¼š

1. æ‰§è¡Œ `call(Api.fetchUser, action.payload.userId)`ï¼Œæš‚åœå‡½æ•°ç­‰å¾… API è¿”å›
2. API ç»“æœè¿”å›åï¼ŒSaga **æ¢å¤æ‰§è¡Œ** å¹¶å°†ç»“æœèµ‹å€¼ç»™ `user`
3. æ‰§è¡Œ `yield put({type: "USER_FETCH_SUCCEEDED", user: user})`ï¼Œæ´¾å‘ Redux action

Saga çš„ `put` å°±æ˜¯ Redux é‡Œçš„ `dispatch`ï¼Œç”¨äºè§¦å‘ Redux actionï¼Œæ›´æ–° `store` çŠ¶æ€ã€‚

`takeEvery` æ˜¯ `redux-saga` é‡Œçš„**ç›‘å¬å™¨**ï¼Œç”¨äºç›‘å¬æŒ‡å®šçš„ Redux Actionï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ Saga å¤„ç†é€»è¾‘ã€‚



**Redux-Saga å·¥ä½œæµç¨‹ï¼š**

1. **ç»„ä»¶ `dispatch(action)`**
2. **`takeEvery` ç›‘å¬ `action.type`**
3. **Saga å¯åŠ¨ `fetchUser`**
4. **æ‰§è¡Œ API è¯·æ±‚ï¼ˆ`call(Api.fetchUser, userId)`ï¼‰**
5. **è¯·æ±‚æˆåŠŸå `put({type: "USER_FETCH_SUCCEEDED"})`**
6. **Redux æ›´æ–° `store`**



ç›®å‰ç»™æˆ‘ä¸€ç§æ„Ÿè§‰ï¼Œå°±æ˜¯æœ‰äº›ä¸šåŠ¡ï¼Œæ¯”å¦‚è¯´postingï¼Œæˆ‘éœ€è¦æœç´¢é¤å…æˆ–dishçš„åå­—é‚£ä¹ˆå°±éœ€è¦å…ˆç¡®ä¿ç”¨æˆ·loginäº†æœ‰tokenéªŒè¯æ‰èƒ½callç›¸å…³apiï¼Œ ç„¶åæœç´¢çš„æ—¶å€™è¦ä¸åœåœ°call å¤šç§search apiæ¯”å¦‚é¤å…ï¼Œdishè¿˜æœ‰tagï¼Œé€”ä¸­å¯èƒ½è¿˜æƒ³è¦åˆ›å»ºæ–°çš„è¿™äº›ä¸œè¥¿ï¼Œè€Œæœ€åpostçš„æ—¶å€™è¿˜å¾—ä»æŸå¤„ï¼ˆæ¯”å¦‚è¯´æœ¬åœ°storageï¼‰è·å–userIdä½œä¸ºauthIdä¼ åˆ°save a postçš„æ•°æ®é‡Œé¢ï¼Œ å› ä¸ºæ•°æ®åº“é‡Œé¢å¾ˆå¤šæ—¶å€™å…³è”èµ·æ¥çš„éƒ½æ˜¯idè€Œä¸æ˜¯nameï¼Œæ‰€ä»¥å¾€å¾€éœ€è¦å¤šä¸€æ­¥éª¤getByIdæ‰èƒ½è·å–åˆ°æœ€åçš„æ•°æ®ï¼Œè€Œæœ€åçš„æ•°æ®é‡Œé¢ä¹Ÿå¯èƒ½æœ‰ç±»ä¼¼restaurantIdè¿™ç§ä¸œè¥¿ï¼Œéœ€è¦å†è½¬åŒ–ä¸ºnameçš„apiæ‰èƒ½è®©å‘ˆç°çš„é¡µé¢æœ‰æ„ä¹‰ã€‚ä»¥å‰æˆ‘éƒ½æ˜¯ä¸€æ­¥æ­¥å¤„ç†ï¼Œç°åœ¨çœ‹æ¥ç”¨ä¸­é—´ä»¶çš„è¯è¿™äº›å¤æ‚é€»è¾‘å¯ä»¥æ›´ç»Ÿä¸€åœ°ç®¡ç†ï¼Ÿè€Œä¸æ˜¯åˆ†æ•£åœ¨å„ä¸ªç»„ä»¶ï¼Ÿæˆ‘çš„ç†è§£å¯¹å—

ä½ çš„ä¸šåŠ¡é€»è¾‘æ¶‰åŠå¤šä¸ª API è¯·æ±‚ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´æœ‰**ä¾èµ–å…³ç³»**ï¼Œæ¯”å¦‚ï¼š

- **ç”¨æˆ·å¿…é¡»ç™»å½•åï¼Œæ‰èƒ½è¿›è¡Œæœç´¢** â†’ `token` éœ€è¦æ£€æŸ¥ã€å¯èƒ½éœ€è¦åˆ·æ–°
- **æœç´¢æ—¶è°ƒç”¨å¤šä¸ª APIï¼ˆé¤å… / dish / tagï¼‰**
- **å¦‚æœæœç´¢ä¸åˆ°ï¼Œå¯èƒ½è¦åˆ›å»ºæ–°çš„é¤å…ã€dish æˆ– tag**
- **å‘å¸–æ—¶ï¼Œéœ€è¦å…ˆè·å– `userId` ä½œä¸º `authId`**
- **å‘å¸–æ•°æ®é‡Œæœ‰ `restaurantId`ï¼Œä½†å‰ç«¯éœ€è¦ `restaurantName`ï¼Œæ‰€ä»¥è¿˜è¦ `getById`**
- **æ‰€æœ‰è¿™äº› API è¯·æ±‚éƒ½éœ€è¦åœ¨æ­£ç¡®çš„é¡ºåºä¸‹æ‰§è¡Œ**

ğŸš¨ **å¦‚æœåœ¨ `useEffect` é‡Œæ‰‹åŠ¨ä¸€æ­¥æ­¥æ‰§è¡Œï¼Œä»£ç ä¼šå˜å¾—éå¸¸æ··ä¹±ï¼š**

- **æ‰€æœ‰é€»è¾‘éƒ½åˆ†æ•£åœ¨å„ä¸ªç»„ä»¶é‡Œ**
- **æ¯ä¸ªç»„ä»¶å¯èƒ½éƒ½è¦å†™ `fetch` æˆ– `axios`ï¼Œå¯¼è‡´ä»£ç é‡å¤**
- **å¤šä¸ª API ä¹‹é—´çš„ä¾èµ–å¾ˆéš¾ç®¡ç†**
- **å¾ˆéš¾å¤ç”¨å’Œæµ‹è¯•**

 **ç”¨ `redux-saga` å¤„ç†åï¼Œä»£ç å°±å˜æˆä¸€ä¸ªæ¸…æ™°çš„â€œåŒæ­¥é£æ ¼â€ä¸šåŠ¡æµç¨‹ï¼Œè€Œä¸æ˜¯åˆ†æ•£åœ¨å¤šä¸ªç»„ä»¶é‡Œ**



## redux-saga-demo

npm create vite@latest

cd redux-saga-demo

npm install

npm install redux react-redux redux-saga



åœ¨ main.jsx é…ç½®å¥½æ ·æ¿ä»£ç æŠŠ reducer, store, saga è”ç³»èµ·æ¥

æˆ‘ä»¬éœ€è¦è‡ªå·±å†™ myFirstReducer å¤„ç†å™¨ç”¨æ¥æ ¹æ® action type æ›´æ–° stateï¼Œ 

è‡ªå·±å†™ mySaga ç”¨æ¥ç›‘å¬ dispatch æ´¾å‘çš„ action type , call api, put æ´¾å‘ success æˆ– fail çš„action (type and data) 

 

å½“ç»„ä»¶ç”¨ dispatch æ–¹æ³•æ—¶, ä¼ å…¥ action type, è¢« **saga** ç›‘å¬åˆ°å¹¶è§¦å‘ api call æŠŠç›¸åº”ä¿¡æ¯å’Œç»“æœçš„ action type æ´¾å‘, **reducer** ä¼šæ ¹æ® action type å¤„ç† state çš„å˜åŒ–



```jsx
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./index.css";
import App from "./App.jsx";
import { Provider } from "react-redux";
import { combineReducers, createStore, applyMiddleware } from "redux";
import createSagaMiddleware from "redux-saga";
import myFirstReducer from "./reducer";
import mySaga from "./sagas";

// Create the saga middleware 
const sagaMiddleware = createSagaMiddleware();
const rootReducer = combineReducers({
  myFirstReducer,
});
// Mount it on the Store
const store = createStore(rootReducer, applyMiddleware(sagaMiddleware));
// Run the saga
sagaMiddleware.run(mySaga);

createRoot(document.getElementById("root")).render(
  <StrictMode>
    <Provider store={store}>
      <App />
    </Provider>
  </StrictMode>
);

```



## toolkit-saga-demo

npm install @reduxjs/toolkit react-redux redux-saga





# Research Question

Task Description Description: 

Consider you are going to implement and design a school recommendation system for students in Australia. 

Requirements 

- Write a web scraper to parse the information from schools 
- Search the school that fits a student best according to multiple criteria, including but not limited to, the geolocation of the school and student, the studentâ€™s gender, the score of the student

Your task: 

Task 1 

Develop a web scraper that can navigate to Goodschools.com and collect data on secondary schools in Victoria. 

â— The information you need to collect should at least include the school **name**, **postcode**, **geolocation**, **sector** and **academic results**. 

â— Format and present this data in a CSV file containing information for at least **50 schools**. (Not required to collect all schools in the list)

â— **Write a document** to briefly describe how you did this task, what tools and libraries you would use, and any potential challenges you foresee.

â— Link: https://www.goodschools.com.au/compare-schools/search/in-victoria



Task 2 

With provided CSV datasets of secondary schools in Western Australia: 

â— Analyze the datasets to **determine criteria** that could help match students with the best-fit school based on various factors, including geolocation. 

â— Develop a **proof-of-concept prototype** that employs these criteria to suggest schools to students, based on some general attributes from a student. 

â— **Discuss** your approach to researching and selecting these criteria, the methods and technologies you would use for the prototype, and how you would validate the effectiveness of your recommender system. 

â— Link to CSV file: https://drive.google.com/file/d/1NJrSBY37OwqSQ50d1gR3cTwwh6SanjJI/view?usp=drive_link 

source: Kaggle (https://www.kaggle.com/datasets/syuzai/schools-in-western-australia/data)











# JavaScript

**å¼‚æ­¥ä»»åŠ¡ç¡®å®è¦ç­‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åæ‰æ‰§è¡Œã€‚**

**JavaScript äº‹ä»¶å¾ªç¯ä¼˜å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼ˆPromiseï¼‰**ï¼Œç„¶åæ‰§è¡Œ**å®ä»»åŠ¡ï¼ˆsetTimeout ç­‰ï¼‰**ã€‚

**`setTimeout` ä¸èƒ½ä¸¥æ ¼æ§åˆ¶æ‰§è¡Œé¡ºåº**ï¼Œå®ƒçš„æ—¶é—´åªæ˜¯â€œæœ€å°ç­‰å¾…æ—¶é—´â€ï¼Œå¯èƒ½å› äº‹ä»¶å¾ªç¯å’Œä¸»çº¿ç¨‹ä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µè€Œæœ‰æ‰€å»¶è¿Ÿã€‚

**å¤šä¸ª `setTimeout` ä»»åŠ¡çš„é¡ºåºå–å†³äºå®šæ—¶å™¨è®¾å®šçš„æ—¶é—´å’Œä¸»çº¿ç¨‹çš„ä»»åŠ¡çŠ¶æ€**ã€‚



### **`==` å’Œ `===` çš„åŒºåˆ«**

- `==`ï¼ˆ**å®½æ¾ç›¸ç­‰**ï¼‰ï¼šåœ¨æ¯”è¾ƒæ—¶ï¼Œä¼šå…ˆå°è¯•è¿›è¡Œ **ç±»å‹è½¬æ¢**ï¼Œç„¶åå†è¿›è¡Œå€¼æ¯”è¾ƒã€‚
- `===`ï¼ˆ**ä¸¥æ ¼ç›¸ç­‰**ï¼‰ï¼š**ä¸è¿›è¡Œç±»å‹è½¬æ¢**ï¼Œåªæœ‰å½“ **ç±»å‹ç›¸åŒä¸”å€¼ç›¸ç­‰** æ—¶ï¼Œæ‰è¿”å› `true`ã€‚

true == 1	**true è½¬æ¢ä¸º 1**	true
false == 0	**false è½¬æ¢ä¸º 0**	true
"1" == 1	**"1" è½¬æ¢ä¸º 1ï¼ˆå­—ç¬¦ä¸²è½¬æ•°å­—**ï¼‰	true
"" == 0	**"" è½¬æ¢ä¸º 0ï¼ˆç©ºå­—ç¬¦ä¸²è½¬æ•°å­—ï¼‰**	true
"0" == false	**"0" è½¬æ¢ä¸º 0ï¼Œfalse ä¹Ÿè½¬æ¢ä¸º 0**	true
" \t\n" == 0	**åªåŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º 0**	true



### {} å’Œ [] çš„ valueOf å’Œ toString çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ

{} çš„ valueOf ç»“æœä¸º {} ï¼ŒtoString çš„ç»“æœä¸º "[object Object]"

[] çš„ valueOf ç»“æœä¸º [] ï¼ŒtoString çš„ç»“æœä¸º ""



### ä»€ä¹ˆæ˜¯å‡å€¼å¯¹è±¡ï¼Ÿ

æµè§ˆå™¨åœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹ï¼Œåœ¨å¸¸è§„ JavaScript è¯­æ³•åŸºç¡€ä¸Šè‡ªå·±åˆ›å»ºäº†ä¸€äº›å¤–æ¥å€¼ï¼Œè¿™äº›å°±æ˜¯â€œå‡å€¼å¯¹è±¡â€ã€‚å‡å€¼å¯¹è±¡çœ‹èµ·æ¥å’Œ
æ™®é€šå¯¹è±¡å¹¶æ— äºŒè‡´ï¼ˆéƒ½æœ‰å±æ€§ï¼Œç­‰ç­‰ï¼‰ï¼Œä½†å°†å®ƒä»¬å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼æ—¶ç»“æœä¸º false æœ€å¸¸è§çš„ä¾‹å­æ˜¯ document.allï¼Œå®ƒ
æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼ŒåŒ…å«äº†é¡µé¢ä¸Šçš„æ‰€æœ‰å…ƒç´ ï¼Œç”± DOMï¼ˆè€Œä¸æ˜¯ JavaScript å¼•æ“ï¼‰æä¾›ç»™ JavaScript ç¨‹åºä½¿ç”¨ã€‚



### è§£æå­—ç¬¦ä¸²ä¸­çš„æ•°å­—å’Œå°†å­—ç¬¦ä¸²å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—çš„è¿”å›ç»“æœéƒ½æ˜¯æ•°å­—ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

è§£æå…è®¸å­—ç¬¦ä¸²ï¼ˆå¦‚ parseInt() ï¼‰ä¸­å«æœ‰éæ•°å­—å­—ç¬¦ï¼Œè§£ææŒ‰ä»å·¦åˆ°å³çš„é¡ºåºï¼Œå¦‚æœé‡åˆ°éæ•°å­—å­—ç¬¦å°±åœæ­¢ã€‚è€Œè½¬æ¢ï¼ˆå¦‚ Nu
mber ()ï¼‰ä¸å…è®¸å‡ºç°éæ•°å­—å­—ç¬¦ï¼Œå¦åˆ™ä¼šå¤±è´¥å¹¶è¿”å› NaNã€‚



### å¦‚ä½•å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—ï¼Œä¾‹å¦‚ '12.3b'?

ï¼ˆ1ï¼‰ä½¿ç”¨ Number() æ–¹æ³•ï¼Œå‰ææ˜¯æ‰€åŒ…å«çš„å­—ç¬¦ä¸²ä¸åŒ…å«ä¸åˆæ³•å­—ç¬¦ã€‚

ï¼ˆ2ï¼‰ä½¿ç”¨ parseInt() æ–¹æ³•ï¼ŒparseInt() å‡½æ•°å¯è§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚è¿˜å¯ä»¥è®¾ç½®è¦è§£æçš„æ•°å­—çš„åŸºæ•°ã€‚å½“åŸºæ•°çš„å€¼ä¸º 0ï¼Œæˆ–æ²¡æœ‰è®¾ç½®è¯¥å‚æ•°æ—¶ï¼ŒparseInt() ä¼šæ ¹æ® string æ¥åˆ¤æ–­æ•°å­—çš„åŸºæ•°ã€‚

ï¼ˆ3ï¼‰ä½¿ç”¨ parseFloat() æ–¹æ³•ï¼Œè¯¥å‡½æ•°è§£æä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å¹¶è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚

ï¼ˆ4ï¼‰ä½¿ç”¨ + æ“ä½œç¬¦çš„éšå¼è½¬æ¢ï¼Œå‰ææ˜¯æ‰€åŒ…å«çš„å­—ç¬¦ä¸²ä¸åŒ…å«ä¸åˆæ³•å­—ç¬¦ã€‚



### || å’Œ && æ“ä½œç¬¦çš„è¿”å›å€¼ï¼Ÿ

|| å’Œ && é¦–å…ˆä¼šå¯¹ç¬¬ä¸€ä¸ªæ“ä½œæ•°æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœå…¶ä¸æ˜¯å¸ƒå°”å€¼å°±å…ˆè¿›è¡Œ ToBoolean å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç„¶åå†æ‰§è¡Œæ¡ä»¶
åˆ¤æ–­ã€‚

å¯¹äº || æ¥è¯´ï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°çš„å€¼ã€‚

&& åˆ™ç›¸åï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸º true å°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœä¸º false å°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„å€¼ã€‚

**|| å’Œ && è¿”å›å®ƒä»¬å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°çš„å€¼ï¼Œè€Œéæ¡ä»¶åˆ¤æ–­çš„ç»“æœ**



### å¦‚ä½•å°†æµ®ç‚¹æ•°ç‚¹å·¦è¾¹çš„æ•°æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªé€—å·ï¼Œå¦‚ 12000000.11 è½¬åŒ–ä¸ºã€12,000,000.11ã€?

```js
// æ–¹æ³•ä¸€
function format(number) {
  return number && number.replace(/(?!^)(?=(\d{3})+\.)/g, ",");
}
// æ–¹æ³•äºŒ
function format1(number) {
  return Intl.NumberFormat().format(number)
}
// æ–¹æ³•ä¸‰
function format2(number) {
  return number.toLocaleString('en')
}
```



###  å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼

```js
// ï¼ˆ1ï¼‰åŒ¹é… 16 è¿›åˆ¶é¢œè‰²å€¼
var regex = /#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/g;

// ï¼ˆ2ï¼‰åŒ¹é…æ—¥æœŸï¼Œå¦‚ yyyy-mm-dd æ ¼å¼
var regex = /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/;

// ï¼ˆ3ï¼‰åŒ¹é… qq å·
var regex = /^[1-9][0-9]{4,10}$/g;

// ï¼ˆ4ï¼‰æ‰‹æœºå·ç æ­£åˆ™
var regex = /^1[34578]\d{9}$/g;

// ï¼ˆ5ï¼‰ç”¨æˆ·åæ­£åˆ™ï¼Œ4åˆ°16ä½ï¼ˆå­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå‡å·ï¼‰
var regex = /^[a-zA-Z\$][a-zA-Z0-9_\$]{4,16}$/;

// å¯†ç å¼ºåº¦æ­£åˆ™ï¼Œæœ€å°‘6ä½ï¼ŒåŒ…æ‹¬è‡³å°‘1ä¸ªå¤§å†™å­—æ¯ï¼Œ1ä¸ªå°å†™å­—æ¯ï¼Œ1ä¸ªæ•°å­—ï¼Œ1ä¸ªç‰¹æ®Šå­—ç¬¦
var pPattern = /^.*(?=.{6,})(?=.*d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/;
```





## 1. ä»‹ç» js çš„åŸºæœ¬æ•°æ®ç±»å‹

åœ¨ JavaScript ä¸­ï¼Œ**åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆPrimitive Data Typesï¼‰** å…±æœ‰ 5 ç§ï¼š`Undefined`ã€`Null`ã€`Boolean`ã€`Number`ã€`String`ã€‚æ­¤å¤–ï¼Œ`Symbol`ï¼ˆES6 å¼•å…¥ï¼‰å’Œ `BigInt`ï¼ˆES11 å¼•å…¥ï¼‰ä¹Ÿè¢«è§†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ã€‚

### Undefined

`Undefined` è¡¨ç¤º**å˜é‡å·²å£°æ˜ä½†æœªèµ‹å€¼**ï¼Œæˆ–è€…**è®¿é—®å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§**æ—¶è¿”å›çš„å€¼ã€‚

`undefined` ä¸æ˜¯ `null`ï¼Œä¸¤è€…ç±»å‹ä¸åŒ

```js
let x;
console.log(x); // undefined
console.log(typeof x); // "undefined"

let obj = {};
console.log(obj.prop); // undefined

```

#### null VS. undefined 

ä¸€èˆ¬å˜é‡å£°æ˜äº†ä½†è¿˜æ²¡æœ‰å®šä¹‰çš„æ—¶å€™ä¼šè¿”å› undefinedï¼Œ**nullä¸»è¦ç”¨äºèµ‹å€¼ç»™ä¸€äº›å¯èƒ½ä¼šè¿”å›å¯¹è±¡çš„å˜é‡ï¼Œä½œä¸ºåˆå§‹åŒ–**ã€‚

undefined åœ¨ js ä¸­ä¸æ˜¯ä¸€ä¸ªä¿ç•™å­—ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ undefined æ¥ä½œä¸ºä¸€ä¸ªå˜é‡åï¼Œè¿™æ ·çš„åšæ³•æ˜¯éå¸¸å±é™©çš„ï¼Œå®ƒ
ä¼šå½±å“æˆ‘ä»¬å¯¹ undefined å€¼çš„åˆ¤æ–­ã€‚

ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•è·å¾—**å®‰å…¨çš„ undefined å€¼**ï¼Œæ¯”å¦‚è¯´ **void 0** ï¼ˆè¡¨è¾¾å¼ void ___ æ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤è¿”å›ç»“æœæ˜¯ undefinedã€‚void å¹¶ä¸æ”¹å˜è¡¨è¾¾å¼çš„ç»“æœï¼Œåªæ˜¯è®©è¡¨è¾¾å¼ä¸è¿”å›å€¼ã€‚æŒ‰æƒ¯ä¾‹æˆ‘ä»¬ç”¨ void 0 æ¥è·å¾— undefinedï¼‰

å½“æˆ‘ä»¬å¯¹ä¸¤ç§ç±»å‹ä½¿ç”¨ typeof è¿›è¡Œåˆ¤æ–­çš„æ—¶å€™ï¼ŒNull ç±»å‹åŒ–ä¼šè¿”å› â€œobjectâ€ï¼Œè¿™æ˜¯ä¸€ä¸ªå†å²é—ç•™çš„é—®é¢˜ã€‚å½“æˆ‘ä»¬ä½¿ç”¨åŒç­‰
å·å¯¹ä¸¤ç§ç±»å‹çš„å€¼è¿›è¡Œæ¯”è¾ƒæ—¶ä¼šè¿”å› trueï¼Œä½¿ç”¨ä¸‰ä¸ªç­‰å·æ—¶ä¼šè¿”å› falseã€‚

**`undefined == null` å’Œ `undefined === null` çš„åŒºåˆ«ï¼Ÿ**

T å’Œ Fï¼Œå‰è€…æ˜¯å› ä¸ºç‰¹æ®Šè§„å®šï¼Œåè€…æ˜¯å› ä¸ºç±»å‹ä¸åŒã€‚

ä¸”`null` åªç­‰äº `undefined`ï¼Œä¸å…¶ä»–å€¼éƒ½ä¸ç›¸ç­‰ï¼Œ`undefined` åªç­‰äº `null`ï¼Œä¸å…¶ä»–å€¼éƒ½ä¸ç›¸ç­‰



#### undefined VS. undeclared 

å·²åœ¨ä½œç”¨åŸŸä¸­**å£°æ˜ä½†è¿˜æ²¡æœ‰èµ‹å€¼**çš„å˜é‡ï¼Œæ˜¯ **undefined** çš„ã€‚ç›¸åï¼Œè¿˜**æ²¡æœ‰åœ¨ä½œç”¨åŸŸä¸­å£°æ˜è¿‡**çš„å˜é‡ï¼Œæ˜¯ **undeclared** çš„ã€‚

å¯¹äº undeclared å˜é‡çš„å¼•ç”¨ï¼Œæµè§ˆå™¨ä¼šæŠ¥å¼•ç”¨é”™è¯¯ï¼Œå¦‚ ReferenceError: b is not defined ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ typ
eof çš„å®‰å…¨é˜²èŒƒæœºåˆ¶æ¥é¿å…æŠ¥é”™ï¼Œå› ä¸ºå¯¹äº undeclaredï¼ˆæˆ–è€… not defined ï¼‰å˜é‡ï¼Œtypeof ä¼šè¿”å› "undefined"ã€‚



### Null

`Null` ä»£è¡¨ **â€œç©ºå€¼â€**ï¼Œé€šå¸¸è¡¨ç¤º**æ‰‹åŠ¨èµ‹å€¼ä¸ºç©º**æˆ–**å¯¹è±¡ä¸å­˜åœ¨**ã€‚



### Boolean

`Boolean` åªæœ‰ä¸¤ä¸ªå€¼ï¼š`true` å’Œ `false`ï¼Œç”¨äºé€»è¾‘åˆ¤æ–­ã€‚

**å¸¸è§çš„â€œå‡å€¼â€ï¼ˆFalsy å€¼ï¼‰**ï¼š

- `false`
- `0`ã€`-0`
- `""`ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
- `null`
- `undefined`
- `NaN`

**é™¤ä¸Šè¿°å¤–ï¼Œæ‰€æœ‰å€¼éƒ½æ˜¯â€œçœŸå€¼â€ï¼ˆTruthy å€¼ï¼‰**ã€‚



### Number

`Number` ç±»å‹è¡¨ç¤º**æ•´æ•°å’Œæµ®ç‚¹æ•°**



#### NaN

typeof NaN è¿”å› "number"

`NaN == NaN` è¿”å›ä»€ä¹ˆï¼Ÿ

```js
console.log(NaN == NaN); // false
console.log(Number.isNaN(NaN)); // true
```

`NaN`ï¼ˆNot a Numberï¼‰ä¸ç­‰äºè‡ªèº«ï¼Œéœ€è¦ç”¨ `Number.isNaN()` è¿›è¡Œåˆ¤æ–­ã€‚



#### toFixed(2)

å¦‚ä½•è§£å†³ `0.1 + 0.2 !== 0.3`ï¼Ÿ

```js
console.log((0.1 + 0.2).toFixed(2) === "0.30"); // true
```

ä½¿ç”¨ `toFixed(2)` å¤„ç†**ç²¾åº¦é—®é¢˜**ã€‚



####  js ä¸­æ•´æ•°çš„å®‰å…¨èŒƒå›´æ˜¯å¤šå°‘ï¼Ÿ

2^53 - 1

åœ¨ ES6 ä¸­è¢«å®šä¹‰ä¸º Number.MAX_SAFE_INTEGER å’Œ Number.MIN_SAFE_INTEGER

å¦‚æœæŸæ¬¡è®¡ç®—çš„ç»“æœå¾—åˆ°äº†ä¸€ä¸ªè¶…è¿‡ JavaScript æ•°å€¼èŒƒå›´çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºç‰¹æ®Šçš„ Infinity å€¼ã€‚å¦‚æœæŸæ¬¡
è®¡ç®—è¿”å›äº†æ­£æˆ–è´Ÿçš„ Infinity å€¼ï¼Œé‚£ä¹ˆè¯¥å€¼å°†æ— æ³•å‚ä¸ä¸‹ä¸€æ¬¡çš„è®¡ç®—ã€‚åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æœ‰ç©·çš„ï¼Œå¯ä»¥ä½¿ç”¨ isFinite å‡½æ•°
æ¥åˆ¤æ–­ã€‚



### String

`String` ä»£è¡¨æ–‡æœ¬æ•°æ®ï¼Œæ˜¯**ä¸å¯å˜**çš„ï¼ˆå³**ä¿®æ”¹å­—ç¬¦ä¸²å®é™…ä¸Šä¼šåˆ›å»ºæ–°å­—ç¬¦ä¸²**ï¼‰ã€‚



### Symbol

Symbol	ES6 å¼•å…¥ï¼Œåˆ›å»ºå”¯ä¸€å€¼ï¼Œä¸å¯è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²

Symbol ä»£è¡¨åˆ›å»ºåç‹¬ä¸€æ— äºŒä¸”ä¸å¯å˜çš„æ•°æ®ç±»å‹ï¼Œå®ƒçš„å‡ºç°æˆ‘è®¤ä¸ºä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¯èƒ½å‡ºç°çš„å…¨å±€å˜é‡å†²çªçš„é—®é¢˜ã€‚

**`Symbol` é€‚ç”¨äº**ï¼šåˆ›å»º**å”¯ä¸€æ ‡è¯†ç¬¦**ï¼Œé˜²æ­¢å‘½åå†²çªï¼Œä¿æŠ¤ç§æœ‰å±æ€§ï¼Œå®šä¹‰ä¸å¯ä¿®æ”¹çš„æšä¸¾å€¼ã€‚ä¸ªäººè®¤ä¸ºè¡¥æ•‘å‡ºç±»ä¼¼javaçš„privateä½œç”¨

Symbol å€¼ä¸èƒ½å¤Ÿè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—ï¼ˆæ˜¾å¼å’Œéšå¼éƒ½ä¼šäº§ç”Ÿé”™è¯¯ï¼‰ï¼Œä½†å¯ä»¥è¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼ˆæ˜¾å¼å’Œéšå¼ç»“æœ
éƒ½æ˜¯ true ï¼‰ã€‚



### BigInt

ES11ï¼ˆES2020ï¼‰å¼•å…¥ï¼Œç”¨äºè¡¨ç¤ºè¶…è¿‡ `Number.MAX_SAFE_INTEGER` çš„å¤§æ•´æ•°ã€‚

BigInt æ˜¯ä¸€ç§æ•°å­—ç±»å‹çš„æ•°æ®ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä»»æ„ç²¾åº¦æ ¼å¼çš„æ•´æ•°ï¼Œä½¿ç”¨ BigInt å¯ä»¥å®‰å…¨åœ°å­˜å‚¨å’Œæ“ä½œå¤§æ•´æ•°ï¼Œå³ä½¿è¿™ä¸ªæ•°å·²ç»è¶…å‡ºäº† Number èƒ½å¤Ÿè¡¨ç¤ºçš„å®‰å…¨æ•´æ•°èŒƒå›´ã€‚

**`BigInt` é€‚ç”¨äº**ï¼šè¶…å¤§æ•´æ•°è®¡ç®—ï¼Œå¦‚é‡‘èã€åŠ å¯†ã€åŒºå—é“¾å’Œç§‘å­¦è®¡ç®—ã€‚



## 2. ä»€ä¹ˆæ˜¯å †ï¼Ÿä»€ä¹ˆæ˜¯æ ˆï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ï¼Ÿ

å †å’Œæ ˆçš„æ¦‚å¿µå­˜åœ¨äºæ•°æ®ç»“æ„ä¸­å’Œæ“ä½œç³»ç»Ÿå†…å­˜ä¸­ã€‚

åœ¨æ•°æ®ç»“æ„ä¸­ï¼Œæ ˆä¸­æ•°æ®çš„å­˜å–æ–¹å¼ä¸ºå…ˆè¿›åå‡ºã€‚è€Œå †æ˜¯ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ˜¯æŒ‰ä¼˜å…ˆçº§æ¥è¿›è¡Œæ’åºçš„ï¼Œä¼˜å…ˆçº§å¯ä»¥æŒ‰ç…§å¤§å°æ¥è§„å®šã€‚å®Œå…¨
äºŒå‰æ ‘æ˜¯å †çš„ä¸€ç§å®ç°æ–¹å¼ã€‚

åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå†…å­˜è¢«åˆ†ä¸ºæ ˆåŒºå’Œå †åŒºã€‚

æ ˆåŒºå†…å­˜ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚

å †åŒºå†…å­˜ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚



## 3. JavaScript æ•°æ®ç±»å‹å†…å­˜å›¾ï¼Ÿ

- æ ˆï¼šåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆUndefinedã€Nullã€Booleanã€Numberã€Stringï¼‰
- å †ï¼šå¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå¯¹è±¡ã€æ•°ç»„å’Œå‡½æ•°ï¼‰æˆ–å¤æ‚æ•°æ®ç±»å‹ Objectã€Arrayã€Dateç­‰

ä¸¤ç§ç±»å‹çš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨ä½ç½®ä¸åŒã€‚
åŸå§‹æ•°æ®ç±»å‹ç›´æ¥å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ”¾å…¥æ ˆä¸­å­˜å‚¨ã€‚

å¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †ï¼ˆheapï¼‰ä¸­çš„å¯¹è±¡ï¼Œå æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šã€‚å¦‚æœå­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°†ä¼šå½±å“ç¨‹åºè¿è¡Œçš„æ€§èƒ½ï¼›**å¼•ç”¨æ•°æ®ç±»å‹åœ¨**
**æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆ**ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®
ä½“ã€‚

![img](https://i-blog.csdnimg.cn/blog_migrate/f80f2541d42ba0114ac1f4831125159e.png) 

![img](https://i-blog.csdnimg.cn/blog_migrate/a3c215f114f8f19f68090a10d70ba231.png) 

## 4. ä»‹ç» js æœ‰å“ªäº›å†…ç½®å¯¹è±¡ï¼Ÿ

js ä¸­çš„å†…ç½®å¯¹è±¡ä¸»è¦æŒ‡çš„æ˜¯åœ¨ç¨‹åºæ‰§è¡Œå‰å­˜åœ¨å…¨å±€ä½œç”¨åŸŸé‡Œçš„ç”± js å®šä¹‰çš„ä¸€äº›**å…¨å±€å€¼å±æ€§ã€å‡½æ•°å’Œç”¨æ¥å®ä¾‹åŒ–å…¶ä»–å¯¹è±¡çš„æ„é€ å‡½**
**æ•°å¯¹è±¡**ã€‚ä¸€èˆ¬æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„å¦‚å…¨å±€å˜é‡å€¼ **NaN**ã€**undefined**ï¼Œå…¨å±€å‡½æ•°å¦‚ **parseInt()**ã€**parseFloat()** ç”¨æ¥å®ä¾‹åŒ–å¯¹è±¡çš„æ„
é€ å‡½æ•°å¦‚ **Date**ã€**Object** ç­‰ï¼Œè¿˜æœ‰æä¾›æ•°å­¦è®¡ç®—çš„å•ä½“å†…ç½®å¯¹è±¡å¦‚ **Math** å¯¹è±¡ã€‚



å…¨å±€çš„å¯¹è±¡ï¼ˆ global objects ï¼‰æˆ–ç§°æ ‡å‡†å†…ç½®å¯¹è±¡ï¼Œä¸è¦å’Œ "å…¨å±€å¯¹è±¡ï¼ˆglobal objectï¼‰" æ··æ·†ã€‚è¿™é‡Œè¯´çš„å…¨å±€çš„å¯¹è±¡æ˜¯è¯´åœ¨
å…¨å±€ä½œç”¨åŸŸé‡Œçš„å¯¹è±¡ã€‚å…¨å±€ä½œç”¨åŸŸä¸­çš„å…¶ä»–å¯¹è±¡å¯ä»¥ç”±ç”¨æˆ·çš„è„šæœ¬åˆ›å»ºæˆ–ç”±å®¿ä¸»ç¨‹åºæä¾›ã€‚

æ ‡å‡†å†…ç½®å¯¹è±¡çš„åˆ†ç±»

ï¼ˆ1ï¼‰å€¼å±æ€§ï¼Œè¿™äº›å…¨å±€å±æ€§è¿”å›ä¸€ä¸ªç®€å•å€¼ï¼Œè¿™äº›å€¼æ²¡æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚

ä¾‹å¦‚ Infinityã€NaNã€undefinedã€null å­—é¢é‡

ï¼ˆ2ï¼‰å‡½æ•°å±æ€§ï¼Œå…¨å±€å‡½æ•°å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦åœ¨è°ƒç”¨æ—¶æŒ‡å®šæ‰€å±å¯¹è±¡ï¼Œæ‰§è¡Œç»“æŸåä¼šå°†ç»“æœç›´æ¥è¿”å›ç»™è°ƒç”¨è€…ã€‚

ä¾‹å¦‚ eval()ã€parseFloat()ã€parseInt() ç­‰

ï¼ˆ3ï¼‰åŸºæœ¬å¯¹è±¡ï¼ŒåŸºæœ¬å¯¹è±¡æ˜¯å®šä¹‰æˆ–ä½¿ç”¨å…¶ä»–å¯¹è±¡çš„åŸºç¡€ã€‚åŸºæœ¬å¯¹è±¡åŒ…æ‹¬ä¸€èˆ¬å¯¹è±¡ã€å‡½æ•°å¯¹è±¡å’Œé”™è¯¯å¯¹è±¡ã€‚

ä¾‹å¦‚ **Object**ã€**Function**ã€**Boolean**ã€**Symbol**ã€**Error** ç­‰

ï¼ˆ4ï¼‰æ•°å­—å’Œæ—¥æœŸå¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºæ•°å­—ã€æ—¥æœŸå’Œæ‰§è¡Œæ•°å­¦è®¡ç®—çš„å¯¹è±¡ã€‚

ä¾‹å¦‚ **Number**ã€**Math**ã€**Date**

ï¼ˆ5ï¼‰å­—ç¬¦ä¸²ï¼Œç”¨æ¥è¡¨ç¤ºå’Œæ“ä½œå­—ç¬¦ä¸²çš„å¯¹è±¡ã€‚

ä¾‹å¦‚ **String**ã€RegExp

ï¼ˆ6ï¼‰å¯ç´¢å¼•çš„é›†åˆå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡è¡¨ç¤ºæŒ‰ç…§ç´¢å¼•å€¼æ¥æ’åºçš„æ•°æ®é›†åˆï¼ŒåŒ…æ‹¬æ•°ç»„å’Œç±»å‹æ•°ç»„ï¼Œä»¥åŠç±»æ•°ç»„ç»“æ„çš„å¯¹è±¡ã€‚ä¾‹å¦‚ **Array**

ï¼ˆ7ï¼‰ä½¿ç”¨é”®çš„é›†åˆå¯¹è±¡ï¼Œè¿™äº›é›†åˆå¯¹è±¡åœ¨å­˜å‚¨æ•°æ®æ—¶ä¼šä½¿ç”¨åˆ°é”®ï¼Œæ”¯æŒæŒ‰ç…§æ’å…¥é¡ºåºæ¥è¿­ä»£å…ƒç´ ã€‚

ä¾‹å¦‚ **Map**ã€**Set**ã€WeakMapã€WeakSet

ï¼ˆ8ï¼‰çŸ¢é‡é›†åˆï¼ŒSIMD çŸ¢é‡é›†åˆä¸­çš„æ•°æ®ä¼šè¢«ç»„ç»‡ä¸ºä¸€ä¸ªæ•°æ®åºåˆ—ã€‚

ä¾‹å¦‚ SIMD ç­‰

ï¼ˆ9ï¼‰ç»“æ„åŒ–æ•°æ®ï¼Œè¿™äº›å¯¹è±¡ç”¨æ¥è¡¨ç¤ºå’Œæ“ä½œç»“æ„åŒ–çš„ç¼“å†²åŒºæ•°æ®ï¼Œæˆ–ä½¿ç”¨ JSON ç¼–ç çš„æ•°æ®ã€‚

ä¾‹å¦‚ JSON ç­‰

ï¼ˆ10ï¼‰æ§åˆ¶æŠ½è±¡å¯¹è±¡

ä¾‹å¦‚ **Promise**ã€Generator ç­‰

ï¼ˆ11ï¼‰åå°„

ä¾‹å¦‚ Reflectã€Proxy

ï¼ˆ12ï¼‰å›½é™…åŒ–ï¼Œä¸ºäº†æ”¯æŒå¤šè¯­è¨€å¤„ç†è€ŒåŠ å…¥ ECMAScript çš„å¯¹è±¡ã€‚

ä¾‹å¦‚ Intlã€Intl.Collator ç­‰

ï¼ˆ13ï¼‰WebAssembly

ï¼ˆ14ï¼‰å…¶ä»–

ä¾‹å¦‚ arguments



## 5. è¯´å‡ æ¡ JavaScript åŸºæœ¬è§„èŒƒï¼Ÿ

åœ¨å¹³å¸¸é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éµå®ˆä¸€äº›è¿™æ ·çš„åŸºæœ¬è§„èŒƒï¼Œæ¯”å¦‚è¯´ï¼š

ï¼ˆ1ï¼‰ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­æ‰€æœ‰çš„å˜é‡å£°æ˜åº”è¯¥å°½é‡æåˆ°å‡½æ•°é¦–éƒ¨ï¼Œç”¨ä¸€ä¸ª var å£°æ˜ï¼Œä¸å…è®¸å‡ºç°ä¸¤ä¸ªè¿ç»­çš„ var å£°æ˜ï¼Œå£°æ˜æ—¶
    å¦‚æœå˜é‡æ²¡æœ‰å€¼ï¼Œåº”è¯¥ç»™è¯¥å˜é‡èµ‹å€¼å¯¹åº”ç±»å‹çš„åˆå§‹å€¼ï¼Œä¾¿äºä»–äººé˜…è¯»ä»£ç æ—¶ï¼Œèƒ½å¤Ÿä¸€ç›®äº†ç„¶çš„çŸ¥é“å˜é‡å¯¹åº”çš„ç±»å‹å€¼ã€‚

ï¼ˆ2ï¼‰ä»£ç ä¸­å‡ºç°åœ°å€ã€æ—¶é—´ç­‰å­—ç¬¦ä¸²æ—¶éœ€è¦ä½¿ç”¨å¸¸é‡ä»£æ›¿ã€‚

ï¼ˆ3ï¼‰åœ¨è¿›è¡Œ**æ¯”è¾ƒ**çš„æ—¶å€™å§ï¼Œå°½é‡**ä½¿ç”¨'===', '!=='**ä»£æ›¿'==', '!='ã€‚

ï¼ˆ4ï¼‰ä¸è¦åœ¨å†…ç½®å¯¹è±¡çš„åŸå‹ä¸Šæ·»åŠ æ–¹æ³•ï¼Œå¦‚ Array, Dateã€‚

ï¼ˆ5ï¼‰**switch è¯­å¥å¿…é¡»å¸¦æœ‰ default åˆ†æ”¯**ã€‚

ï¼ˆ6ï¼‰for å¾ªç¯å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·ã€‚

ï¼ˆ7ï¼‰if è¯­å¥å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·ã€‚



## 6. JavaScript åŸå‹ï¼ŒåŸå‹é“¾ï¼Ÿ æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ

jsä¸­å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡

åœ¨ js ä¸­æˆ‘ä»¬æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°æ¥æ–°å»ºä¸€ä¸ªå¯¹è±¡çš„ï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°çš„å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§å€¼ï¼Œè¿™ä¸ªå±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹
è±¡çš„æŒ‡é’ˆï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¯ä»¥ç”±è¯¥æ„é€ å‡½æ•°çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°æ–°å»ºä¸€ä¸ªå¯¹è±¡åï¼Œåœ¨è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨
å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘æ„é€ å‡½æ•°çš„ prototype å±æ€§å¯¹åº”çš„å€¼ï¼Œåœ¨ ES5 ä¸­è¿™ä¸ªæŒ‡é’ˆè¢«ç§°ä¸ºå¯¹è±¡çš„åŸå‹ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬
æ˜¯ä¸åº”è¯¥èƒ½å¤Ÿè·å–åˆ°è¿™ä¸ªå€¼çš„ï¼Œä½†æ˜¯ç°åœ¨æµè§ˆå™¨ä¸­éƒ½å®ç°äº† __proto__ å±æ€§æ¥è®©æˆ‘ä»¬è®¿é—®è¿™ä¸ªå±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬æœ€å¥½ä¸è¦ä½¿ç”¨è¿™
ä¸ªå±æ€§ï¼Œå› ä¸ºå®ƒä¸æ˜¯è§„èŒƒä¸­è§„å®šçš„ã€‚ES5 ä¸­æ–°å¢äº†ä¸€ä¸ª Object.getPrototypeOf() æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–å¯¹
è±¡çš„åŸå‹ã€‚

**å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆ**
**ä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾çš„æ¦‚å¿µ**ã€‚

**åŸå‹é“¾çš„å°½å¤´ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯ Object.prototype æ‰€ä»¥è¿™å°±æ˜¯æˆ‘ä»¬æ–°å»ºçš„å¯¹è±¡ä¸ºä»€ä¹ˆèƒ½å¤Ÿä½¿ç”¨ toString() ç­‰æ–¹æ³•çš„åŸå› **ã€‚

ç‰¹ç‚¹ï¼š

JavaScript å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰ä¸€ä»½å±äºè‡ªå·±çš„åŸå‹å‰¯æœ¬ã€‚å½“æˆ‘ä»¬ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸
ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™ä¸€æ”¹å˜ã€‚



æ€»ç»“äº†åŸå‹å’ŒåŸå‹é“¾çš„çŸ¥è¯†åï¼Œæ„Ÿè§‰å¯¹ JavaScript è¯­è¨€çš„ç†è§£æ›´åŠ æ·±åˆ»äº†ï¼Œä¹Ÿä¸ºåé¢**ç†è§£å¯¹è±¡çš„åˆ›å»ºå’Œç»§æ‰¿**æ‰“ä¸‹äº†åŸºç¡€ã€‚å…¶å®ç†è§£åŸå‹é“¾ï¼Œå¯¹äº JavaScript ä¸­ä¸€äº›**é¢„å®šä¹‰ç±»å‹çš„è¡Œä¸ºå’Œå®ç°**å°±å¾ˆå¥½ç†è§£äº†ã€‚

### **ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿï¼ˆPrototypeï¼‰**

**ç°å®ç±»æ¯”ï¼šè“å›¾å’Œå·¥å‚**

æƒ³è±¡ä½ æ˜¯ä¸€å®¶è½¦å‚çš„è€æ¿ï¼Œä½ æƒ³ç”Ÿäº§ä¸€æ‰¹æ±½è½¦ï¼š

- ä½ æœ‰ä¸€ä¸ª**æ±½è½¦è“å›¾**ï¼ˆPrototypeï¼‰ã€‚
- æ¯è¾†æ±½è½¦ï¼ˆå¯¹è±¡ï¼‰éƒ½æ˜¯æ ¹æ®è¿™ä¸ªè“å›¾ç”Ÿäº§çš„ã€‚
- ä½†æ˜¯æ¯è¾†è½¦å¯ä»¥æœ‰è‡ªå·±çš„**ç‹¬ç‰¹å±æ€§**ï¼ˆå¦‚é¢œè‰²ã€è½¦ç‰Œå·ï¼‰ã€‚

åœ¨ JavaScript é‡Œï¼š

- **åŸå‹ï¼ˆPrototypeï¼‰** å°±åƒæ˜¯â€œè“å›¾â€ã€‚
- **å¯¹è±¡ï¼ˆObjectï¼‰** å°±æ˜¯æŒ‰ç…§åŸå‹åˆ›å»ºçš„â€œæ±½è½¦â€ã€‚
- **æ–¹æ³•å’Œå±æ€§** å¯ä»¥å…±äº«ï¼ˆæ¯”å¦‚æ‰€æœ‰æ±½è½¦éƒ½æœ‰â€œè¡Œé©¶â€åŠŸèƒ½ï¼‰ã€‚
- å¦‚æœæ¯è¾†è½¦éƒ½éœ€è¦è‡ªå·±çš„æ–¹æ³•ï¼Œå†…å­˜å ç”¨ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥å®ƒä»¬**å…±äº«åŒä¸€ä¸ªåŸå‹**æ¥èŠ‚çœç©ºé—´ã€‚

```js
function Car(model) {
    this.model = model; // æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„ model
}

// ç»™ Car çš„åŸå‹æ·»åŠ æ–¹æ³•
Car.prototype.drive = function() {
    console.log(this.model + " is driving!");
};

let car1 = new Car("Tesla");
let car2 = new Car("BMW");

car1.drive(); // Tesla is driving!
car2.drive(); // BMW is driving!
```

`Car.prototype` æ˜¯**åŸå‹å¯¹è±¡**ï¼Œæ‰€æœ‰ `Car` å®ä¾‹éƒ½ä¼šå…±äº«å®ƒçš„æ–¹æ³•ã€‚

`car1` å’Œ `car2` è™½ç„¶æ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œä½†å®ƒä»¬éƒ½å¯ä»¥è°ƒç”¨ `drive()`ï¼Œå› ä¸ºå®ƒä»¬çš„**åŸå‹æŒ‡å‘åŒä¸€ä¸ª `Car.prototype`**ã€‚



#### å‡½æ•°å¯¹è±¡çš„ prototype å±æ€§

```js
function Person(){

}

// ä¸ºåŸå‹å¯¹è±¡æ·»åŠ æ–¹æ³•
Person.prototype.sayName = function(){
    alert(this.name);
}
```

**æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡**ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡å°†ä¼šè·å¾—ä¸€ä¸ª constructor å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ prototype æ‰€åœ¨çš„å‡½æ•°å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„ç”¨é€”æ˜¯**åŒ…å«**å¯ä»¥ç”±ç‰¹å®šç±»å‹çš„æ‰€æœ‰**å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•**ï¼Œç®€å•æ¥è¯´ï¼Œè¯¥å‡½æ•°å®ä¾‹åŒ–çš„æ‰€æœ‰å¯¹è±¡çš„__proto__çš„å±æ€§æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œå®ƒæ˜¯è¯¥å‡½æ•°æ‰€æœ‰å®ä¾‹åŒ–å¯¹è±¡çš„åŸå‹ã€‚

![é…å›¾18-3](https://cavszhouyou-1254093697.cos.ap-chongqing.myqcloud.com/peitu18-3.png)

#### å¯¹è±¡çš„ ____proto____ å±æ€§ 

```js
var student = new Person();

console.log(student.__proto__ === Person.prototype); // true

// è™½ç„¶æˆ‘ä»¬åœ¨è„šæœ¬ä¸­æ²¡æœ‰åŠæ³•è®¿é—®åˆ°[[Prototype]]å±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ isPrototypeOf æ–¹æ³•æ¥ç¡®å®šå¯¹è±¡ä¹‹é—´æ˜¯å¦å­˜åœ¨è¿™ç§å…³ç³»
// isPrototypeOf() æ–¹æ³•ç”¨äºæµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨äºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Š
console.log(Person.prototype.isPrototypeOf(student)); // true
console.log(Object.getPrototypeOf(student) === Person.prototype); // true
```

![é…å›¾18-5](https://cavszhouyou-1254093697.cos.ap-chongqing.myqcloud.com/peitu18-5.png) 



### ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿï¼ˆPrototype Chainï¼‰

ECMAScript ä¸­æè¿°äº†åŸå‹é“¾çš„æ¦‚å¿µï¼Œå¹¶å°†åŸå‹é“¾ä½œä¸ºå®ç°ç»§æ‰¿çš„ä¸»è¦æ–¹æ³•. 

åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨çš„ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•

åŸå‹é“¾çš„ä¸»è¦å®ç°æ–¹æ³•æ˜¯è®©æ„é€ å‡½æ•°çš„ prototype å¯¹è±¡ç­‰äºå¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œæ­¤æ—¶çš„ prototype å¯¹è±¡å› ä¸ºæ˜¯å®ä¾‹ï¼Œå› æ­¤å°†åŒ…å«ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªåŸå‹çš„æŒ‡é’ˆï¼Œç›¸åº”åœ°å¦ä¸€ä¸ªåŸå‹ä¸­ä¹ŸåŒ…å«ç€ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªæ„é€ å‡½æ•°çš„æŒ‡é’ˆã€‚å‡å¦‚å¦ä¸€ä¸ªåŸå‹åˆæ˜¯å¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œé‚£ä¹ˆä¸Šè¿°å…³ç³»ä¾ç„¶æˆç«‹ï¼Œå¦‚æ­¤å±‚å±‚é€’è¿›ï¼Œå°±æ„æˆäº†å®ä¾‹ä¸ç±»å‹çš„é“¾æ¡ã€‚è¿™å°±æ˜¯åŸå‹é“¾çš„åŸºæœ¬æ¦‚å¿µ

**ç°å®ç±»æ¯”ï¼šç¥–ä¼ æŠ€è‰º**

å‡è®¾ä½ å®¶æ˜¯æœ¨åŒ ä¸–å®¶ï¼Œä½ å­¦ä¼šäº†çˆ¶äº²çš„æœ¨å·¥æŠ€æœ¯ï¼Œä½ çš„çˆ¶äº²åˆä»ç¥–çˆ¶é‚£é‡Œå­¦æ¥çš„ã€‚

- **ä½ ä¼šåšæ¡Œå­**ï¼ˆä½ çš„èƒ½åŠ›ï¼‰ã€‚
- **å¦‚æœä½ ä¸ä¼šåšæ¤…å­ï¼Œä½ ä¼šé—®ä½ çš„çˆ¶äº²**ï¼ˆå‘ä¸Šä¸€å±‚æ‰¾ï¼‰ã€‚
- **å¦‚æœä½ çš„çˆ¶äº²ä¹Ÿä¸ä¼šï¼Œä»–ä¼šé—®ç¥–çˆ¶**ï¼ˆç»§ç»­å¾€ä¸Šæ‰¾ï¼‰ã€‚

åœ¨ JavaScript é‡Œï¼š

- **å¦‚æœå¯¹è±¡æœ¬èº«æ²¡æœ‰æŸä¸ªæ–¹æ³•ï¼Œå®ƒä¼šå»å®ƒçš„åŸå‹ï¼ˆ`__proto__`ï¼‰é‡Œæ‰¾**ã€‚
- **å¦‚æœåŸå‹ä¹Ÿæ‰¾ä¸åˆ°ï¼Œå°±ç»§ç»­æ²¿ç€åŸå‹é“¾å¾€ä¸Šæ‰¾ï¼Œç›´åˆ° `null`ï¼ˆé¡¶å±‚ï¼‰**ã€‚

```js
function Super(){

};


function Middle(){

};

function Sub(){

};

Middle.prototype = new Super();

Sub.prototype = new Middle();

var suber = new Sub();
```

![é…å›¾18-8](https://cavszhouyou-1254093697.cos.ap-chongqing.myqcloud.com/peitu18-8.png) 

## 7. ç”Ÿæˆéšæœºæ•°çš„å„ç§æ–¹æ³•ï¼Ÿ

Math.random()

```js
// ç”Ÿæˆ 0 åˆ° 1 ä¹‹é—´çš„éšæœºå°æ•°
console.log(Math.random()); // ä¾‹å¦‚ï¼š0.56782340912

// ç”Ÿæˆ 0 åˆ° N ä¹‹é—´çš„éšæœºæ•´æ•°
function getRandomInt(N) {
    return Math.floor(Math.random() * N);
}
console.log(getRandomInt(10)); // ç”Ÿæˆ 0~9 ä¹‹é—´çš„éšæœºæ•´æ•°

// ç”Ÿæˆ [min, max] èŒƒå›´çš„éšæœºæ•´æ•°
function getRandomIntInRange(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
console.log(getRandomIntInRange(5, 15)); // ç”Ÿæˆ 5~15 ä¹‹é—´çš„éšæœºæ•´æ•°

```



## 8. å¦‚ä½•å®ç°æ•°ç»„çš„éšæœºæ’åºï¼Ÿ





# Node.js (Express.js)



# MERN React Admin Dashboard

Build and Deploy a MERN Stack Admin Dashboard tutorial. For frontend, we will be using **Material UI**, Material UI Data Grid, Nivo Charts, **Redux** Toolkit and Redux Toolkit Query. For backend, we will be using **Node JS**, **Express Js**, Mongoose, and **MongoDB**. We will also go through how to Data Model using Entity Relationship Diagrams as well as making aggregate calls in MongoDB.



## SetUp

**server**

npm init -y

npm i express body-parser cors dotenv helmet morgan mongoose nodemon

create the backend



**database**

create a cluster on the website

use compass to connect



**file**

**.env**

MONGO_URL=mongodb+srv://Kurumiku:[password]@cluster0.yiiuq.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0

PORT=5001

**.gitignore**

/node_modules

.env

**package.json**

  "start": "node index.js",

  "dev": "nodemon index.js"

use nodemon liveserver so whenever we make changes to the code, it will automatically update



**client**

npm create vite@latest

select js (no swc)

npm install

npm run dev

npm i  react-redux @reduxjs/toolkit react-datepicker react-router-dom@6 @mui/material @emotion/react @emotion/styled @mui/icons-material @mui/x-data-grid @nivo/core @nivo/bar @nivo/geo @nivo/pie

if fails, nvm use 20 (node version compatabilty issue)



## Frontend

### SetUp Colors (Themes)

vscode extension: Tailwind Shades

Theme.js

**åŸºäº Redux Toolkit çš„ MUI ä¸»é¢˜åˆ‡æ¢**

1. **ä½¿ç”¨ MUI çš„ `createTheme()` ç”Ÿæˆä¸»é¢˜**
2. **ä½¿ç”¨ Redux Toolkit ç»´æŠ¤ `mode`ï¼ˆ`light/dark` æ¨¡å¼ï¼‰**
3. **ä½¿ç”¨ `useMemo()` ç¡®ä¿ `theme` åªåœ¨ `mode` å˜åŒ–æ—¶é‡æ–°åˆ›å»º**

ä¸ºä»€ä¹ˆä½¿ç”¨ Redux Toolkitï¼Ÿ

å¸Œæœ›åœ¨æ•´ä¸ªåº”ç”¨ä¸­ **åŠ¨æ€åˆ‡æ¢ä¸»é¢˜**ï¼ˆ`light` / `dark`ï¼‰ï¼Œè€Œ **Redux æ˜¯å…¨å±€çŠ¶æ€ç®¡ç†å·¥å…·**ï¼Œå¯ä»¥åœ¨ **å¤šä¸ªç»„ä»¶é—´å…±äº« `mode` å˜é‡**ï¼Œé¿å… prop drillingï¼ˆé€å±‚ä¼ é€’ `mode`ï¼‰. å¦‚æœä¸ç”¨ Redux å¯èƒ½éœ€è¦ç”¨ `useState()` ä½† `mode` åªèƒ½åœ¨å•ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ï¼Œå…¶ä»–ç»„ä»¶æ— æ³•è®¿é—®ï¼Œéœ€è¦æ‰‹åŠ¨ä¼ é€’ï¼ˆä¸æ–¹ä¾¿ï¼‰



**ä¸ºä»€ä¹ˆ `theme` è¦ç”¨ `useMemo()`ï¼Ÿ**

```jsx
const theme = useMemo(() => createTheme(themeSettings(mode)), [mode]);
```

âœ… **ä¼˜åŒ–æ€§èƒ½**ï¼šé¿å… `createTheme()` **åœ¨æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶é‡æ–°åˆ›å»º**

å¦‚æœä¸ç”¨ `useMemo()`  

```jsx
const theme = createTheme(themeSettings(mode));
```

**React é‡æ–°æ¸²æŸ“ `App` æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šåˆ›å»ºæ–° `theme`**. è¿™å¯èƒ½ä¼šå¯¼è‡´ **ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“**ï¼Œç‰¹åˆ«æ˜¯å½“ `App` å†…éƒ¨æœ‰ `useEffect()` ä¾èµ– `theme` æ—¶ï¼Œå¯èƒ½è§¦å‘é¢å¤–è®¡ç®—

useMemo() ä½¿å¾—åªæœ‰åœ¨ `mode` å˜åŒ–æ—¶ **æ‰ä¼šé‡æ–°è®¡ç®— `theme`**ï¼Œå¦åˆ™ä¼šè¿”å›ç¼“å­˜çš„ `theme`



## Deploy

Render

web service: 

npm start or node index.js

For environment variables: NODE_VERSION=20

For web access, add these IPs to mongodb network access

![image-20250218150254856](D:\Notes\web-notes\assets\image-20250218150254856.png)

Check

![image-20250218150350844](D:\Notes\web-notes\assets\image-20250218150350844.png)

![image-20250218150446505](D:\Notes\web-notes\assets\image-20250218150446505.png)



For static site: ensure the right github repo, ensure .env is not in repo

ensure the environment variable spelling `VITE_BASE_UR`

ensure the backend url https://react-dashboard-server-gjun.onrender.com/ with / in the end

check

![image-20250218152902768](D:\Notes\web-notes\assets\image-20250218152902768.png)

https://react-dashboard-ztid.onrender.com/



## CI/CD

On Render, set auto-deploy to no, then get

Deploy Hook

Your private URL to trigger a deploy for this server. Remember to keep this a secret.

https://api.render.com/deploy/srv-cuq0g2ogph6c73ctdkm0?key=smprF25XbEw

GitHub > Settings > Secrets and variables > Actions

Add a new Repository secret

RENDER_FRONTEND_HOOK

create .github/workflows/deploy.yml

```yml
name: Deploy Frontend to Render

on:
  push:
    branches:
      - main  

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Install Dependencies
        run: npm install

      - name: Run Lint & Tests
        run: |
          npm run lint
          npm test

      - name: Build Project
        run: npm run build

      - name: Deploy to Render
        run: curl -X POST ${{ secrets.RENDER_FRONTEND_HOOK }}
```

error: name: Run Lint & Tests

npm install eslint --save-dev

npx eslint --init

add  in package.json

```json
  "type": "module",

  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "lint": "eslint src",
    "test": "echo \"No test specified\" && exit 0"
  }
```

å³ä½¿æš‚æ—¶æ²¡æœ‰æµ‹è¯•æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨ `echo "No test specified"` è®© CI/CD é€šè¿‡

npm install eslint-plugin-react-hooks --save-dev

npm install eslint-plugin-react-refresh --save-dev

adjust eslint.config.js file

rules

```js
      "no-unused-vars": "off",
      "react/prop-types": "off",

```

npx eslint src

![image-20250219103045772](D:\Notes\web-notes\assets\image-20250219103045772.png)

![image-20250219103058697](D:\Notes\web-notes\assets\image-20250219103058697.png)

## Jest

npm install --save-dev jest @testing-library/react @testing-library/jest-dom babel-jest

npm install --save-dev jest-environment-jsdom

npm install --save-dev @babel/preset-react @babel/preset-env babel-jest

Jest é»˜è®¤ä¸æ”¯æŒ ES æ¨¡å—ï¼Œå› æ­¤éœ€è¦é¢å¤–çš„é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `jest.config.js`ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```js
export default {
  testEnvironment: "jsdom",
  transform: {
    "^.+\\.jsx?$": "babel-jest",
  },
  moduleNameMapper: {
    "^@/(.*)$": "<rootDir>/src/$1",
    "\\.(jpg|jpeg|png|gif|webp|svg)$": "<rootDir>/__mocks__/fileMock.js", // let Jest ignore image files
    "\\.(css|less|scss|sass)$": "identity-obj-proxy", // let Jest ignore CSS files
  },
};
```

`testEnvironment: "jsdom"`ï¼šJest é»˜è®¤è¿è¡Œåœ¨ Node.js ç¯å¢ƒï¼Œä½† React ç»„ä»¶ä¾èµ–æµè§ˆå™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ `jsdom` æ¥æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒ

`moduleNameMapper`ï¼šç”¨äºå¿½ç•¥ CSSã€SCSS è¿™ç±»é™æ€èµ„æºæ–‡ä»¶ï¼Œä»¥å… Jest è§£ææ—¶æŠ¥é”™

adjust package.json

```
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "lint": "eslint src",
    "test": "jest --ci"
  }
```

create babel.config.cjs

```js
module.exports = {
  presets: ["@babel/preset-env", "@babel/preset-react"],
};

```

åœ¨ `src/components/__tests__/Header.test.js`

```js
import React from "react";
import { render, screen } from "@testing-library/react";
import "@testing-library/jest-dom";
import Header from "../Header";

describe("Header Component", () => {
  test("renders the title and subtitle", () => {
    render(<Header title="Dashboard" subtitle="Welcome back!" />);

    // check if the title is rendered correctly 
    expect(screen.getByText("Dashboard")).toBeInTheDocument();
    expect(screen.getByText("Welcome back!")).toBeInTheDocument();
  });

  test("renders with correct styles", () => {
    render(<Header title="Test Title" subtitle="Test Subtitle" />);

    const titleElement = screen.getByText("Test Title");
    const subtitleElement = screen.getByText("Test Subtitle");

    expect(titleElement).toHaveStyle("font-weight: 700");
    // ensure the rendering of subtitle 
    expect(subtitleElement).toBeInTheDocument();
  });
});

```

npm test

![image-20250219110234556](D:\Notes\web-notes\assets\image-20250219110234556.png)

success!

but fail when CI/CD

```
/home/runner/work/react-dashboard/react-dashboard/src/components/__tests__/Header.test.js
   6:1  error  'describe' is not defined  no-undef
   7:3  error  'test' is not defined      no-undef
  11:5  error  'expect' is not defined    no-undef
  12:5  error  'expect' is not defined    no-undef
  15:3  error  'test' is not defined      no-undef
  21:5  error  'expect' is not defined    no-undef
  23:5  error  'expect' is not defined    no-undef

âœ– 7 problems (7 errors, 0 warnings)
```

npm install --save-dev eslint-plugin-jest

update eslint.config.js

```js
import js from "@eslint/js";
import globals from "globals";
import react from "eslint-plugin-react";
import reactHooks from "eslint-plugin-react-hooks";
import reactRefresh from "eslint-plugin-react-refresh";
import jest from "eslint-plugin-jest";

export default [
  { ignores: ["dist"] },
  {
    files: ["**/*.{js,jsx}"],
    languageOptions: {
      ecmaVersion: 2020,
      globals: {
        ...globals.browser,
        ...globals.node,
        ...globals.jest,
      },
      parserOptions: {
        ecmaVersion: "latest",
        ecmaFeatures: { jsx: true },
        sourceType: "module",
      },
    },
    settings: { react: { version: "18.3" } },
    plugins: {
      react,
      "react-hooks": reactHooks,
      "react-refresh": reactRefresh,
      jest,
    },
    rules: {
      ...js.configs.recommended.rules,
      ...react.configs.recommended.rules,
      ...react.configs["jsx-runtime"].rules,
      ...reactHooks.configs.recommended.rules,
      ...jest.configs.recommended.rules,

      "no-unused-vars": "off",
      "react/prop-types": "off",

      "react/jsx-no-target-blank": "off",
      "react-refresh/only-export-components": [
        "warn",
        { allowConstantExport: true },
      ],
    },
  },
];

```

npm test

commit, push

![image-20250219111205479](D:\Notes\web-notes\assets\image-20250219111205479.png)

![image-20250219111214237](D:\Notes\web-notes\assets\image-20250219111214237.png)



# Tailwind CSS

```
@tailwind base;
@tailwind components;
@tailwind utilities;
```

@tailwind base; å®ƒä¼šå¼•å…¥ **normalize.css** ä»¥åŠä¸€äº›é»˜è®¤çš„å…¨å±€æ ·å¼ï¼Œä¿è¯ä¸åŒæµè§ˆå™¨çš„é»˜è®¤æ ·å¼ä¸€è‡´

@tailwind components; Tailwind å…è®¸ä½ é€šè¿‡ `@apply` å®šä¹‰ **å¯å¤ç”¨çš„ç»„ä»¶æ ·å¼**ï¼Œç„¶å `@tailwind components` ä¼šåŠ è½½å®ƒä»¬

ä¾‹å­

```css
@layer components {
  .btn-primary {
    @apply bg-blue-500 text-white px-4 py-2 rounded;
  }
}

```

è¿™æ ·å°±å¯ä»¥ç”¨è‡ªå®šä¹‰çš„ç»„ä»¶æ•ˆæœ

```tsx
<button className="btn-primary">Click Me</button>
```

@tailwind utilities; ä¾‹å¦‚ `p-4`ï¼ˆ`padding: 1rem`ï¼‰ã€`text-gray-500`ï¼ˆæ–‡æœ¬é¢œè‰²ç°è‰²ï¼‰ç­‰



## box-sizing: border-box

```css
*,
*::before,
*::after {
  box-sizing: border-box;
}
```

**ä½œç”¨**ï¼š

- è®©æ‰€æœ‰å…ƒç´ çš„ `width` **åŒ…å« padding å’Œ border**ï¼Œä¸ä¼šå¢åŠ é¢å¤–å®½åº¦ã€‚
- **é»˜è®¤æƒ…å†µä¸‹**ï¼ŒCSS è®¡ç®— `width` æ—¶ä¸åŒ…å« `padding` å’Œ `border`ï¼Œè¿™æ ·å®¹æ˜“å¯¼è‡´å¸ƒå±€é”™ä¹±ã€‚
- è¿™ä¸ªè®¾ç½®å¯ä»¥ç¡®ä¿ç›’å­æ¨¡å‹æ›´æ˜“äºç®¡ç†ã€‚

```css
.box {
  width: 200px;
  padding: 20px;
  border: 5px solid red;
}
```

**é»˜è®¤ `content-box` æ¨¡å‹**ï¼šæœ€ç»ˆ `box` çš„å®½åº¦æ˜¯ **200px + 20px + 20px + 5px + 5px = 250px**ã€‚

**ä½¿ç”¨ `border-box`**ï¼š`width: 200px` å°±æ˜¯æœ€ç»ˆå¤§å°ï¼Œä¸ä¼šè¶…å‡ºã€‚



## Global Settings

```css
html,
body,
#root {
  height: 100%;
  width: 100%;
  @apply text-sm;
  @apply bg-gray-500;
  @apply text-gray-900;
}
```

**ä½œç”¨**ï¼š

- ç¡®ä¿ `html`ã€`body` å’Œ `#root` ç»„ä»¶å æ®æ•´ä¸ªè§†å£ï¼ˆviewportï¼‰ã€‚
- `#root` æ˜¯ React é¡¹ç›®çš„æ ¹å…ƒç´ ï¼Œå®ƒéœ€è¦å……æ»¡æ•´ä¸ªé¡µé¢ï¼Œä¿è¯ `App` ç»„ä»¶èƒ½æ­£ç¡®æ¸²æŸ“ã€‚



## Themes

tailwind.config.ts

æˆ‘ä»¬ä½¿ç”¨ `tw-colors` (`createThemes`) ç”Ÿæˆ **äº®è‰²ä¸»é¢˜ï¼ˆlightï¼‰** å’Œ **æš—è‰²ä¸»é¢˜ï¼ˆdarkï¼‰**

**å®šä¹‰åŸºç¡€é¢œè‰²**ï¼Œå³ `gray, red, blue` ç­‰ Tailwind é¢„è®¾é¢œè‰²ã€‚

**åˆ›å»ºé¢œè‰²æ˜ å°„è§„åˆ™**ï¼Œè®© `gray[50]` å˜æˆ `gray[900]`ï¼Œä¿è¯äº®æš—æ¨¡å¼é¢œè‰²åè½¬ã€‚

**å°è£… `generateThemeObject` å‡½æ•°**ï¼Œæ‰¹é‡ç”Ÿæˆ `lightTheme` å’Œ `darkTheme`ã€‚

**å®šä¹‰ `themes` å˜é‡**ï¼Œåˆ†åˆ«å­˜å‚¨äº®è‰²å’Œæš—è‰²æ¨¡å¼çš„é¢œè‰²æ–¹æ¡ˆã€‚

**é…ç½® Tailwind**ï¼š

- **ä½¿ç”¨ `darkMode: "class"`** æ¥åˆ‡æ¢æš—è‰²æ¨¡å¼ã€‚
- **æ³¨å†Œ `createThemes(themes)` æ’ä»¶** è®© Tailwind è¯†åˆ« `light` å’Œ `dark` ä¸»é¢˜



## Classes

**ç±»çš„é¡ºåº** å¹¶ä¸å½±å“æ¸²æŸ“çš„ç»“æœï¼Œä½†æŒ‰ç…§ä¸€å®šçš„é€»è¾‘é¡ºåºä¹¦å†™å¯ä»¥æå‡ä»£ç çš„ **å¯è¯»æ€§** å’Œ **å¯ç»´æŠ¤æ€§**

**å°ºå¯¸**ï¼šå¦‚ `h-*`ã€`w-*`ã€`p-*`ã€`m-*`ï¼Œç”¨äºå®šä¹‰å¤§å°å’Œè¾¹è·

**å¸ƒå±€**ï¼šå¦‚ `flex`ã€`grid`ã€`block`ï¼Œç”¨äºå®šä¹‰å¸ƒå±€çš„åŸºæœ¬ç»“æ„

**å¯¹é½ç±»**ï¼šå¦‚ `justify-*`ã€`items-*`ã€`text-*`ï¼Œç”¨äºå…ƒç´ å¯¹é½å’Œå†…å®¹æ’å¸ƒ

**æ ·å¼ç±»æœ€å**ï¼šå¦‚ `bg-*`ã€`text-*`ã€`border-*`ï¼Œç”¨äºå®šä¹‰è§†è§‰æ ·å¼

**`div`** æ˜¯å—çº§å…ƒç´ ï¼Œé»˜è®¤å®½åº¦ä¼šå¡«å……å…¶çˆ¶å®¹å™¨ `<body>`ï¼Œå³è§†å£å®½åº¦, å› æ­¤ä¸éœ€è¦æ˜¾å¼åœ°è®¾ç½®å®½åº¦

```tsx
    <main className="flex min-h-screen flex-col items-center justify-between p-24 bg-green-100 text-4xl font-bold text-blue-600">
      hello
    </main>
```

**`flex`** å°†å®¹å™¨å˜ä¸º Flexboxï¼Œæ¿€æ´»å­å…ƒç´ çš„ä¸»è½´å’Œäº¤å‰è½´å¯¹é½èƒ½åŠ›

**ä¸»è½´ï¼ˆMain Axisï¼‰**ï¼šé»˜è®¤æ˜¯æ°´å¹³çš„ï¼ˆä»å·¦åˆ°å³ï¼‰ **äº¤å‰è½´ï¼ˆCross Axisï¼‰**ï¼šé»˜è®¤æ˜¯å‚ç›´çš„ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰

**`justify-center`** ä½¿ä¸»è½´ï¼ˆæ°´å¹³ï¼‰çš„å­å…ƒç´ å±…ä¸­

**`items-center`** ä½¿äº¤å‰è½´ï¼ˆå‚ç›´ï¼‰çš„å­å…ƒç´ å±…ä¸­

pæ˜¯paddingå³å†…è¾¹è·



## Responsive Design

**Tailwind CSS å¸¸ç”¨æ–­ç‚¹**

| æ–­ç‚¹åç§° | ç±»åå‰ç¼€ | æœ€å°å®½åº¦ï¼ˆpxï¼‰ | é€‚ç”¨è®¾å¤‡                         |
| -------- | -------- | -------------- | -------------------------------- |
| `sm`     | `sm:`    | `640px`        | **å°å±å¹•**ï¼ˆå¤§éƒ¨åˆ†æ‰‹æœºï¼‰         |
| `md`     | `md:`    | `768px`        | **ä¸­ç­‰å±å¹•**ï¼ˆå¹³æ¿ï¼‰             |
| `lg`     | `lg:`    | `1024px`       | **å¤§å±å¹•**ï¼ˆå°å‹ç¬”è®°æœ¬ã€æ¡Œé¢ç«¯ï¼‰ |
| `xl`     | `xl:`    | `1280px`       | **è¶…å¤§å±å¹•**ï¼ˆå¤§æ˜¾ç¤ºå™¨ã€é«˜æ¸…å±ï¼‰ |
| `2xl`    | `2xl:`   | `1536px`       | **è¶…å®½å±**ï¼ˆè¶…é«˜åˆ†è¾¨ç‡è®¾å¤‡ï¼‰     |



`md:pl-24` æ˜¯ **Tailwind CSS** æä¾›çš„ **å“åº”å¼ç±»**ï¼Œå®ƒçš„ä½œç”¨æ˜¯ **åœ¨å±å¹•å®½åº¦è¾¾åˆ° `md`ï¼ˆmedium, 768pxï¼‰æ—¶ï¼Œåº”ç”¨ `pl-24`**

**é˜²æ­¢ Sidebar è¦†ç›–å†…å®¹**ï¼šé€šå¸¸ Dashboard ä¾§è¾¹æ  (`Sidebar`) åœ¨å¤§å±å¹•ä¸Šæ˜¯å›ºå®šçš„ï¼Œå†…å®¹åŒºéœ€è¦ä¸€ä¸ª `padding-left` æ¥è®©å‡ºç©ºé—´

**é€‚é…ä¸åŒè®¾å¤‡**ï¼š

- **åœ¨å°å±å¹•ä¸Šï¼ˆ< 768pxï¼‰** â†’ æ²¡æœ‰ `pl-24`ï¼Œå†…å®¹ **ç´§è´´å·¦ä¾§**
- **åœ¨å¤§å±å¹•ä¸Šï¼ˆâ‰¥ 768pxï¼‰** â†’ `pl-24` è®©å‡º `96px` çš„å·¦ä¾§ç©ºé—´ï¼Œé¿å… Sidebar è¦†ç›–

`md:pl-24`ã€`lg:w-1/2` ç­‰ Tailwind å“åº”å¼ç±»ç›¸å½“äºæ‰‹å†™ `@media` è§„åˆ™ï¼Œå› æ­¤ **è¿™å°±æ˜¯å“åº”å¼è®¾è®¡**ï¼Œä¹Ÿæ˜¯ä¸€ç§**ç§»åŠ¨è®¾å¤‡å…¼å®¹**çš„æ–¹æ³•



# NextJS

ç”±äºnextjsä¼šæŒ‰ç…§æ–‡ä»¶ç»“æ„æ³¨å†Œurl

æˆ‘ä»¬ç”¨æ‹¬å·æŠŠä¸éœ€è¦urlçš„ç»„ä»¶æ‹¬èµ·æ¥

æ¯”å¦‚ (components)



# NextJS Dashboard

Inventory Management

## Frontend

nvm use 20

npx create-next-app@14.2.4 

inventory-management

yes except alias



åˆ›å»ºæ–°çš„tsxå¿«æ·é”®
tsrafce

### Navbar and Sidebar

åœ¨layout.tsxå¯¼å…¥è‡ªå®šä¹‰çš„ç»„ä»¶ `DashboardWrapper` 

```tsx
    <html lang="en">
      <body className={inter.className}>
        <DashboardWrapper>{children}</DashboardWrapper>
      </body>
    </html>
```

`children` ä»£è¡¨ **React ç»„ä»¶ä¸­çš„å­ç»„ä»¶**ï¼Œæ˜¯ä¸€ä¸ª **ç‰¹æ®Šçš„ props**ï¼Œç”¨äºç»„ä»¶åµŒå¥—æ—¶ **æ¸²æŸ“å­ç»„ä»¶çš„å†…å®¹**

è¯¥ç»„ä»¶

**åŒ…è£¹ `children`**ï¼Œä¸º `Dashboard` é¡µé¢æä¾›ç»Ÿä¸€çš„ç»“æ„

**å¯ä»¥ç”¨äºå…¨å±€çŠ¶æ€ç®¡ç†**ï¼ˆæ¯”å¦‚ `Redux`ï¼‰

**ç”¨äºæ§åˆ¶ Dashboard ç›¸å…³çš„ UI å¸ƒå±€**ï¼ˆæ¯”å¦‚ `Sidebar`ã€`Header`ï¼‰

![image-20250220215829895](D:\Notes\web-notes\assets\image-20250220215829895.png)

è°ƒæ•´ä¸»è¦å†…å®¹Dashboardçš„ä½ç½®

![image-20250220220039066](D:\Notes\web-notes\assets\image-20250220220039066.png)

è°ƒæ•´Sidebarå’ŒNavbarçš„ä½ç½®

![image-20250220221902407](D:\Notes\web-notes\assets\image-20250220221902407.png)

Navbarçœ‹è®¾è®¡å›¾ï¼Œåº”å½“æ˜¯ç”¨flexç»“æ„åœ¨ä¸¤è¾¹å„æœ‰ä¸€ä¸ªå­ç»“æ„

æ‰€ä»¥ç”¨ justify-between

![image-20250220223716510](D:\Notes\web-notes\assets\image-20250220223716510.png)

![image-20250220224746015](D:\Notes\web-notes\assets\image-20250220224746015.png)

### Redux

npm i react-redux @reduxjs/toolkit redux-persist



## Database

æ—§å¯†ç 





## Backend

npx prisma generate

npx prisma migrate dev --name init

```
Your database is now in sync with your schema.
```

npm run seed



# AWS

![image-20250221210117082](D:\Notes\web-notes\assets\image-20250221210117082.png)

**Virtual Private Cloud**

prevent other access

## Step1: VPC and Subnets

![image-20250221185554553](D:\Notes\web-notes\assets\image-20250221185554553.png)

**create subnets**

![image-20250221190153972](D:\Notes\web-notes\assets\image-20250221190153972.png)

![image-20250221190212214](D:\Notes\web-notes\assets\image-20250221190212214.png)

The public subnet can be accessed from the client through **VPC Internet Gateway** 

The private one can only be accessed inside VPC

**Create VPC Internet Gateway** 

name vpc-internet-gateway

the attach to VPC

result:

![image-20250221190854150](D:\Notes\web-notes\assets\image-20250221190854150.png)

**Create Route Table**

public-route-table

private-route-table

**Edit subnet associations**

![image-20250221191409692](D:\Notes\web-notes\assets\image-20250221191409692.png)

public - public

private - private



**Add route**

public-route-table

Edit routes

![image-20250221191705546](D:\Notes\web-notes\assets\image-20250221191705546.png)

result:

![image-20250221191805619](D:\Notes\web-notes\assets\image-20250221191805619.png)



## Step2: EC2

### 1. Connect to EC2 Instance

**Launch an instance**

ec2-nextjs-dashboard-backend

![image-20250221193018181](D:\Notes\web-notes\assets\image-20250221193018181.png)

![image-20250221193440010](D:\Notes\web-notes\assets\image-20250221193440010.png)

then

**connect to instance**

![image-20250221193523880](D:\Notes\web-notes\assets\image-20250221193523880.png)

we need to install nvm, node.js, git, pm2 (Production Process Manager for Node.js)



### 2. Install nvm and Node.js

- **Switch to superuser and install nvm:**

```
sudo su -
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
```

- **Activate nvm:**

```
. ~/.nvm/nvm.sh
```

- **Install the latest version of Node.js using nvm:**

```
nvm install node
```

- **Verify that Node.js and npm are installed:**

```
node -v
npm -v
```

![image-20250221194318159](D:\Notes\web-notes\assets\image-20250221194318159.png)

### 3. Install Git

- **Update the system and install Git:**

```
sudo yum update -y
sudo yum install git -y
```

- **Check Git version:**

```
git --version
```

![image-20250221195053922](D:\Notes\web-notes\assets\image-20250221195053922.png)

- **Clone your code repository from GitHub:**

```
git clone https://github.com/Kurumiku0712/nextjs-dashboard.git
```

- **Navigate to the directory and install packages:**

```
cd nextjs-dashboard
cd server
npm i
npm run dev
```

![image-20250221195936230](D:\Notes\web-notes\assets\image-20250221195936230.png)

- **Create Env File and Port 80:**![image-20250221200212129](D:\Notes\web-notes\assets\image-20250221200212129.png)

```
echo "PORT=80" > .env
npm run dev
```

![image-20250221200300255](D:\Notes\web-notes\assets\image-20250221200300255.png)

- copy the ipv4 from the instance details and paste it on browser

![image-20250221200554541](D:\Notes\web-notes\assets\image-20250221200554541.png)

- **Start the application:** (not executed)

```
npm start
```

### 4. Install pm2

- **Install pm2 globally:**

```
npm i pm2 -g
```

- **Create a pm2 ecosystem configuration file (inside server directory):**

```
module.exports = { apps : [{ name: 'inventory-management', script: 'npm', args: 'run dev', env: { NODE_ENV: 'development', ENV_VAR1: 'environment-variable', } }], };
```

- **Modify the ecosystem file if necessary:**

```
nano ecosystem.config.js
```

- **Set pm2 to restart automatically on system reboot:**

```
sudo env PATH=$PATH:$(which node) $(which pm2) startup systemd -u $USER --hp $(eval echo ~$USER)
```

![image-20250221201319425](D:\Notes\web-notes\assets\image-20250221201319425.png)

- **Start the application using the pm2 ecosystem configuration:**

```
pm2 start ecosystem.config.js
pm2 status
```

- **Useful pm2 commands:**

  - **Stop all processes:**

  ```
  pm2 stop all
  ```

  - **Delete all processes:**

  ```
  pm2 delete all
  ```

  - **Check status of processes:**

  ```
  pm2 status
  ```

  - **Monitor processes:**

  ```
  pm2 monit
  ```

![image-20250221201446210](D:\Notes\web-notes\assets\image-20250221201446210.png)

result:

![image-20250221201649195](D:\Notes\web-notes\assets\image-20250221201649195.png)

## Step3: RDS

Add one more subnet

![image-20250221202144689](D:\Notes\web-notes\assets\image-20250221202144689.png)

associate with route table

![image-20250221202229986](D:\Notes\web-notes\assets\image-20250221202229986.png)



**RDS** 

subnet groups

create DB subnet group

name: rds-subnet-group

![image-20250221202514442](D:\Notes\web-notes\assets\image-20250221202514442.png)

then

**Create database**

standard -> PostgreSQL -> Free tier

settings: rds-nextjs-dashboard

Master password: the old one

![image-20250221202936077](D:\Notes\web-notes\assets\image-20250221202936077.png)

![image-20250221203025057](D:\Notes\web-notes\assets\image-20250221203025057.png)

![image-20250221203042432](D:\Notes\web-notes\assets\image-20250221203042432.png)

![image-20250221203312948](D:\Notes\web-notes\assets\image-20250221203312948.png)

![image-20250221203839389](D:\Notes\web-notes\assets\image-20250221203839389.png)

![image-20250221203901103](D:\Notes\web-notes\assets\image-20250221203901103.png)

click the link on the Active

**Edit inbound rules**

![image-20250221204033786](D:\Notes\web-notes\assets\image-20250221204033786.png)

databases

![image-20250221204115477](D:\Notes\web-notes\assets\image-20250221204115477.png)

copy endpoint  

```
rds-nextjs-dashboard.c1s48k0ma5xt.ap-southeast-2.rds.amazonaws.com
```

remember:

DB name

nextjs_dashboard

and password



go to EC2 instances

connect, open the console

```
sudo su -
ls
cd nextjs-dashboard
cd server
nano .env
```

change 

```
DATABASE_URL="postgresql://postgres:ygy2000712.@localhost:5432/dashboard?schema=public"
```

to (be careful here, any detail error could cause fail)

```
DATABASE_URL="postgresql://postgres:ygy2000712.@rds-nextjs-dashboard.c1s48k0ma5xt.ap-southeast-2.rds.amazonaws.com/nextjs_dashboard?schema=public"
```

ctrl+o enter ctrl+x

```
pm2 status
pm2 delete all
npx prisma generate
npx prisma migrate dev --name init
npm run seed
pm2 start ecosystem.config.js
pm2 monit
```

![image-20250221205320902](D:\Notes\web-notes\assets\image-20250221205320902.png)

![image-20250221205451901](D:\Notes\web-notes\assets\image-20250221205451901.png)

ipv4/dashboard on browser

![image-20250221205729025](D:\Notes\web-notes\assets\image-20250221205729025.png)

result:

![image-20250221205854479](D:\Notes\web-notes\assets\image-20250221205854479.png)

## Step4: Amplify

create through guthub

![image-20250221210249013](D:\Notes\web-notes\assets\image-20250221210249013.png)

**Environment variables**

NEXT_PUBLIC_API_BASE_URL

the value based on ipv4 address: http://ipv4

https://main.d1zvv01v2vt4p6.amplifyapp.com/

console:

![image-20250221210954122](D:\Notes\web-notes\assets\image-20250221210954122.png)

result:

![image-20250221210107578](D:\Notes\web-notes\assets\image-20250221210107578.png)

## Step5: API Gateway

![image-20250221211252931](D:\Notes\web-notes\assets\image-20250221211252931.png)

**API name**: api-nextjs-dashboard

![image-20250221211406787](D:\Notes\web-notes\assets\image-20250221211406787.png)

![image-20250221211439672](D:\Notes\web-notes\assets\image-20250221211439672.png)



![image-20250221211504967](D:\Notes\web-notes\assets\image-20250221211504967.png)

invoke url

https://zvmu9dnhfh.execute-api.ap-southeast-2.amazonaws.com/prod

![image-20250221211625730](D:\Notes\web-notes\assets\image-20250221211625730.png)

redeploy





result:

![image-20250221211826125](D:\Notes\web-notes\assets\image-20250221211826125.png)

## Step6: S3

create bucket: s3-nextjs-dashboard

![image-20250221212335587](D:\Notes\web-notes\assets\image-20250221212335587.png)

permission -> policy

```
{
    "Version": "2012-10-17",
    "Statement":[
        {
            "Sid": "PublicReadGetObject",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::s3-nextjs-dashboard/*"
        }
    ]
}
```

upload images

go to client -> next.config.mjs

```js
/** @type {import('next').NextConfig} */
const nextConfig = {
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "s3-nextjs-dashboard.s3.ap-southeast-2.amazonaws.com",
        port: "",
        pathname: "/**",
      },
    ],
  },
};

export default nextConfig;
```

